(function(A,B){typeof exports==="object"&&typeof module!=="undefined"?B(exports):typeof define==="function"&&define.amd?define(["exports"],B):(B((A.echarts={})))}(this,(function(a7){var DE;if(typeof window!=="undefined"){DE=window.__DEV__}else{if(typeof global!=="undefined"){DE=global.__DEV__}}if(typeof DE==="undefined"){DE=true}var W1=DE;var Ba=2311;var BK=function(){return Ba++};var fS={};if(typeof wx!=="undefined"){fS={browser:{},os:{},node:false,wxa:true,canvasSupported:true,svgSupported:false,touchEventsSupported:true}}else{if(typeof document==="undefined"&&typeof self!=="undefined"){fS={browser:{},os:{},node:false,worker:true,canvasSupported:true}}else{if(typeof navigator==="undefined"){fS={browser:{},os:{},node:true,worker:false,canvasSupported:true,svgSupported:true}}else{fS=Ge(navigator.userAgent)}}}var QH=fS;function Ge(PI){var e={};var Z={};var k=PI.match(/Firefox\/([\d.]+)/);var v=PI.match(/MSIE\s([\d.]+)/)||PI.match(/Trident\/.+?rv:(([\d.]+))/);var i=PI.match(/Edge\/([\d.]+)/);var m=(/micromessenger/i).test(PI);if(k){Z.firefox=true;Z.version=k[1]}if(v){Z.ie=true;Z.version=v[1]}if(i){Z.edge=true;Z.version=i[1]}if(m){Z.weChat=true}return{browser:Z,os:e,node:false,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect!=="undefined",touchEventsSupported:"ontouchstart" in window&&!Z.ie&&!Z.edge,pointerEventsSupported:"onpointerdown" in window&&(Z.edge||(Z.ie&&Z.version>=11))}}var OZ={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1};var aJ={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1};var NN=Object.prototype.toString;var Sh=Array.prototype;var Qq=Sh.forEach;var F8=Sh.filter;var DG=Sh.slice;var K3=Sh.map;var IA=Sh.reduce;var V5={};function CN(e,Z){if(e==="createCanvas"){J7=null}V5[e]=Z}function fJ(m){if(m==null||typeof m!="object"){return m}var PI=m;var k=NN.call(m);if(k==="[object Array]"){if(!KS(m)){PI=[];for(var e=0,v=m.length;e<v;e++){PI[e]=fJ(m[e])}}}else{if(aJ[k]){if(!KS(m)){var WH=m.constructor;if(m.constructor.from){PI=WH.from(m)}else{PI=new WH(m.length);for(var e=0,v=m.length;e<v;e++){PI[e]=fJ(m[e])}}}}else{if(!OZ[k]&&!KS(m)&&!Zp(m)){PI={};for(var Z in m){if(m.hasOwnProperty(Z)){PI[Z]=fJ(m[Z])}}}}}return PI}function LB(k,e,i){if(!EJ(e)||!EJ(k)){return i?fJ(e):k}for(var Z in e){if(e.hasOwnProperty(Z)){var m=k[Z];var v=e[Z];if(EJ(v)&&EJ(m)&&!cW(v)&&!cW(m)&&!Zp(v)&&!Zp(m)&&!IQ(v)&&!IQ(m)&&!KS(v)&&!KS(m)){LB(m,v,i)}else{if(i||!(Z in k)){k[Z]=fJ(e[Z],true)}}}}return k}function F5(k,v){var e=k[0];for(var Z=1,m=k.length;Z<m;Z++){e=LB(e,k[Z],v)}return e}function XN(i,e){for(var Z in e){if(e.hasOwnProperty(Z)){i[Z]=e[Z]}}return i}function IK(k,e,i){for(var Z in e){if(e.hasOwnProperty(Z)&&(i?e[Z]!=null:k[Z]==null)){k[Z]=e[Z]}}return k}var gi=function(){return V5.createCanvas()};V5.createCanvas=function(){return document.createElement("canvas")};var J7;function MY(){if(!J7){J7=gi().getContext("2d")}return J7}function FT(Z,m){if(Z){if(Z.indexOf){return Z.indexOf(m)}for(var e=0,k=Z.length;e<k;e++){if(Z[e]===m){return e}}}return -1}function K8(k,i){var Z=k.prototype;function e(){}e.prototype=i.prototype;k.prototype=new e();for(var m in Z){k.prototype[m]=Z[m]}k.prototype.constructor=k;k.superClass=i}function eG(i,Z,e){i="prototype" in i?i.prototype:i;Z="prototype" in Z?Z.prototype:Z;IK(i,Z,e)}function Lr(Z){if(!Z){return}if(typeof Z=="string"){return false}return typeof Z.length=="number"}function Dy(k,Z,e){if(!(k&&Z)){return}if(k.forEach&&k.forEach===Qq){k.forEach(Z,e)}else{if(k.length===+k.length){for(var m=0,v=k.length;m<v;m++){Z.call(e,k[m],m,k)}}else{for(var PI in k){if(k.hasOwnProperty(PI)){Z.call(e,k[PI],PI,k)}}}}}function QL(k,Z,e){if(!(k&&Z)){return}if(k.map&&k.map===K3){return k.map(Z,e)}else{var m=[];for(var v=0,PI=k.length;v<PI;v++){m.push(Z.call(e,k[v],v,k))}return m}}function Pr(k,Z,m,e){if(!(k&&Z)){return}if(k.reduce&&k.reduce===IA){return k.reduce(Z,m,e)}else{for(var v=0,PI=k.length;v<PI;v++){m=Z.call(e,m,k[v],v,k)}return m}}function bs(k,Z,e){if(!(k&&Z)){return}if(k.filter&&k.filter===F8){return k.filter(Z,e)}else{var m=[];for(var v=0,PI=k.length;v<PI;v++){if(Z.call(e,k[v],v,k)){m.push(k[v])}}return m}}function fa(k,Z,e){if(!(k&&Z)){return}for(var m=0,v=k.length;m<v;m++){if(Z.call(e,k[m],m,k)){return k[m]}}}function ei(e,Z){var i=DG.call(arguments,2);return function(){return e.apply(Z,i.concat(DG.call(arguments)))}}function c3(Z){var e=DG.call(arguments,1);return function(){return Z.apply(this,e.concat(DG.call(arguments)))}}function cW(Z){return NN.call(Z)==="[object Array]"}function Pl(Z){return typeof Z==="function"}function Ei(Z){return NN.call(Z)==="[object String]"}function EJ(e){var Z=typeof e;return Z==="function"||(!!e&&Z=="object")}function IQ(Z){return !!OZ[NN.call(Z)]}function gQ(Z){return !!aJ[NN.call(Z)]}function Zp(Z){return typeof Z==="object"&&typeof Z.nodeType==="number"&&typeof Z.ownerDocument==="object"}function gA(Z){return Z!==Z}function ER(k){for(var Z=0,e=arguments.length;Z<e;Z++){if(arguments[Z]!=null){return arguments[Z]}}}function Vi(Z,e){return Z!=null?Z:e}function Vh(Z,e,i){return Z!=null?Z:e!=null?e:i}function Ca(){return Function.call.apply(DG,arguments)}function VW(e){if(typeof(e)==="number"){return[e,e,e,e]}var Z=e.length;if(Z===2){return[e[0],e[1],e[0],e[1]]}else{if(Z===3){return[e[0],e[1],e[2],e[1]]}}return e}function SR(Z,e){if(!Z){throw new Error(e)}}function FJ(Z){if(Z==null){return null}else{if(typeof Z.trim==="function"){return Z.trim()}else{return Z.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}}var ed="__ec_primitive__";function QD(Z){Z[ed]=true}function KS(Z){return Z[ed]}function KV(Z){var k=cW(Z);var e=this;(Z instanceof KV)?Z.each(i):(Z&&Dy(Z,i));function i(v,m){k?e.set(v,m):e.set(m,v)}}KV.prototype={constructor:KV,get:function(Z){return this.hasOwnProperty(Z)?this[Z]:null},set:function(Z,e){return(this[Z]=e)},each:function(Z,e){e!==void 0&&(Z=ei(Z,e));for(var i in this){this.hasOwnProperty(i)&&Z(this[i],i)}},removeKey:function(Z){delete this[Z]}};function Fj(Z){return new KV(Z)}function c0(v,k){var e=new v.constructor(v.length+k.length);for(var Z=0;Z<v.length;Z++){e[Z]=v[Z]}var m=v.length;for(Z=0;Z<k.length;Z++){e[Z+m]=k[Z]}return e}function gw(){}var dM=(Object.freeze||Object)({$override:CN,clone:fJ,merge:LB,mergeAll:F5,extend:XN,defaults:IK,createCanvas:gi,getContext:MY,indexOf:FT,inherits:K8,mixin:eG,isArrayLike:Lr,each:Dy,map:QL,reduce:Pr,filter:bs,find:fa,bind:ei,curry:c3,isArray:cW,isFunction:Pl,isString:Ei,isObject:EJ,isBuiltInObject:IQ,isTypedArray:gQ,isDom:Zp,eqNaN:gA,retrieve:ER,retrieve2:Vi,retrieve3:Vh,slice:Ca,normalizeCssArray:VW,assert:SR,trim:FJ,setAsPrimitive:QD,isPrimitive:KS,createHashMap:Fj,concatArray:c0,noop:gw});var B2=typeof Float32Array==="undefined"?Array:Float32Array;function dx(e,i){var Z=new B2(2);if(e==null){e=0}if(i==null){i=0}Z[0]=e;Z[1]=i;return Z}function HF(Z,e){Z[0]=e[0];Z[1]=e[1];return Z}function ZG(Z){var e=new B2(2);e[0]=Z[0];e[1]=Z[1];return e}function XD(Z,i,e){Z[0]=i;Z[1]=e;return Z}function bi(Z,e,i){Z[0]=e[0]+i[0];Z[1]=e[1]+i[1];return Z}function HA(Z,e,k,i){Z[0]=e[0]+k[0]*i;Z[1]=e[1]+k[1]*i;return Z}function NW(Z,e,i){Z[0]=e[0]-i[0];Z[1]=e[1]-i[1];return Z}function bZ(Z){return Math.sqrt(gP(Z))}var MR=bZ;function gP(Z){return Z[0]*Z[0]+Z[1]*Z[1]}var R4=gP;function RD(Z,e,i){Z[0]=e[0]*i[0];Z[1]=e[1]*i[1];return Z}function eC(Z,e,i){Z[0]=e[0]/i[0];Z[1]=e[1]/i[1];return Z}function j(Z,e){return Z[0]*e[0]+Z[1]*e[1]}function Cv(e,i,Z){e[0]=i[0]*Z;e[1]=i[1]*Z;return e}function dm(e,i){var Z=bZ(i);if(Z===0){e[0]=0;e[1]=0}else{e[0]=i[0]/Z;e[1]=i[1]/Z}return e}function NG(Z,e){return Math.sqrt((Z[0]-e[0])*(Z[0]-e[0])+(Z[1]-e[1])*(Z[1]-e[1]))}var V1=NG;function f6(Z,e){return(Z[0]-e[0])*(Z[0]-e[0])+(Z[1]-e[1])*(Z[1]-e[1])}var Gj=f6;function KC(Z,e){Z[0]=-e[0];Z[1]=-e[1];return Z}function aP(Z,e,k,i){Z[0]=e[0]+i*(k[0]-e[0]);Z[1]=e[1]+i*(k[1]-e[1]);return Z}function Ip(Z,e,i){var k=e[0];var PI=e[1];Z[0]=i[0]*k+i[2]*PI+i[4];Z[1]=i[1]*k+i[3]*PI+i[5];return Z}function fw(Z,e,i){Z[0]=Math.min(e[0],i[0]);Z[1]=Math.min(e[1],i[1]);return Z}function QO(Z,e,i){Z[0]=Math.max(e[0],i[0]);Z[1]=Math.max(e[1],i[1]);return Z}var FV=(Object.freeze||Object)({create:dx,copy:HF,clone:ZG,set:XD,add:bi,scaleAndAdd:HA,sub:NW,len:bZ,length:MR,lenSquare:gP,lengthSquare:R4,mul:RD,div:eC,dot:j,scale:Cv,normalize:dm,distance:NG,dist:V1,distanceSquare:f6,distSquare:Gj,negate:KC,lerp:aP,applyTransform:Ip,min:fw,max:QO});function Da(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}Da.prototype={constructor:Da,_dragStart:function(Z){var i=Z.target;if(i&&i.draggable){this._draggingTarget=i;i.dragging=true;this._x=Z.offsetX;this._y=Z.offsetY;this.dispatchToElement(Of(i,Z),"dragstart",Z.event)}},_drag:function(Z){var i=this._draggingTarget;if(i){var PI=Z.offsetX;var WH=Z.offsetY;var v=PI-this._x;var m=WH-this._y;this._x=PI;this._y=WH;i.drift(v,m,Z);this.dispatchToElement(Of(i,Z),"drag",Z.event);var XY=this.findHover(PI,WH,i).target;var k=this._dropTarget;this._dropTarget=XY;if(i!==XY){if(k&&XY!==k){this.dispatchToElement(Of(k,Z),"dragleave",Z.event)}if(XY&&XY!==k){this.dispatchToElement(Of(XY,Z),"dragenter",Z.event)}}}},_dragEnd:function(Z){var i=this._draggingTarget;if(i){i.dragging=false}this.dispatchToElement(Of(i,Z),"dragend",Z.event);if(this._dropTarget){this.dispatchToElement(Of(this._dropTarget,Z),"drop",Z.event)}this._draggingTarget=null;this._dropTarget=null}};function Of(i,Z){return{target:i,topTarget:Z&&Z.topTarget}}var IT=Array.prototype.slice;var cx=function(){this._$handlers={}};cx.prototype={constructor:cx,one:function(m,k,Z){var v=this._$handlers;if(!k||!m){return this}if(!v[m]){v[m]=[]}for(var e=0;e<v[m].length;e++){if(v[m][e].h===k){return this}}v[m].push({h:k,one:true,ctx:Z||this});return this},on:function(m,k,Z){var v=this._$handlers;if(!k||!m){return this}if(!v[m]){v[m]=[]}for(var e=0;e<v[m].length;e++){if(v[m][e].h===k){return this}}v[m].push({h:k,one:false,ctx:Z||this});return this},isSilent:function(Z){var e=this._$handlers;return e[Z]&&e[Z].length},off:function(v,k){var PI=this._$handlers;if(!v){this._$handlers={};return this}if(k){if(PI[v]){var Z=[];for(var e=0,m=PI[v].length;e<m;e++){if(PI[v][e]["h"]!=k){Z.push(PI[v][e])}}PI[v]=Z}if(PI[v]&&PI[v].length===0){delete PI[v]}}else{delete PI[v]}return this},trigger:function(Z){if(this._$handlers[Z]){var PI=arguments;var k=PI.length;if(k>3){PI=IT.call(PI,1)}var v=this._$handlers[Z];var m=v.length;for(var e=0;e<m;){switch(k){case 1:v[e]["h"].call(v[e]["ctx"]);break;case 2:v[e]["h"].call(v[e]["ctx"],PI[1]);break;case 3:v[e]["h"].call(v[e]["ctx"],PI[1],PI[2]);break;default:v[e]["h"].apply(v[e]["ctx"],PI);break}if(v[e]["one"]){v.splice(e,1);m--}else{e++}}}return this},triggerWithContext:function(Z){if(this._$handlers[Z]){var WH=arguments;var k=WH.length;if(k>4){WH=IT.call(WH,1,WH.length-1)}var v=WH[WH.length-1];var PI=this._$handlers[Z];var m=PI.length;for(var e=0;e<m;){switch(k){case 1:PI[e]["h"].call(v);break;case 2:PI[e]["h"].call(v,WH[1]);break;case 3:PI[e]["h"].call(v,WH[1],WH[2]);break;default:PI[e]["h"].apply(v,WH);break}if(PI[e]["one"]){PI.splice(e,1);m--}else{e++}}}return this}};var Fc="silent";function Vc(Z,e,i){return{type:Z,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:false,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function Mt(){}Mt.prototype.dispose=function(){};var PR=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var Jz=function(Z,e,i,k){cx.call(this);this.storage=Z;this.painter=e;this.painterRoot=k;i=i||new Mt();this.proxy=null;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;Da.call(this);this.setHandlerProxy(i)};Jz.prototype={constructor:Jz,setHandlerProxy:function(Z){if(this.proxy){this.proxy.dispose()}if(Z){Dy(PR,function(e){Z.on&&Z.on(e,this[e],this)},this);Z.handler=this}this.proxy=Z},mousemove:function(e){var m=e.zrX;var v=e.zrY;var PI=this._hovered;var k=PI.target;if(k&&!k.__zr){PI=this.findHover(PI.x,PI.y);k=PI.target}var WH=this._hovered=this.findHover(m,v);var i=WH.target;var Z=this.proxy;Z.setCursor&&Z.setCursor(i?i.cursor:"default");if(k&&i!==k){this.dispatchToElement(PI,"mouseout",e)}this.dispatchToElement(WH,"mousemove",e);if(i&&i!==k){this.dispatchToElement(WH,"mouseover",e)}},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var i=e.toElement||e.relatedTarget;var Z;do{i=i&&i.parentNode}while(i&&i.nodeType!=9&&!(Z=i===this.painterRoot));!Z&&this.trigger("globalout",{event:e})},resize:function(Z){this._hovered={}},dispatch:function(e,i){var Z=this[e];Z&&Z.call(this,i)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var Z=this.proxy;Z.setCursor&&Z.setCursor(e)},dispatchToElement:function(i,e,v){i=i||{};var Z=i.target;if(Z&&Z.silent){return}var m="on"+e;var k=Vc(e,i,v);while(Z){Z[m]&&(k.cancelBubble=Z[m].call(Z,k));Z.trigger(e,k);Z=Z.parent;if(k.cancelBubble){break}}if(!k.cancelBubble){this.trigger(e,k);this.painter&&this.painter.eachOtherLayer(function(PI){if(typeof(PI[m])=="function"){PI[m].call(PI,k)}if(PI.trigger){PI.trigger(e,k)}})}},findHover:function(PI,WH,m){var k=this.storage.getDisplayList();var v={x:PI,y:WH};for(var Z=k.length-1;Z>=0;Z--){var e;if(k[Z]!==m&&!k[Z].ignore&&(e=XS(k[Z],PI,WH))){!v.topTarget&&(v.topTarget=k[Z]);if(e!==Fc){v.target=k[Z];break}}}return v}};Dy(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Z){Jz.prototype[Z]=function(i){var e=this.findHover(i.zrX,i.zrY);var k=e.target;if(Z==="mousedown"){this._downEl=k;this._downPoint=[i.zrX,i.zrY];this._upEl=k}else{if(Z==="mouseup"){this._upEl=k}else{if(Z==="click"){if(this._downEl!==this._upEl||!this._downPoint||V1(this._downPoint,[i.zrX,i.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(e,Z,i)}});function XS(e,i,k){if(e[e.rectHover?"rectContain":"contain"](i,k)){var Z=e;var m;while(Z){if(Z.clipPath&&!Z.clipPath.contain(i,k)){return false}if(Z.silent){m=true}Z=Z.parent}return m?Fc:true}return false}eG(Jz,cx);eG(Jz,Da);var dr=typeof Float32Array==="undefined"?Array:Float32Array;function HZ(){var Z=new dr(6);es(Z);return Z}function es(Z){Z[0]=1;Z[1]=0;Z[2]=0;Z[3]=1;Z[4]=0;Z[5]=0;return Z}function dg(Z,e){Z[0]=e[0];Z[1]=e[1];Z[2]=e[2];Z[3]=e[3];Z[4]=e[4];Z[5]=e[5];return Z}function PU(Z,e,i){var XY=e[0]*i[0]+e[2]*i[1];var k=e[1]*i[0]+e[3]*i[1];var m=e[0]*i[2]+e[2]*i[3];var WH=e[1]*i[2]+e[3]*i[3];var PI=e[0]*i[4]+e[2]*i[5]+e[4];var v=e[1]*i[4]+e[3]*i[5]+e[5];Z[0]=XY;Z[1]=k;Z[2]=m;Z[3]=WH;Z[4]=PI;Z[5]=v;return Z}function Zc(Z,i,e){Z[0]=i[0];Z[1]=i[1];Z[2]=i[2];Z[3]=i[3];Z[4]=i[4]+e[0];Z[5]=i[5]+e[1];return Z}function eX(e,XY,v){var i=XY[0];var WH=XY[2];var cc=XY[4];var k=XY[1];var Z=XY[3];var Z2=XY[5];var m=Math.sin(v);var PI=Math.cos(v);e[0]=i*PI+k*m;e[1]=-i*m+k*PI;e[2]=WH*PI+Z*m;e[3]=-WH*m+PI*Z;e[4]=PI*cc+m*Z2;e[5]=PI*Z2-m*cc;return e}function KI(Z,k,e){var i=e[0];var m=e[1];Z[0]=k[0]*i;Z[1]=k[1]*m;Z[2]=k[2]*i;Z[3]=k[3]*m;Z[4]=k[4]*i;Z[5]=k[5]*m;return Z}function WL(e,PI){var i=PI[0];var v=PI[2];var XY=PI[4];var k=PI[1];var Z=PI[3];var WH=PI[5];var m=i*Z-k*v;if(!m){return null}m=1/m;e[0]=Z*m;e[1]=-k*m;e[2]=-v*m;e[3]=i*m;e[4]=(v*WH-Z*XY)*m;e[5]=(k*XY-i*WH)*m;return e}function ZF(e){var Z=HZ();dg(Z,e);return Z}var ba=(Object.freeze||Object)({create:HZ,identity:es,copy:dg,mul:PU,translate:Zc,rotate:eX,scale:KI,invert:WL,clone:ZF});var GA=es;var Pb=5e-05;function bV(Z){return Z>Pb||Z<-Pb}var T2=function(Z){Z=Z||{};if(!Z.position){this.position=[0,0]}if(Z.rotation==null){this.rotation=0}if(!Z.scale){this.scale=[1,1]}this.origin=this.origin||null};var Dd=T2.prototype;Dd.transform=null;Dd.needLocalTransform=function(){return bV(this.rotation)||bV(this.position[0])||bV(this.position[1])||bV(this.scale[0]-1)||bV(this.scale[1]-1)};Dd.updateTransform=function(){var k=this.parent;var Z=k&&k.transform;var e=this.needLocalTransform();var i=this.transform;if(!(e||Z)){i&&GA(i);return}i=i||HZ();if(e){this.getLocalTransform(i)}else{GA(i)}if(Z){if(e){PU(i,k.transform,i)}else{dg(i,k.transform)}}this.transform=i;this.invTransform=this.invTransform||HZ();WL(this.invTransform,i)};Dd.getLocalTransform=function(Z){return T2.getLocalTransform(this,Z)};Dd.setTransform=function(e){var Z=this.transform;var i=e.dpr||1;if(Z){e.setTransform(i*Z[0],i*Z[1],i*Z[2],i*Z[3],i*Z[4],i*Z[5])}else{e.setTransform(i,0,0,i,0,0)}};Dd.restoreTransform=function(Z){var e=Z.dpr||1;Z.setTransform(e,0,0,e,0,0)};var CR=[];Dd.decomposeTransform=function(){if(!this.transform){return}var v=this.parent;var i=this.transform;if(v&&v.transform){PU(CR,v.invTransform,i);i=CR}var e=i[0]*i[0]+i[1]*i[1];var k=i[2]*i[2]+i[3]*i[3];var Z=this.position;var PI=this.scale;if(bV(e-1)){e=Math.sqrt(e)}if(bV(k-1)){k=Math.sqrt(k)}if(i[0]<0){e=-e}if(i[3]<0){k=-k}Z[0]=i[4];Z[1]=i[5];PI[0]=e;PI[1]=k;this.rotation=Math.atan2(-i[1]/k,i[0]/e)};Dd.getGlobalScale=function(){var e=this.transform;if(!e){return[1,1]}var Z=Math.sqrt(e[0]*e[0]+e[1]*e[1]);var i=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0){Z=-Z}if(e[3]<0){i=-i}return[Z,i]};Dd.transformCoordToLocal=function(Z,e){var k=[Z,e];var i=this.invTransform;if(i){Ip(k,k,i)}return k};Dd.transformCoordToGlobal=function(e,i){var k=[e,i];var Z=this.transform;if(Z){Ip(k,k,Z)}return k};T2.getLocalTransform=function(v,k){k=k||[];GA(k);var e=v.origin;var PI=v.scale||[1,1];var i=v.rotation||0;var Z=v.position||[0,0];if(e){k[4]-=e[0];k[5]-=e[1]}KI(k,k,PI);if(i){eX(k,k,i)}if(e){k[4]+=e[0];k[5]+=e[1]}k[4]+=Z[0];k[5]+=Z[1];return k};var gq={linear:function(Z){return Z},quadraticIn:function(Z){return Z*Z},quadraticOut:function(Z){return Z*(2-Z)},quadraticInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z}return -0.5*(--Z*(Z-2)-1)},cubicIn:function(Z){return Z*Z*Z},cubicOut:function(Z){return --Z*Z*Z+1},cubicInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z*Z}return 0.5*((Z-=2)*Z*Z+2)},quarticIn:function(Z){return Z*Z*Z*Z},quarticOut:function(Z){return 1-(--Z*Z*Z*Z)},quarticInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z*Z*Z}return -0.5*((Z-=2)*Z*Z*Z-2)},quinticIn:function(Z){return Z*Z*Z*Z*Z},quinticOut:function(Z){return --Z*Z*Z*Z*Z+1},quinticInOut:function(Z){if((Z*=2)<1){return 0.5*Z*Z*Z*Z*Z}return 0.5*((Z-=2)*Z*Z*Z*Z+2)},sinusoidalIn:function(Z){return 1-Math.cos(Z*Math.PI/2)},sinusoidalOut:function(Z){return Math.sin(Z*Math.PI/2)},sinusoidalInOut:function(Z){return 0.5*(1-Math.cos(Math.PI*Z))},exponentialIn:function(Z){return Z===0?0:Math.pow(1024,Z-1)},exponentialOut:function(Z){return Z===1?1:1-Math.pow(2,-10*Z)},exponentialInOut:function(Z){if(Z===0){return 0}if(Z===1){return 1}if((Z*=2)<1){return 0.5*Math.pow(1024,Z-1)}return 0.5*(-Math.pow(2,-10*(Z-1))+2)},circularIn:function(Z){return 1-Math.sqrt(1-Z*Z)},circularOut:function(Z){return Math.sqrt(1-(--Z*Z))},circularInOut:function(Z){if((Z*=2)<1){return -0.5*(Math.sqrt(1-Z*Z)-1)}return 0.5*(Math.sqrt(1-(Z-=2)*Z)+1)},elasticIn:function(m){var Z;var i=0.1;var e=0.4;if(m===0){return 0}if(m===1){return 1}if(!i||i<1){i=1;Z=e/4}else{Z=e*Math.asin(1/i)/(2*Math.PI)}return -(i*Math.pow(2,10*(m-=1))*Math.sin((m-Z)*(2*Math.PI)/e))},elasticOut:function(m){var Z;var i=0.1;var e=0.4;if(m===0){return 0}if(m===1){return 1}if(!i||i<1){i=1;Z=e/4}else{Z=e*Math.asin(1/i)/(2*Math.PI)}return(i*Math.pow(2,-10*m)*Math.sin((m-Z)*(2*Math.PI)/e)+1)},elasticInOut:function(m){var Z;var i=0.1;var e=0.4;if(m===0){return 0}if(m===1){return 1}if(!i||i<1){i=1;Z=e/4}else{Z=e*Math.asin(1/i)/(2*Math.PI)}if((m*=2)<1){return -0.5*(i*Math.pow(2,10*(m-=1))*Math.sin((m-Z)*(2*Math.PI)/e))}return i*Math.pow(2,-10*(m-=1))*Math.sin((m-Z)*(2*Math.PI)/e)*0.5+1},backIn:function(e){var Z=1.70158;return e*e*((Z+1)*e-Z)},backOut:function(e){var Z=1.70158;return --e*e*((Z+1)*e+Z)+1},backInOut:function(e){var Z=1.70158*1.525;if((e*=2)<1){return 0.5*(e*e*((Z+1)*e-Z))}return 0.5*((e-=2)*e*((Z+1)*e+Z)+2)},bounceIn:function(Z){return 1-gq.bounceOut(1-Z)},bounceOut:function(Z){if(Z<(1/2.75)){return 7.5625*Z*Z}else{if(Z<(2/2.75)){return 7.5625*(Z-=(1.5/2.75))*Z+0.75}else{if(Z<(2.5/2.75)){return 7.5625*(Z-=(2.25/2.75))*Z+0.9375}else{return 7.5625*(Z-=(2.625/2.75))*Z+0.984375}}}},bounceInOut:function(Z){if(Z<0.5){return gq.bounceIn(Z*2)*0.5}return gq.bounceOut(Z*2-1)*0.5+0.5}};function cD(Z){this._target=Z.target;this._life=Z.life||1000;this._delay=Z.delay||0;this._initialized=false;this.loop=Z.loop==null?false:Z.loop;this.gap=Z.gap||0;this.easing=Z.easing||"Linear";this.onframe=Z.onframe;this.ondestroy=Z.ondestroy;this.onrestart=Z.onrestart;this._pausedTime=0;this._paused=false}cD.prototype={constructor:cD,step:function(Z,v){if(!this._initialized){this._startTime=Z+this._delay;this._initialized=true}if(this._paused){this._pausedTime+=v;return}var e=(Z-this._startTime-this._pausedTime)/this._life;if(e<0){return}e=Math.min(e,1);var k=this.easing;var i=typeof k=="string"?gq[k]:k;var m=typeof i==="function"?i(e):e;this.fire("frame",m);if(e==1){if(this.loop){this.restart(Z);return"restart"}this._needsRemove=true;return"destroy"}return null},restart:function(Z){var e=(Z-this._startTime-this._pausedTime)%this._life;this._startTime=Z-e+this.gap;this._pausedTime=0;this._needsRemove=false},fire:function(Z,e){Z="on"+Z;if(this[Z]){this[Z](this._target,e)}},pause:function(){this._paused=true},resume:function(){this._paused=false}};var ZM=function(){this.head=null;this.tail=null;this._len=0};var LW=ZM.prototype;LW.insert=function(e){var Z=new Qh(e);this.insertEntry(Z);return Z};LW.insertEntry=function(Z){if(!this.head){this.head=this.tail=Z}else{this.tail.next=Z;Z.prev=this.tail;Z.next=null;this.tail=Z}this._len++};LW.remove=function(e){var i=e.prev;var Z=e.next;if(i){i.next=Z}else{this.head=Z}if(Z){Z.prev=i}else{this.tail=i}e.next=e.prev=null;this._len--};LW.len=function(){return this._len};LW.clear=function(){this.head=this.tail=null;this._len=0};var Qh=function(Z){this.value=Z;this.next;this.prev};var ek=function(Z){this._list=new ZM();this._map={};this._maxSize=Z||10;this._lastRemovedEntry=null};var BH=ek.prototype;BH.put=function(m,k){var Z=this._list;var WH=this._map;var i=null;if(WH[m]==null){var PI=Z.len();var e=this._lastRemovedEntry;if(PI>=this._maxSize&&PI>0){var v=Z.head;Z.remove(v);delete WH[v.key];i=v.value;this._lastRemovedEntry=v}if(e){e.value=k}else{e=new Qh(k)}e.key=m;Z.insertEntry(e);WH[m]=e}return i};BH.get=function(Z){var e=this._map[Z];var i=this._list;if(e!=null){if(e!==i.tail){i.remove(e);i.insertEntry(e)}return e.value}};BH.clear=function(){this._list.clear();this._map={}};var KU={"transparent":[0,0,0,0],"aliceblue":[240,248,255,1],"antiquewhite":[250,235,215,1],"aqua":[0,255,255,1],"aquamarine":[127,255,212,1],"azure":[240,255,255,1],"beige":[245,245,220,1],"bisque":[255,228,196,1],"black":[0,0,0,1],"blanchedalmond":[255,235,205,1],"blue":[0,0,255,1],"blueviolet":[138,43,226,1],"brown":[165,42,42,1],"burlywood":[222,184,135,1],"cadetblue":[95,158,160,1],"chartreuse":[127,255,0,1],"chocolate":[210,105,30,1],"coral":[255,127,80,1],"cornflowerblue":[100,149,237,1],"cornsilk":[255,248,220,1],"crimson":[220,20,60,1],"cyan":[0,255,255,1],"darkblue":[0,0,139,1],"darkcyan":[0,139,139,1],"darkgoldenrod":[184,134,11,1],"darkgray":[169,169,169,1],"darkgreen":[0,100,0,1],"darkgrey":[169,169,169,1],"darkkhaki":[189,183,107,1],"darkmagenta":[139,0,139,1],"darkolivegreen":[85,107,47,1],"darkorange":[255,140,0,1],"darkorchid":[153,50,204,1],"darkred":[139,0,0,1],"darksalmon":[233,150,122,1],"darkseagreen":[143,188,143,1],"darkslateblue":[72,61,139,1],"darkslategray":[47,79,79,1],"darkslategrey":[47,79,79,1],"darkturquoise":[0,206,209,1],"darkviolet":[148,0,211,1],"deeppink":[255,20,147,1],"deepskyblue":[0,191,255,1],"dimgray":[105,105,105,1],"dimgrey":[105,105,105,1],"dodgerblue":[30,144,255,1],"firebrick":[178,34,34,1],"floralwhite":[255,250,240,1],"forestgreen":[34,139,34,1],"fuchsia":[255,0,255,1],"gainsboro":[220,220,220,1],"ghostwhite":[248,248,255,1],"gold":[255,215,0,1],"goldenrod":[218,165,32,1],"gray":[128,128,128,1],"green":[0,128,0,1],"greenyellow":[173,255,47,1],"grey":[128,128,128,1],"honeydew":[240,255,240,1],"hotpink":[255,105,180,1],"indianred":[205,92,92,1],"indigo":[75,0,130,1],"ivory":[255,255,240,1],"khaki":[240,230,140,1],"lavender":[230,230,250,1],"lavenderblush":[255,240,245,1],"lawngreen":[124,252,0,1],"lemonchiffon":[255,250,205,1],"lightblue":[173,216,230,1],"lightcoral":[240,128,128,1],"lightcyan":[224,255,255,1],"lightgoldenrodyellow":[250,250,210,1],"lightgray":[211,211,211,1],"lightgreen":[144,238,144,1],"lightgrey":[211,211,211,1],"lightpink":[255,182,193,1],"lightsalmon":[255,160,122,1],"lightseagreen":[32,178,170,1],"lightskyblue":[135,206,250,1],"lightslategray":[119,136,153,1],"lightslategrey":[119,136,153,1],"lightsteelblue":[176,196,222,1],"lightyellow":[255,255,224,1],"lime":[0,255,0,1],"limegreen":[50,205,50,1],"linen":[250,240,230,1],"magenta":[255,0,255,1],"maroon":[128,0,0,1],"mediumaquamarine":[102,205,170,1],"mediumblue":[0,0,205,1],"mediumorchid":[186,85,211,1],"mediumpurple":[147,112,219,1],"mediumseagreen":[60,179,113,1],"mediumslateblue":[123,104,238,1],"mediumspringgreen":[0,250,154,1],"mediumturquoise":[72,209,204,1],"mediumvioletred":[199,21,133,1],"midnightblue":[25,25,112,1],"mintcream":[245,255,250,1],"mistyrose":[255,228,225,1],"moccasin":[255,228,181,1],"navajowhite":[255,222,173,1],"navy":[0,0,128,1],"oldlace":[253,245,230,1],"olive":[128,128,0,1],"olivedrab":[107,142,35,1],"orange":[255,165,0,1],"orangered":[255,69,0,1],"orchid":[218,112,214,1],"palegoldenrod":[238,232,170,1],"palegreen":[152,251,152,1],"paleturquoise":[175,238,238,1],"palevioletred":[219,112,147,1],"papayawhip":[255,239,213,1],"peachpuff":[255,218,185,1],"peru":[205,133,63,1],"pink":[255,192,203,1],"plum":[221,160,221,1],"powderblue":[176,224,230,1],"purple":[128,0,128,1],"red":[255,0,0,1],"rosybrown":[188,143,143,1],"royalblue":[65,105,225,1],"saddlebrown":[139,69,19,1],"salmon":[250,128,114,1],"sandybrown":[244,164,96,1],"seagreen":[46,139,87,1],"seashell":[255,245,238,1],"sienna":[160,82,45,1],"silver":[192,192,192,1],"skyblue":[135,206,235,1],"slateblue":[106,90,205,1],"slategray":[112,128,144,1],"slategrey":[112,128,144,1],"snow":[255,250,250,1],"springgreen":[0,255,127,1],"steelblue":[70,130,180,1],"tan":[210,180,140,1],"teal":[0,128,128,1],"thistle":[216,191,216,1],"tomato":[255,99,71,1],"turquoise":[64,224,208,1],"violet":[238,130,238,1],"wheat":[245,222,179,1],"white":[255,255,255,1],"whitesmoke":[245,245,245,1],"yellow":[255,255,0,1],"yellowgreen":[154,205,50,1]};function Am(Z){Z=Math.round(Z);return Z<0?0:Z>255?255:Z}function C8(Z){Z=Math.round(Z);return Z<0?0:Z>360?360:Z}function Yr(Z){return Z<0?0:Z>1?1:Z}function br(Z){if(Z.length&&Z.charAt(Z.length-1)==="%"){return Am(parseFloat(Z)/100*255)}return Am(parseInt(Z,10))}function Xo(Z){if(Z.length&&Z.charAt(Z.length-1)==="%"){return Yr(parseFloat(Z)/100)}return Yr(parseFloat(Z))}function K7(e,i,Z){if(Z<0){Z+=1}else{if(Z>1){Z-=1}}if(Z*6<1){return e+(i-e)*Z*6}if(Z*2<1){return i}if(Z*3<2){return e+(i-e)*(2/3-Z)*6}return e}function bf(i,e,Z){return i+(e-i)*Z}function eV(i,e,Z,k,m){i[0]=e;i[1]=Z;i[2]=k;i[3]=m;return i}function Jy(Z,e){Z[0]=e[0];Z[1]=e[1];Z[2]=e[2];Z[3]=e[3];return Z}var du=new ek(20);var RC=null;function Ed(e,Z){if(RC){Jy(RC,Z)}RC=du.put(e,RC||(Z.slice()))}function dl(Z,v){if(!Z){return}v=v||[];var XY=du.get(Z);if(XY){return Jy(v,XY)}Z=Z+"";var k=Z.replace(/ /g,"").toLowerCase();if(k in KU){Jy(v,KU[k]);Ed(Z,v);return v}if(k.charAt(0)==="#"){if(k.length===4){var WH=parseInt(k.substr(1),16);if(!(WH>=0&&WH<=4095)){eV(v,0,0,0,1);return}eV(v,((WH&3840)>>4)|((WH&3840)>>8),(WH&240)|((WH&240)>>4),(WH&15)|((WH&15)<<4),1);Ed(Z,v);return v}else{if(k.length===7){var WH=parseInt(k.substr(1),16);if(!(WH>=0&&WH<=16777215)){eV(v,0,0,0,1);return}eV(v,(WH&16711680)>>16,(WH&65280)>>8,WH&255,1);Ed(Z,v);return v}}return}var PI=k.indexOf("("),i=k.indexOf(")");if(PI!==-1&&i+1===k.length){var m=k.substr(0,PI);var Z2=k.substr(PI+1,i-(PI+1)).split(",");var e=1;switch(m){case"rgba":if(Z2.length!==4){eV(v,0,0,0,1);return}e=Xo(Z2.pop());case"rgb":if(Z2.length!==3){eV(v,0,0,0,1);return}eV(v,br(Z2[0]),br(Z2[1]),br(Z2[2]),e);Ed(Z,v);return v;case"hsla":if(Z2.length!==4){eV(v,0,0,0,1);return}Z2[3]=Xo(Z2[3]);V8(Z2,v);Ed(Z,v);return v;case"hsl":if(Z2.length!==3){eV(v,0,0,0,1);return}V8(Z2,v);Ed(Z,v);return v;default:return}}eV(v,0,0,0,1);return}function V8(PI,e){var Z=(((parseFloat(PI[0])%360)+360)%360)/360;var i=Xo(PI[1]);var k=Xo(PI[2]);var m=k<=0.5?k*(i+1):k+i-k*i;var v=k*2-m;e=e||[];eV(e,Am(K7(v,m,Z+1/3)*255),Am(K7(v,m,Z)*255),Am(K7(v,m,Z-1/3)*255),1);if(PI.length===4){e[3]=PI[3]}return e}function Cx(Z2){if(!Z2){return}var WH=Z2[0]/255;var PI=Z2[1]/255;var m=Z2[2]/255;var g2=Math.min(WH,PI,m);var i=Math.max(WH,PI,m);var cc=i-g2;var k=(i+g2)/2;var e;var XY;if(cc===0){e=0;XY=0}else{if(k<0.5){XY=cc/(i+g2)}else{XY=cc/(2-i-g2)}var v=(((i-WH)/6)+(cc/2))/cc;var g1=(((i-PI)/6)+(cc/2))/cc;var Z=(((i-m)/6)+(cc/2))/cc;if(WH===i){e=Z-g1}else{if(PI===i){e=(1/3)+v-Z}else{if(m===i){e=(2/3)+g1-v}}}if(e<0){e+=1}if(e>1){e-=1}}var g3=[e*360,XY,k];if(Z2[3]!=null){g3.push(Z2[3])}return g3}function Uh(m,e){var k=dl(m);if(k){for(var Z=0;Z<3;Z++){if(e<0){k[Z]=k[Z]*(1-e)|0}else{k[Z]=((255-k[Z])*e+k[Z])|0}if(k[Z]>255){k[Z]=255}else{if(m[Z]<0){k[Z]=0}}}return Pq(k,k.length===4?"rgba":"rgb")}}function df(e){var Z=dl(e);if(Z){return((1<<24)+(Z[0]<<16)+(Z[1]<<8)+(+Z[2])).toString(16).slice(1)}}function Zj(e,PI,Z){if(!(PI&&PI.length)||!(e>=0&&e<=1)){return}Z=Z||[];var v=e*(PI.length-1);var m=Math.floor(v);var WH=Math.ceil(v);var XY=PI[m];var i=PI[WH];var k=v-m;Z[0]=Am(bf(XY[0],i[0],k));Z[1]=Am(bf(XY[1],i[1],k));Z[2]=Am(bf(XY[2],i[2],k));Z[3]=Yr(bf(XY[3],i[3],k));return Z}var eS=Zj;function fP(Z,PI,XY){if(!(PI&&PI.length)||!(Z>=0&&Z<=1)){return}var v=Z*(PI.length-1);var m=Math.floor(v);var WH=Math.ceil(v);var Z2=dl(PI[m]);var e=dl(PI[WH]);var i=v-m;var k=Pq([Am(bf(Z2[0],e[0],i)),Am(bf(Z2[1],e[1],i)),Am(bf(Z2[2],e[2],i)),Yr(bf(Z2[3],e[3],i))],"rgba");return XY?{color:k,leftIndex:m,rightIndex:WH,value:v}:k}var Pu=fP;function CM(k,Z,e,i){k=dl(k);if(k){k=Cx(k);Z!=null&&(k[0]=C8(Z));e!=null&&(k[1]=Xo(e));i!=null&&(k[2]=Xo(i));return Pq(V8(k),"rgba")}}function WW(e,Z){e=dl(e);if(e&&Z!=null){e[3]=Yr(Z);return Pq(e,"rgba")}}function Pq(e,Z){if(!e||!e.length){return}var i=e[0]+","+e[1]+","+e[2];if(Z==="rgba"||Z==="hsva"||Z==="hsla"){i+=","+e[3]}return Z+"("+i+")"}var E7=(Object.freeze||Object)({parse:dl,lift:Uh,toHex:df,fastLerp:Zj,fastMapToColor:eS,lerp:fP,mapToColor:Pu,modifyHSL:CM,modifyAlpha:WW,stringify:Pq});var JY=Array.prototype.slice;function ZQ(e,Z){return e[Z]}function Ss(i,Z,e){i[Z]=e}function CG(e,i,Z){return(i-e)*Z+e}function Ke(e,i,Z){return Z>0.5?i:e}function FA(WH,PI,m,e,Z2){var XY=WH.length;if(Z2==1){for(var v=0;v<XY;v++){e[v]=CG(WH[v],PI[v],m)}}else{var Z=XY&&WH[0].length;for(var v=0;v<XY;v++){for(var k=0;k<Z;k++){e[v][k]=CG(WH[v][k],PI[v][k],m)}}}}function JL(XY,m,Z2){var PI=XY.length;var v=m.length;if(PI!==v){var WH=PI>v;if(WH){XY.length=v}else{for(var k=PI;k<v;k++){XY.push(Z2===1?m[k]:JY.call(m[k]))}}}var e=XY[0]&&XY[0].length;for(var k=0;k<XY.length;k++){if(Z2===1){if(isNaN(XY[k])){XY[k]=m[k]}}else{for(var Z=0;Z<e;Z++){if(isNaN(XY[k][Z])){XY[k][Z]=m[k][Z]}}}}}function Ph(k,v,m){if(k===v){return true}var PI=k.length;if(PI!==v.length){return false}if(m===1){for(var e=0;e<PI;e++){if(k[e]!==v[e]){return false}}}else{var Z=k[0].length;for(var e=0;e<PI;e++){for(var WH=0;WH<Z;WH++){if(k[e][WH]!==v[e][WH]){return false}}}}return true}function La(PI,e,Z2,XY,m,g2,cc,k,g3){var g1=PI.length;if(g3==1){for(var WH=0;WH<g1;WH++){k[WH]=fi(PI[WH],e[WH],Z2[WH],XY[WH],m,g2,cc)}}else{var Z=PI[0].length;for(var WH=0;WH<g1;WH++){for(var v=0;v<Z;v++){k[WH][v]=fi(PI[WH][v],e[WH][v],Z2[WH][v],XY[WH][v],m,g2,cc)}}}}function fi(i,Z,v,k,e,XY,PI){var WH=(v-i)*0.5;var m=(k-Z)*0.5;return(2*(Z-v)+WH+m)*PI+(-3*(Z-v)-2*WH-m)*XY+WH*e+Z}function RH(k){if(Lr(k)){var e=k.length;if(Lr(k[0])){var m=[];for(var Z=0;Z<e;Z++){m.push(JY.call(k[Z]))}return m}return JY.call(k)}return k}function fB(Z){Z[0]=Math.floor(Z[0]);Z[1]=Math.floor(Z[1]);Z[2]=Math.floor(Z[2]);return"rgba("+Z.join(",")+")"}function a1(Z){var e=Z[Z.length-1].value;return Lr(e&&e[0])?2:1}function Gl(g2,XY,g9,hj,ho,e){var hb=g2._getter;var Z2=g2._setter;var g5=XY==="spline";var g1=hj.length;if(!g1){return}var g8=hj[0].value;var g4=Lr(g8);var m=false;var g6=false;var hf=g4?a1(hj):0;var g3;hj.sort(function(hq,i){return hq.time-i.time});g3=hj[g1-1].time;var hk=[];var hh=[];var hp=hj[0].value;var hi=true;for(var hn=0;hn<g1;hn++){hk.push(hj[hn].time/g3);var hd=hj[hn].value;if(!((g4&&Ph(hd,hp,hf))||(!g4&&hd===hp))){hi=false}hp=hd;if(typeof hd=="string"){var k=dl(hd);if(k){hd=k;m=true}else{g6=true}}hh.push(hd)}if(!e&&hi){return}var v=hh[g1-1];for(var hn=0;hn<g1-1;hn++){if(g4){JL(hh[hn],v,hf)}else{if(isNaN(hh[hn])&&!isNaN(v)&&!g6&&!m){hh[hn]=v}}}g4&&JL(hb(g2._target,ho),v,hf);var he=0;var ha=0;var hg;var hm;var hc;var g7;var PI;var Z;if(m){var hl=[0,0,0,0]}var WH=function(hs,hq){var hr;if(hq<0){hr=0}else{if(hq<ha){hg=Math.min(he+1,g1-1);for(hr=hg;hr>=0;hr--){if(hk[hr]<=hq){break}}hr=Math.min(hr,g1-2)}else{for(hr=he;hr<g1;hr++){if(hk[hr]>hq){break}}hr=Math.min(hr-1,g1-2)}}he=hr;ha=hq;var ht=(hk[hr+1]-hk[hr]);if(ht===0){return}else{hm=(hq-hk[hr])/ht}if(g5){g7=hh[hr];hc=hh[hr===0?hr:hr-1];PI=hh[hr>g1-2?g1-1:hr+1];Z=hh[hr>g1-3?g1-1:hr+2];if(g4){La(hc,g7,PI,Z,hm,hm*hm,hm*hm*hm,hb(hs,ho),hf)}else{var i;if(m){i=La(hc,g7,PI,Z,hm,hm*hm,hm*hm*hm,hl,1);i=fB(hl)}else{if(g6){return Ke(g7,PI,hm)}else{i=fi(hc,g7,PI,Z,hm,hm*hm,hm*hm*hm)}}Z2(hs,ho,i)}}else{if(g4){FA(hh[hr],hh[hr+1],hm,hb(hs,ho),hf)}else{var i;if(m){FA(hh[hr],hh[hr+1],hm,hl,1);i=fB(hl)}else{if(g6){return Ke(hh[hr],hh[hr+1],hm)}else{i=CG(hh[hr],hh[hr+1],hm)}}Z2(hs,ho,i)}}};var cc=new cD({target:g2._target,life:g3,loop:g2._loop,delay:g2._delay,onframe:WH,ondestroy:g9});if(XY&&XY!=="spline"){cc.easing=XY}return cc}var cd=function(i,Z,e,k){this._tracks={};this._target=i;this._loop=Z||false;this._getter=e||ZQ;this._setter=k||Ss;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};cd.prototype={when:function(e,i){var k=this._tracks;for(var m in i){if(!i.hasOwnProperty(m)){continue}if(!k[m]){k[m]=[];var Z=this._getter(this._target,m);if(Z==null){continue}if(e!==0){k[m].push({time:0,value:RH(Z)})}}k[m].push({time:e,value:i[m]})}return this},during:function(Z){this._onframeList.push(Z);return this},pause:function(){for(var Z=0;Z<this._clipList.length;Z++){this._clipList[Z].pause()}this._paused=true},resume:function(){for(var Z=0;Z<this._clipList.length;Z++){this._clipList[Z].resume()}this._paused=false},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;var e=this._doneList;var k=e.length;for(var Z=0;Z<k;Z++){e[Z].call(this)}},start:function(k,v){var m=this;var WH=0;var PI=function(){WH--;if(!WH){m._doneCallback()}};var i;for(var e in this._tracks){if(!this._tracks.hasOwnProperty(e)){continue}var XY=Gl(this,k,PI,this._tracks[e],e,v);if(XY){this._clipList.push(XY);WH++;if(this.animation){this.animation.addClip(XY)}i=XY}}if(i){var Z=i.onframe;i.onframe=function(g1,Z2){Z(g1,Z2);for(var cc=0;cc<m._onframeList.length;cc++){m._onframeList[cc](g1,Z2)}}}if(!WH){this._doneCallback()}return this},stop:function(m){var e=this._clipList;var Z=this.animation;for(var k=0;k<e.length;k++){var v=e[k];if(m){v.onframe(this._target,1)}Z&&Z.removeClip(v)}e.length=0},delay:function(Z){this._delay=Z;return this},done:function(Z){if(Z){this._doneList.push(Z)}return this},getClips:function(){return this._clipList}};var NC=1;if(typeof window!=="undefined"){NC=Math.max(window.devicePixelRatio||1,1)}var d9=0;var ak=NC;var ND=function(){};if(d9===1){ND=function(){for(var Z in arguments){throw new Error(arguments[Z])}}}else{if(d9>1){ND=function(){for(var Z in arguments){console.log(arguments[Z])}}}}var Rz=ND;var B5=function(){this.animators=[]};B5.prototype={constructor:B5,animate:function(Z2,g2){var cc;var m=false;var PI=this;var e=this.__zr;if(Z2){var Z=Z2.split(".");var v=PI;m=Z[0]==="shape";for(var WH=0,XY=Z.length;WH<XY;WH++){if(!v){continue}v=v[Z[WH]]}if(v){cc=v}}else{cc=PI}if(!cc){Rz('Property "'+Z2+'" is not existed in element '+PI.id);return}var k=PI.animators;var g1=new cd(cc,g2);g1.during(function(i){PI.dirty(m)}).done(function(){k.splice(FT(k,g1),1)});k.push(g1);if(e){e.animation.addAnimator(g1)}return g1},stopAnimation:function(e){var k=this.animators;var m=k.length;for(var Z=0;Z<m;Z++){k[Z].stop(e)}k.length=0;return this},animateTo:function(Z2,Z,m,XY,e,v){if(Ei(m)){e=XY;XY=m;m=0}else{if(Pl(XY)){e=XY;XY="linear";m=0}else{if(Pl(m)){e=m;m=0}else{if(Pl(Z)){e=Z;Z=500}else{if(!Z){Z=500}}}}}this.stopAnimation();this._animateToShallow("",this,Z2,Z,m);var k=this.animators.slice();var cc=k.length;function PI(){cc--;if(!cc){e&&e()}}if(!cc){e&&e()}for(var WH=0;WH<k.length;WH++){k[WH].done(PI).start(XY,v)}},_animateToShallow:function(v,e,PI,Z,k){var XY={};var i=0;for(var WH in PI){if(!PI.hasOwnProperty(WH)){continue}if(e[WH]!=null){if(EJ(PI[WH])&&!Lr(PI[WH])){this._animateToShallow(v?v+"."+WH:WH,e[WH],PI[WH],Z,k)}else{XY[WH]=PI[WH];i++}}else{if(PI[WH]!=null){if(!v){this.attr(WH,PI[WH])}else{var m={};m[v]={};m[v][WH]=PI[WH];this.attr(m)}}}}if(i>0){this.animate(v,false).when(Z==null?500:Z,XY).delay(k||0)}return this}};var Ib=function(Z){T2.call(this,Z);cx.call(this,Z);B5.call(this,Z);this.id=Z.id||BK()};Ib.prototype={type:"element",name:"",__zr:null,ignore:false,clipPath:null,isGroup:false,drift:function(Z,i){switch(this.draggable){case"horizontal":i=0;break;case"vertical":Z=0;break}var e=this.transform;if(!e){e=this.transform=[1,0,0,1,0,0]}e[4]+=Z;e[5]+=i;this.decomposeTransform();this.dirty(false)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(Z,e){},attrKV:function(Z,e){if(Z==="position"||Z==="scale"||Z==="origin"){if(e){var i=this[Z];if(!i){i=this[Z]=[]}i[0]=e[0];i[1]=e[1]}}else{this[Z]=e}},hide:function(){this.ignore=true;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=false;this.__zr&&this.__zr.refresh()},attr:function(Z,i){if(typeof Z==="string"){this.attrKV(Z,i)}else{if(EJ(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){this.attrKV(e,Z[e])}}}}this.dirty(false);return this},setClipPath:function(e){var Z=this.__zr;if(Z){e.addSelfToZr(Z)}if(this.clipPath&&this.clipPath!==e){this.removeClipPath()}this.clipPath=e;e.__zr=Z;e.__clipTarget=this;this.dirty(false)},removeClipPath:function(){var Z=this.clipPath;if(Z){if(Z.__zr){Z.removeSelfFromZr(Z.__zr)}Z.__zr=null;Z.__clipTarget=null;this.clipPath=null;this.dirty(false)}},addSelfToZr:function(Z){this.__zr=Z;var k=this.animators;if(k){for(var e=0;e<k.length;e++){Z.animation.addAnimator(k[e])}}if(this.clipPath){this.clipPath.addSelfToZr(Z)}},removeSelfFromZr:function(Z){this.__zr=null;var k=this.animators;if(k){for(var e=0;e<k.length;e++){Z.animation.removeAnimator(k[e])}}if(this.clipPath){this.clipPath.removeSelfFromZr(Z)}}};eG(Ib,B5);eG(Ib,T2);eG(Ib,cx);var bT=Ip;var LN=Math.min;var W4=Math.max;function FY(e,i,k,Z){if(k<0){e=e+k;k=-k}if(Z<0){i=i+Z;Z=-Z}this.x=e;this.y=i;this.width=k;this.height=Z}FY.prototype={constructor:FY,union:function(i){var Z=LN(i.x,this.x);var e=LN(i.y,this.y);this.width=W4(i.x+i.width,this.x+this.width)-Z;this.height=W4(i.y+i.height,this.y+this.height)-e;this.x=Z;this.y=e},applyTransform:(function(){var e=[];var i=[];var k=[];var Z=[];return function(WH){if(!WH){return}e[0]=k[0]=this.x;e[1]=Z[1]=this.y;i[0]=Z[0]=this.x+this.width;i[1]=k[1]=this.y+this.height;bT(e,e,WH);bT(i,i,WH);bT(k,k,WH);bT(Z,Z,WH);this.x=LN(e[0],i[0],k[0],Z[0]);this.y=LN(e[1],i[1],k[1],Z[1]);var PI=W4(e[0],i[0],k[0],Z[0]);var v=W4(e[1],i[1],k[1],Z[1]);this.width=PI-this.x;this.height=v-this.y}})(),calculateTransform:function(e){var v=this;var Z=e.width/v.width;var i=e.height/v.height;var k=HZ();Zc(k,k,[-v.x,-v.y]);KI(k,k,[Z,i]);Zc(k,k,[e.x,e.y]);return k},intersect:function(PI){if(!PI){return false}if(!(PI instanceof FY)){PI=FY.create(PI)}var Z2=this;var k=Z2.x;var i=Z2.x+Z2.width;var e=Z2.y;var Z=Z2.y+Z2.height;var WH=PI.x;var XY=PI.x+PI.width;var m=PI.y;var v=PI.y+PI.height;return !(i<WH||XY<k||Z<m||v<e)},contain:function(e,i){var Z=this;return e>=Z.x&&e<=(Z.x+Z.width)&&i>=Z.y&&i<=(Z.y+Z.height)},clone:function(){return new FY(this.x,this.y,this.width,this.height)},copy:function(Z){this.x=Z.x;this.y=Z.y;this.width=Z.width;this.height=Z.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};FY.create=function(Z){return new FY(Z.x,Z.y,Z.width,Z.height)};var U3=function(e){e=e||{};Ib.call(this,e);for(var Z in e){if(e.hasOwnProperty(Z)){this[Z]=e[Z]}}this._children=[];this.__storage=null;this.__dirty=true};U3.prototype={constructor:U3,isGroup:true,type:"group",silent:false,children:function(){return this._children.slice()},childAt:function(Z){return this._children[Z]},childOfName:function(e){var k=this._children;for(var Z=0;Z<k.length;Z++){if(k[Z].name===e){return k[Z]}}},childCount:function(){return this._children.length},add:function(Z){if(Z&&Z!==this&&Z.parent!==this){this._children.push(Z);this._doAdd(Z)}return this},addBefore:function(Z,i){if(Z&&Z!==this&&Z.parent!==this&&i&&i.parent===this){var k=this._children;var e=k.indexOf(i);if(e>=0){k.splice(e,0,Z);this._doAdd(Z)}}return this},_doAdd:function(i){if(i.parent){i.parent.remove(i)}i.parent=this;var Z=this.__storage;var e=this.__zr;if(Z&&Z!==i.__storage){Z.addToStorage(i);if(i instanceof U3){i.addChildrenToStorage(Z)}}e&&e.refresh()},remove:function(i){var e=this.__zr;var Z=this.__storage;var m=this._children;var k=FT(m,i);if(k<0){return this}m.splice(k,1);i.parent=null;if(Z){Z.delFromStorage(i);if(i instanceof U3){i.delChildrenFromStorage(Z)}}e&&e.refresh();return this},removeAll:function(){var m=this._children;var Z=this.__storage;var k;var e;for(e=0;e<m.length;e++){k=m[e];if(Z){Z.delFromStorage(k);if(k instanceof U3){k.delChildrenFromStorage(Z)}}k.parent=null}m.length=0;return this},eachChild:function(Z,e){var v=this._children;for(var k=0;k<v.length;k++){var m=v[k];Z.call(e,m,k)}return this},traverse:function(Z,e){for(var k=0;k<this._children.length;k++){var m=this._children[k];Z.call(e,m);if(m.type==="group"){m.traverse(Z,e)}}return this},addChildrenToStorage:function(Z){for(var e=0;e<this._children.length;e++){var k=this._children[e];Z.addToStorage(k);if(k instanceof U3){k.addChildrenToStorage(Z)}}},delChildrenFromStorage:function(Z){for(var e=0;e<this._children.length;e++){var k=this._children[e];Z.delFromStorage(k);if(k instanceof U3){k.delChildrenFromStorage(Z)}}},dirty:function(){this.__dirty=true;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(XY){var v=null;var Z2=new FY(0,0,0,0);var m=XY||this._children;var k=[];for(var PI=0;PI<m.length;PI++){var e=m[PI];if(e.ignore||e.invisible){continue}var Z=e.getBoundingRect();var WH=e.getLocalTransform(k);if(WH){Z2.copy(Z);Z2.applyTransform(WH);v=v||Z2.clone();v.union(Z2)}else{v=v||Z.clone();v.union(Z)}}return v||Z2}};K8(U3,Ib);var Jf=32;var GU=7;function gn(e){var Z=0;while(e>=Jf){Z|=e&1;e>>=1}return e+Z}function Qc(e,Z,i,k){var m=Z+1;if(m===i){return 1}if(k(e[m++],e[Z])<0){while(m<i&&k(e[m],e[m-1])<0){m++}gN(e,Z,m)}else{while(m<i&&k(e[m],e[m-1])>=0){m++}}return m-Z}function gN(e,Z,i){i--;while(Z<i){var k=e[Z];e[Z++]=e[i];e[i--]=k}}function HT(Z,i,k,e,v){if(e===i){e++}for(;e<k;e++){var PI=Z[e];var m=i;var XY=e;var Z2;while(m<XY){Z2=m+XY>>>1;if(v(PI,Z[Z2])<0){XY=Z2}else{m=Z2+1}}var WH=e-m;switch(WH){case 3:Z[m+3]=Z[m+2];case 2:Z[m+2]=Z[m+1];case 1:Z[m+1]=Z[m];break;default:while(WH>0){Z[m+WH]=Z[m+WH-1];WH--}}Z[m]=PI}}function At(WH,e,i,PI,Z2,Z){var cc=0;var XY=0;var k=1;if(Z(WH,e[i+Z2])>0){XY=PI-Z2;while(k<XY&&Z(WH,e[i+Z2+k])>0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}cc+=Z2;k+=Z2}else{XY=Z2+1;while(k<XY&&Z(WH,e[i+Z2-k])<=0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}var v=cc;cc=Z2-k;k=Z2-v}cc++;while(cc<k){var g1=cc+(k-cc>>>1);if(Z(WH,e[i+g1])>0){cc=g1+1}else{k=g1}}return k}function Xk(WH,e,i,PI,Z2,Z){var cc=0;var XY=0;var k=1;if(Z(WH,e[i+Z2])<0){XY=Z2+1;while(k<XY&&Z(WH,e[i+Z2-k])<0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}var v=cc;cc=Z2-k;k=Z2-v}else{XY=PI-Z2;while(k<XY&&Z(WH,e[i+Z2+k])>=0){cc=k;k=(k<<1)+1;if(k<=0){k=XY}}if(k>XY){k=XY}cc+=Z2;k+=Z2}cc++;while(cc<k){var g1=cc+(k-cc>>>1);if(Z(WH,e[i+g1])<0){k=g1}else{cc=g1+1}}return k}function PW(e,m){var PI=GU;var Z;var WH;var Z2=0;var k=[];Z=[];WH=[];function XY(g3,g4){Z[Z2]=g3;WH[Z2]=g4;Z2+=1}function g1(){while(Z2>1){var g3=Z2-2;if(g3>=1&&WH[g3-1]<=WH[g3]+WH[g3+1]||g3>=2&&WH[g3-2]<=WH[g3]+WH[g3-1]){if(WH[g3-1]<WH[g3+1]){g3--}}else{if(WH[g3]>WH[g3+1]){break}}cc(g3)}}function g2(){while(Z2>1){var g3=Z2-2;if(g3>0&&WH[g3-1]<WH[g3+1]){g3--}cc(g3)}}function cc(g4){var g8=Z[g4];var g5=WH[g4];var g7=Z[g4+1];var g6=WH[g4+1];WH[g4]=g5+g6;if(g4===Z2-3){Z[g4+1]=Z[g4+2];WH[g4+1]=WH[g4+2]}Z2--;var g3=Xk(e[g7],e,g8,g5,0,m);g8+=g3;g5-=g3;if(g5===0){return}g6=At(e[g8+g5-1],e,g7,g6,g6-1,m);if(g6===0){return}if(g5<=g6){i(g8,g5,g7,g6)}else{v(g8,g5,g7,g6)}}function i(he,g5,hc,g6){var g8=0;for(g8=0;g8<g5;g8++){k[g8]=e[he+g8]}var g9=0;var ha=hc;var g7=he;e[g7++]=e[ha++];if(--g6===0){for(g8=0;g8<g5;g8++){e[g7+g8]=k[g9+g8]}return}if(g5===1){for(g8=0;g8<g6;g8++){e[g7+g8]=e[ha+g8]}e[g7+g6]=k[g9];return}var hb=PI;var g3,hd,g4;while(1){g3=0;hd=0;g4=false;do{if(m(e[ha],k[g9])<0){e[g7++]=e[ha++];hd++;g3=0;if(--g6===0){g4=true;break}}else{e[g7++]=k[g9++];g3++;hd=0;if(--g5===1){g4=true;break}}}while((g3|hd)<hb);if(g4){break}do{g3=Xk(e[ha],k,g9,g5,0,m);if(g3!==0){for(g8=0;g8<g3;g8++){e[g7+g8]=k[g9+g8]}g7+=g3;g9+=g3;g5-=g3;if(g5<=1){g4=true;break}}e[g7++]=e[ha++];if(--g6===0){g4=true;break}hd=At(k[g9],e,ha,g6,0,m);if(hd!==0){for(g8=0;g8<hd;g8++){e[g7+g8]=e[ha+g8]}g7+=hd;ha+=hd;g6-=hd;if(g6===0){g4=true;break}}e[g7++]=k[g9++];if(--g5===1){g4=true;break}hb--}while(g3>=GU||hd>=GU);if(g4){break}if(hb<0){hb=0}hb+=2}PI=hb;PI<1&&(PI=1);if(g5===1){for(g8=0;g8<g6;g8++){e[g7+g8]=e[ha+g8]}e[g7+g6]=k[g9]}else{if(g5===0){throw new Error()}else{for(g8=0;g8<g5;g8++){e[g7+g8]=k[g9+g8]}}}}function v(hg,g7,he,g8){var ha=0;for(ha=0;ha<g8;ha++){k[ha]=e[he+ha]}var hb=hg+g7-1;var hc=g8-1;var g9=he+g8-1;var g3=0;var g6=0;e[g9--]=e[hb--];if(--g7===0){g3=g9-(g8-1);for(ha=0;ha<g8;ha++){e[g3+ha]=k[ha]}return}if(g8===1){g9-=g7;hb-=g7;g6=g9+1;g3=hb+1;for(ha=g7-1;ha>=0;ha--){e[g6+ha]=e[g3+ha]}e[g9]=k[hc];return}var hd=PI;while(true){var g5=0;var hf=0;var g4=false;do{if(m(k[hc],e[hb])<0){e[g9--]=e[hb--];g5++;hf=0;if(--g7===0){g4=true;break}}else{e[g9--]=k[hc--];hf++;g5=0;if(--g8===1){g4=true;break}}}while((g5|hf)<hd);if(g4){break}do{g5=g7-Xk(k[hc],e,hg,g7,g7-1,m);if(g5!==0){g9-=g5;hb-=g5;g7-=g5;g6=g9+1;g3=hb+1;for(ha=g5-1;ha>=0;ha--){e[g6+ha]=e[g3+ha]}if(g7===0){g4=true;break}}e[g9--]=k[hc--];if(--g8===1){g4=true;break}hf=g8-At(e[hb],k,0,g8,g8-1,m);if(hf!==0){g9-=hf;hc-=hf;g8-=hf;g6=g9+1;g3=hc+1;for(ha=0;ha<hf;ha++){e[g6+ha]=k[g3+ha]}if(g8<=1){g4=true;break}}e[g9--]=e[hb--];if(--g7===0){g4=true;break}hd--}while(g5>=GU||hf>=GU);if(g4){break}if(hd<0){hd=0}hd+=2}PI=hd;if(PI<1){PI=1}if(g8===1){g9-=g7;hb-=g7;g6=g9+1;g3=hb+1;for(ha=g7-1;ha>=0;ha--){e[g6+ha]=e[g3+ha]}e[g9]=k[hc]}else{if(g8===0){throw new Error()}else{g3=g9-(g8-1);for(ha=0;ha<g8;ha++){e[g3+ha]=k[ha]}}}}this.mergeRuns=g1;this.forceMergeRuns=g2;this.pushRun=XY}function Sk(Z,v,m,k){if(!m){m=0}if(!k){k=Z.length}var i=k-m;if(i<2){return}var WH=0;if(i<Jf){WH=Qc(Z,m,k,v);HT(Z,m,k,m+WH,v);return}var PI=new PW(Z,v);var XY=gn(i);do{WH=Qc(Z,m,k,v);if(WH<XY){var e=i;if(e>XY){e=XY}HT(Z,m,m+e,m+WH,v);WH=e}PI.pushRun(m,WH);PI.mergeRuns();i-=WH;m+=WH}while(i!==0);PI.forceMergeRuns()}function Uy(e,Z){if(e.zlevel===Z.zlevel){if(e.z===Z.z){return e.z2-Z.z2}return e.z-Z.z}return e.zlevel-Z.zlevel}var cb=function(){this._roots=[];this._displayList=[];this._displayListLen=0};cb.prototype={constructor:cb,traverse:function(Z,e){for(var k=0;k<this._roots.length;k++){this._roots[k].traverse(Z,e)}},getDisplayList:function(Z,e){e=e||false;if(Z){this.updateDisplayList(e)}return this._displayList},updateDisplayList:function(m){this._displayListLen=0;var e=this._roots;var v=this._displayList;for(var Z=0,k=e.length;Z<k;Z++){this._updateAndAddDisplayable(e[Z],null,m)}v.length=this._displayListLen;QH.canvasSupported&&Sk(v,Uy)},_updateAndAddDisplayable:function(m,PI,Z2){if(m.ignore&&!Z2){return}m.beforeUpdate();if(m.__dirty){m.update()}m.afterUpdate();var e=m.clipPath;if(e){if(PI){PI=PI.slice()}else{PI=[]}var Z=e;var XY=m;while(Z){Z.parent=XY;Z.updateTransform();PI.push(Z);XY=Z;Z=Z.clipPath}}if(m.isGroup){var k=m._children;for(var v=0;v<k.length;v++){var WH=k[v];if(m.__dirty){WH.__dirty=true}this._updateAndAddDisplayable(WH,PI,Z2)}m.__dirty=false}else{m.__clipPaths=PI;this._displayList[this._displayListLen++]=m}},addRoot:function(Z){if(Z.__storage===this){return}if(Z instanceof U3){Z.addChildrenToStorage(this)}this.addToStorage(Z);this._roots.push(Z)},delRoot:function(Z){if(Z==null){for(var e=0;e<this._roots.length;e++){var k=this._roots[e];if(k instanceof U3){k.delChildrenFromStorage(this)}}this._roots=[];this._displayList=[];this._displayListLen=0;return}if(Z instanceof Array){for(var e=0,m=Z.length;e<m;e++){this.delRoot(Z[e])}return}var v=FT(this._roots,Z);if(v>=0){this.delFromStorage(Z);this._roots.splice(v,1);if(Z instanceof U3){Z.delChildrenFromStorage(this)}}},addToStorage:function(Z){if(Z){Z.__storage=this;Z.dirty(false)}return this},delFromStorage:function(Z){if(Z){Z.__storage=null}return this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Uy};var dk={"shadowBlur":1,"shadowOffsetX":1,"shadowOffsetY":1,"textShadowBlur":1,"textShadowOffsetX":1,"textShadowOffsetY":1,"textBoxShadowBlur":1,"textBoxShadowOffsetX":1,"textBoxShadowOffsetY":1};var gF=function(e,i,Z){if(dk.hasOwnProperty(i)){return Z*=e.dpr}return Z};var II=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var Gs=function(Z,e){this.extendFrom(Z,false);this.host=e};function F1(m,v,Z){var PI=v.x==null?0:v.x;var i=v.x2==null?1:v.x2;var WH=v.y==null?0:v.y;var k=v.y2==null?0:v.y2;if(!v.global){PI=PI*Z.width+Z.x;i=i*Z.width+Z.x;WH=WH*Z.height+Z.y;k=k*Z.height+Z.y}PI=isNaN(PI)?0:PI;i=isNaN(i)?1:i;WH=isNaN(WH)?0:WH;k=isNaN(k)?0:k;var e=m.createLinearGradient(PI,WH,i,k);return e}function LL(m,PI,i){var v=i.width;var e=i.height;var Z2=Math.min(v,e);var WH=PI.x==null?0.5:PI.x;var XY=PI.y==null?0.5:PI.y;var Z=PI.r==null?0.5:PI.r;if(!PI.global){WH=WH*v+i.x;XY=XY*e+i.y;Z=Z*Z2}var k=m.createRadialGradient(WH,XY,0,WH,XY,Z);return k}Gs.prototype={constructor:Gs,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:false,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:false,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(v,Z2,XY){var PI=this;var m=XY&&XY.style;var e=!m;for(var WH=0;WH<II.length;WH++){var k=II[WH];var Z=k[0];if(e||PI[Z]!==m[Z]){v[Z]=gF(v,Z,PI[Z]||k[1])}}if((e||PI.fill!==m.fill)){v.fillStyle=PI.fill}if((e||PI.stroke!==m.stroke)){v.strokeStyle=PI.stroke}if((e||PI.opacity!==m.opacity)){v.globalAlpha=PI.opacity==null?1:PI.opacity}if((e||PI.blend!==m.blend)){v.globalCompositeOperation=PI.blend||"source-over"}if(this.hasStroke()){var cc=PI.lineWidth;v.lineWidth=cc/((this.strokeNoScale&&Z2&&Z2.getLineScale)?Z2.getLineScale():1)}},hasFill:function(){var Z=this.fill;return Z!=null&&Z!=="none"},hasStroke:function(){var Z=this.stroke;return Z!=null&&Z!=="none"&&this.lineWidth>0},extendFrom:function(e,Z){if(e){for(var i in e){if(e.hasOwnProperty(i)&&(Z===true||(Z===false?!this.hasOwnProperty(i):e[i]!=null))){this[i]=e[i]}}}},set:function(Z,e){if(typeof Z==="string"){this[Z]=e}else{this.extendFrom(Z,true)}},clone:function(){var Z=new this.constructor();Z.extendFrom(this,true);return Z},getGradient:function(v,e,k){var m=e.type==="radial"?LL:F1;var WH=m(v,e,k);var PI=e.colorStops;for(var Z=0;Z<PI.length;Z++){WH.addColorStop(PI[Z].offset,PI[Z].color)}return WH}};var Cm=Gs.prototype;for(var PH=0;PH<II.length;PH++){var Ya=II[PH];if(!(Ya[0] in Cm)){Cm[Ya[0]]=Ya[1]}}Gs.getGradient=Cm.getGradient;var B8=function(Z,e){this.image=Z;this.repeat=e;this.type="pattern"};B8.prototype.getCanvasPattern=function(Z){return Z.createPattern(this.image,this.repeat||"repeat")};function gR(){return false}function R2(PI,e,v){var i=gi();var m=e.getWidth();var Z=e.getHeight();var k=i.style;if(k){k.position="absolute";k.left=0;k.top=0;k.width=m+"px";k.height=Z+"px";i.setAttribute("data-zr-dom-id",PI)}i.width=m*v;i.height=Z*v;return i}var bk=function(m,e,k){var Z;k=k||ak;if(typeof m==="string"){Z=R2(m,e,k)}else{if(EJ(m)){Z=m;m=Z.id}}this.id=m;this.dom=Z;var i=Z.style;if(i){Z.onselectstart=gR;i["-webkit-user-select"]="none";i["user-select"]="none";i["-webkit-touch-callout"]="none";i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";i["padding"]=0;i["margin"]=0;i["border-width"]=0}this.domBack=null;this.ctxBack=null;this.painter=e;this.config=null;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.dpr=k};bk.prototype={constructor:bk,__dirty:true,__used:false,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:false,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var Z=this.dpr;this.domBack=R2("back-"+this.id,this.painter,Z);this.ctxBack=this.domBack.getContext("2d");if(Z!=1){this.ctxBack.scale(Z,Z)}},resize:function(k,e){var m=this.dpr;var Z=this.dom;var v=Z.style;var i=this.domBack;if(v){v.width=k+"px";v.height=e+"px"}Z.width=k*m;Z.height=e*m;if(i){i.width=k*m;i.height=e*m;if(m!=1){this.ctxBack.scale(m,m)}}},clear:function(Z,Z2){var i=this.dom;var v=this.ctx;var XY=i.width;var e=i.height;var Z2=Z2||this.clearColor;var k=this.motionBlur&&!Z;var WH=this.lastFrameAlpha;var PI=this.dpr;if(k){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(i,0,0,XY/PI,e/PI)}v.clearRect(0,0,XY,e);if(Z2&&Z2!=="transparent"){var m;if(Z2.colorStops){m=Z2.__canvasGradient||Gs.getGradient(v,Z2,{x:0,y:0,width:XY,height:e});Z2.__canvasGradient=m}else{if(Z2.image){m=B8.prototype.getCanvasPattern.call(Z2,v)}}v.save();v.fillStyle=m||Z2;v.fillRect(0,0,XY,e);v.restore()}if(k){var cc=this.domBack;v.save();v.globalAlpha=WH;v.drawImage(cc,0,0,XY,e);v.restore()}}};var bt=(typeof window!=="undefined"&&((window.requestAnimationFrame&&window.requestAnimationFrame.bind(window))||(window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window))||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame))||function(Z){setTimeout(Z,16)};var Qx=new ek(50);function HW(e){if(typeof e==="string"){var Z=Qx.get(e);return Z&&Z.image}else{return e}}function X8(v,i,PI,Z,m){if(!v){return i}else{if(typeof v==="string"){if((i&&i.__zrImageSrc===v)||!PI){return i}var k=Qx.get(v);var e={hostEl:PI,cb:Z,cbPayload:m};if(k){i=k.image;!H2(i)&&k.pending.push(e)}else{!i&&(i=new Image());i.onload=Il;Qx.put(v,i.__cachedImgObj={image:i,pending:[e]});i.src=i.__zrImageSrc=v}return i}else{return v}}}function Il(){var k=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<k.pending.length;e++){var m=k.pending[e];var Z=m.cb;Z&&Z(this,m.cbPayload);m.hostEl.dirty()}k.pending.length=0}function H2(Z){return Z&&Z.width&&Z.height}var Oh={};var JN=0;var B3=5000;var dV=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;var ex="12px sans-serif";var Sg={};function Qj(e,Z){Sg[e]=Z}function P7(v,m){m=m||ex;var Z=v+":"+m;if(Oh[Z]){return Oh[Z]}var k=(v+"").split("\n");var WH=0;for(var e=0,PI=k.length;e<PI;e++){WH=Math.max(Zk(k[e],m).width,WH)}if(JN>B3){JN=0;Oh={}}JN++;Oh[Z]=WH;return WH}function HY(k,i,PI,m,v,e,Z){return e?HP(k,i,PI,m,v,e,Z):AK(k,i,PI,m,v,Z)}function AK(XY,Z2,Z,PI,k,i){var e=DC(XY,Z2,k,i);var v=P7(XY,Z2);if(k){v+=k[1]+k[3]}var WH=e.outerHeight;var cc=Ef(0,v,Z);var g1=Eg(0,WH,PI);var m=new FY(cc,g1,v,WH);m.lineHeight=e.lineHeight;return m}function HP(XY,Z2,Z,PI,m,i,k){var e=Ks(XY,{rich:i,truncate:k,font:Z2,textAlign:Z,textPadding:m});var v=e.outerWidth;var WH=e.outerHeight;var cc=Ef(0,v,Z);var g1=Eg(0,WH,PI);return new FY(cc,g1,v,WH)}function Ef(Z,e,i){if(i==="right"){Z-=e}else{if(i==="center"){Z-=e/2}}return Z}function Eg(e,Z,i){if(i==="middle"){e-=Z/2}else{if(i==="bottom"){e-=Z}}return e}function DS(Z2,i,v){var WH=i.x;var XY=i.y;var e=i.height;var PI=i.width;var k=e/2;var Z="left";var m="top";switch(Z2){case"left":WH-=v;XY+=k;Z="right";m="middle";break;case"right":WH+=v+PI;XY+=k;m="middle";break;case"top":WH+=PI/2;XY-=v;Z="center";m="bottom";break;case"bottom":WH+=PI/2;XY+=e+v;Z="center";break;case"inside":WH+=PI/2;XY+=k;Z="center";m="middle";break;case"insideLeft":WH+=v;XY+=k;m="middle";break;case"insideRight":WH+=PI-v;XY+=k;Z="right";m="middle";break;case"insideTop":WH+=PI/2;XY+=v;Z="center";break;case"insideBottom":WH+=PI/2;XY+=e-v;Z="center";m="bottom";break;case"insideTopLeft":WH+=v;XY+=v;break;case"insideTopRight":WH+=PI-v;XY+=v;Z="right";break;case"insideBottomLeft":WH+=v;XY+=e-v;m="bottom";break;case"insideBottomRight":WH+=PI-v;XY+=e-v;Z="right";m="bottom";break}return{x:WH,y:XY,textAlign:Z,textVerticalAlign:m}}function EW(PI,k,WH,Z,m){if(!k){return""}var e=(PI+"").split("\n");m=GN(k,WH,Z,m);for(var v=0,XY=e.length;v<XY;v++){e[v]=Dn(e[v],m)}return e.join("\n")}function GN(k,Z2,e,WH){WH=XN({},WH);WH.font=Z2;var e=Vi(e,"...");WH.maxIterations=Vi(WH.maxIterations,2);var v=WH.minChar=Vi(WH.minChar,0);WH.cnCharWidth=P7("",Z2);var m=WH.ascCharWidth=P7("a",Z2);WH.placeholder=Vi(WH.placeholder,"");var XY=k=Math.max(0,k-1);for(var PI=0;PI<v&&XY>=m;PI++){XY-=m}var Z=P7(e);if(Z>XY){e="";Z=0}XY=k-Z;WH.ellipsis=e;WH.ellipsisWidth=Z;WH.contentWidth=XY;WH.containerWidth=k;return WH}function Dn(WH,k){var Z=k.containerWidth;var v=k.font;var m=k.contentWidth;if(!Z){return""}var i=P7(WH,v);if(i<=Z){return WH}for(var e=0;;e++){if(i<=m||e>=k.maxIterations){WH+=k.ellipsis;break}var PI=e===0?CT(WH,m,k.ascCharWidth,k.cnCharWidth):i>0?Math.floor(WH.length*m/i):0;WH=WH.substr(0,PI);i=P7(WH,v)}if(WH===""){WH=k.placeholder}return WH}function CT(v,XY,Z,m){var PI=0;var k=0;for(var WH=v.length;k<WH&&PI<XY;k++){var e=v.charCodeAt(k);PI+=(0<=e&&e<=127)?Z:m}return k}function OF(Z){return P7("",Z)}function Zk(e,Z){return Sg.measureText(e,Z)}Sg.measureText=function(e,Z){var i=MY();i.font=Z||ex;return i.measureText(e)};function DC(Z2,cc,Z,e){Z2!=null&&(Z2+="");var v=OF(cc);var m=Z2?Z2.split("\n"):[];var g3=m.length*v;var XY=g3;if(Z){XY+=Z[0]+Z[2]}if(Z2&&e){var g2=e.outerHeight;var k=e.outerWidth;if(g2!=null&&XY>g2){Z2="";m=[]}else{if(k!=null){var PI=GN(k-(Z?Z[1]+Z[3]:0),cc,e.ellipsis,{minChar:e.minChar,placeholder:e.placeholder});for(var WH=0,g1=m.length;WH<g1;WH++){m[WH]=Dn(m[WH],PI)}}}}return{lines:m,height:g3,outerHeight:XY,lineHeight:v}}function Ks(g8,hl){var hd={lines:[],width:0,height:0};g8!=null&&(g8+="");if(!g8){return hd}var XY=dV.lastIndex=0;var hj;while((hj=dV.exec(g8))!=null){var g2=hj.index;if(g2>XY){Hi(hd,g8.substring(XY,g2))}Hi(hd,hj[2],hj[1]);XY=dV.lastIndex}if(XY<g8.length){Hi(hd,g8.substring(XY,g8.length))}var hb=hd.lines;var g5=0;var hg=0;var hi=[];var g4=hl.textPadding;var PI=hl.truncate;var hk=PI&&PI.outerWidth;var ha=PI&&PI.outerHeight;if(g4){hk!=null&&(hk-=g4[1]+g4[3]);ha!=null&&(ha-=g4[0]+g4[2])}for(var hh=0;hh<hb.length;hh++){var g1=hb[hh];var g9=0;var hf=0;for(var g7=0;g7<g1.tokens.length;g7++){var g3=g1.tokens[g7];var k=g3.styleName&&hl.rich[g3.styleName]||{};var WH=g3.textPadding=k.textPadding;var Z2=g3.font=k.font||hl.font;var m=g3.textHeight=Vi(k.textHeight,OF(Z2));WH&&(m+=WH[0]+WH[2]);g3.height=m;g3.lineHeight=Vh(k.textLineHeight,hl.textLineHeight,m);g3.textAlign=k&&k.textAlign||hl.textAlign;g3.textVerticalAlign=k&&k.textVerticalAlign||"middle";if(ha!=null&&g5+g3.lineHeight>ha){return{lines:[],width:0,height:0}}g3.textWidth=P7(g3.text,Z2);var cc=k.textWidth;var v=cc==null||cc==="auto";if(typeof cc==="string"&&cc.charAt(cc.length-1)==="%"){g3.percentWidth=cc;hi.push(g3);cc=0}else{if(v){cc=g3.textWidth;var he=k.textBackgroundColor;var Z=he&&he.image;if(Z){Z=HW(Z);if(H2(Z)){cc=Math.max(cc,Z.width*m/Z.height)}}}var e=WH?WH[1]+WH[3]:0;cc+=e;var hc=hk!=null?hk-hf:null;if(hc!=null&&hc<cc){if(!v||hc<e){g3.text="";g3.textWidth=cc=0}else{g3.text=EW(g3.text,hc-e,Z2,PI.ellipsis,{minChar:PI.minChar});g3.textWidth=P7(g3.text,Z2);cc=g3.textWidth+e}}}hf+=(g3.width=cc);k&&(g9=Math.max(g9,g3.lineHeight))}g1.width=hf;g1.lineHeight=g9;g5+=g9;hg=Math.max(hg,hf)}hd.outerWidth=hd.width=Vi(hl.textWidth,hg);hd.outerHeight=hd.height=Vi(hl.textHeight,g5);if(g4){hd.outerWidth+=g4[1]+g4[3];hd.outerHeight+=g4[0]+g4[2]}for(var hh=0;hh<hi.length;hh++){var g3=hi[hh];var g6=g3.percentWidth;g3.width=parseInt(g6,10)/100*hg}return hd}function Hi(WH,m,Z){var XY=m==="";var e=m.split("\n");var k=WH.lines;for(var PI=0;PI<e.length;PI++){var Z2=e[PI];var g1={styleName:Z,text:Z2,isLineHolder:!Z2&&!XY};if(!PI){var v=(k[k.length-1]||(k[0]={tokens:[]})).tokens;var cc=v.length;(cc===1&&v[0].isLineHolder)?(v[0]=g1):((Z2||!cc||XY)&&v.push(g1))}else{k.push({tokens:[g1]})}}}function dS(e){var Z=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return Z&&FJ(Z)||e.textFont||e.font}function Vu(PI,k){var cc=k.x;var g1=k.y;var Z2=k.width;var i=k.height;var Z=k.r;var v;var WH;var e;var m;if(Z2<0){cc=cc+Z2;Z2=-Z2}if(i<0){g1=g1+i;i=-i}if(typeof Z==="number"){v=WH=e=m=Z}else{if(Z instanceof Array){if(Z.length===1){v=WH=e=m=Z[0]}else{if(Z.length===2){v=e=Z[0];WH=m=Z[1]}else{if(Z.length===3){v=Z[0];WH=m=Z[1];e=Z[2]}else{v=Z[0];WH=Z[1];e=Z[2];m=Z[3]}}}}else{v=WH=e=m=0}}var XY;if(v+WH>Z2){XY=v+WH;v*=Z2/XY;WH*=Z2/XY}if(e+m>Z2){XY=e+m;e*=Z2/XY;m*=Z2/XY}if(WH+e>i){XY=WH+e;WH*=i/XY;e*=i/XY}if(v+m>i){XY=v+m;v*=i/XY;m*=i/XY}PI.moveTo(cc+v,g1);PI.lineTo(cc+Z2-WH,g1);WH!==0&&PI.arc(cc+Z2-WH,g1+WH,WH,-Math.PI/2,0);PI.lineTo(cc+Z2,g1+i-e);e!==0&&PI.arc(cc+Z2-e,g1+i-e,e,0,Math.PI/2);PI.lineTo(cc+m,g1+i);m!==0&&PI.arc(cc+m,g1+i-m,m,Math.PI/2,Math.PI);PI.lineTo(cc,g1+v);v!==0&&PI.arc(cc+v,g1+v,v,Math.PI,Math.PI*1.5)}var D8={left:1,right:1,center:1};var VA={top:1,bottom:1,middle:1};function Df(Z){aO(Z);Dy(Z.rich,aO);return Z}function aO(e){if(e){e.font=dS(e);var k=e.textAlign;k==="middle"&&(k="center");e.textAlign=(k==null||D8[k])?k:"left";var i=e.textVerticalAlign||e.textBaseline;i==="center"&&(i="middle");e.textVerticalAlign=(i==null||VA[i])?i:"top";var Z=e.textPadding;if(Z){e.textPadding=VW(e.textPadding)}}}function IF(m,k,i,Z,e){Z.rich?Vk(m,k,i,Z,e):VJ(m,k,i,Z,e)}function VJ(g7,g2,g5,hg,g4){var WH=ZU(g2,"font",hg.font||ex);var v=hg.textPadding;var g9=g7.__textCotentBlock;if(!g9||g7.__dirty){g9=g7.__textCotentBlock=DC(g5,WH,v,hg.truncate)}var k=g9.outerHeight;var hh=g9.lines;var g6=g9.lineHeight;var hd=RI(k,hg,g4);var e=hd.baseX;var Z=hd.baseY;var g3=hd.textAlign;var he=hd.textVerticalAlign;fD(g2,hg,g4,e,Z);var ha=Eg(Z,k,he);var hb=e;var hf=ha;var PI=Tq(hg);if(PI||v){var XY=P7(g5,WH);var hc=XY;v&&(hc+=v[1]+v[3]);var cc=Ef(e,hc,g3);PI&&eo(g7,g2,hg,cc,ha,hc,k);if(v){hb=ME(e,g3,v);hf+=v[0]}}ZU(g2,"textAlign",g3||"left");ZU(g2,"textBaseline","middle");ZU(g2,"shadowBlur",hg.textShadowBlur||0);ZU(g2,"shadowColor",hg.textShadowColor||"transparent");ZU(g2,"shadowOffsetX",hg.textShadowOffsetX||0);ZU(g2,"shadowOffsetY",hg.textShadowOffsetY||0);hf+=g6/2;var g8=hg.textStrokeWidth;var g1=eD(hg.textStroke,g8);var m=c4(hg.textFill);if(g1){ZU(g2,"lineWidth",g8);ZU(g2,"strokeStyle",g1)}if(m){ZU(g2,"fillStyle",m)}for(var Z2=0;Z2<hh.length;Z2++){g1&&g2.strokeText(hh[Z2],hb,hf);m&&g2.fillText(hh[Z2],hb,hf);hf+=g6}}function Vk(v,m,k,Z,i){var e=v.__textCotentBlock;if(!e||v.__dirty){e=v.__textCotentBlock=Ks(k,Z)}c9(v,m,e,Z,i)}function c9(g8,g2,hb,hk,g5){var hf=hb.width;var he=hb.outerWidth;var k=hb.outerHeight;var v=hk.textPadding;var Z2=RI(k,hk,g5);var e=Z2.baseX;var Z=Z2.baseY;var g4=Z2.textAlign;var hi=Z2.textVerticalAlign;fD(g2,hk,g5,e,Z);var g7=Ef(e,he,g4);var hc=Eg(Z,k,hi);var m=g7;var hd=hc;if(v){m+=v[3];hd+=v[0]}var hg=m+hf;Tq(hk)&&eo(g8,g2,hk,g7,hc,he,k);for(var XY=0;XY<hb.lines.length;XY++){var PI=hb.lines[XY];var WH=PI.tokens;var ha=WH.length;var g6=PI.lineHeight;var g3=PI.width;var hh=0;var g1=m;var cc=hg;var g9=ha-1;var hj;while(hh<ha&&(hj=WH[hh],!hj.textAlign||hj.textAlign==="left")){BF(g8,g2,hj,hk,g6,hd,g1,"left");g3-=hj.width;g1+=hj.width;hh++}while(g9>=0&&(hj=WH[g9],hj.textAlign==="right")){BF(g8,g2,hj,hk,g6,hd,cc,"right");g3-=hj.width;cc-=hj.width;g9--}g1+=(hf-(g1-m)-(hg-cc)-g3)/2;while(hh<=g9){hj=WH[hh];BF(g8,g2,hj,hk,g6,hd,g1+hj.width/2,"center");g1+=hj.width;hh++}hd+=g6}}function fD(v,i,e,k,m){if(e&&i.textRotation){var Z=i.textOrigin;if(Z==="center"){k=e.width/2+e.x;m=e.height/2+e.y}else{if(Z){k=Z[0]+e.x;m=Z[1]+e.y}}v.translate(k,m);v.rotate(-i.textRotation);v.translate(-k,-m)}}function BF(cc,WH,g4,XY,Z2,i,g1,Z){var m=XY.rich[g4.styleName]||{};var PI=g4.textVerticalAlign;var g2=i+Z2/2;if(PI==="top"){g2=i+g4.height/2}else{if(PI==="bottom"){g2=i+Z2-g4.height/2}}!g4.isLineHolder&&Tq(m)&&eo(cc,WH,m,Z==="right"?g1-g4.width:Z==="center"?g1-g4.width/2:g1,g2-g4.height/2,g4.width,g4.height);var k=g4.textPadding;if(k){g1=ME(g1,Z,k);g2-=g4.height/2-k[2]-g4.textHeight/2}ZU(WH,"shadowBlur",Vh(m.textShadowBlur,XY.textShadowBlur,0));ZU(WH,"shadowColor",m.textShadowColor||XY.textShadowColor||"transparent");ZU(WH,"shadowOffsetX",Vh(m.textShadowOffsetX,XY.textShadowOffsetX,0));ZU(WH,"shadowOffsetY",Vh(m.textShadowOffsetY,XY.textShadowOffsetY,0));ZU(WH,"textAlign",Z);ZU(WH,"textBaseline","middle");ZU(WH,"font",g4.font||ex);var e=eD(m.textStroke||XY.textStroke,g3);var v=c4(m.textFill||XY.textFill);var g3=Vi(m.textStrokeWidth,XY.textStrokeWidth);if(e){ZU(WH,"lineWidth",g3);ZU(WH,"strokeStyle",e);WH.strokeText(g4.text,g1,g2)}if(v){ZU(WH,"fillStyle",v);WH.fillText(g4.text,g1,g2)}}function Tq(Z){return Z.textBackgroundColor||(Z.textBorderWidth&&Z.textBorderColor)}function eo(WH,m,v,Z2,cc,i,e){var Z=v.textBackgroundColor;var XY=v.textBorderWidth;var k=v.textBorderColor;var PI=Ei(Z);ZU(m,"shadowBlur",v.textBoxShadowBlur||0);ZU(m,"shadowColor",v.textBoxShadowColor||"transparent");ZU(m,"shadowOffsetX",v.textBoxShadowOffsetX||0);ZU(m,"shadowOffsetY",v.textBoxShadowOffsetY||0);if(PI||(XY&&k)){m.beginPath();var g2=v.textBorderRadius;if(!g2){m.rect(Z2,cc,i,e)}else{Vu(m,{x:Z2,y:cc,width:i,height:e,r:g2})}m.closePath()}if(PI){ZU(m,"fillStyle",Z);m.fill()}else{if(EJ(Z)){var g1=Z.image;g1=X8(g1,null,WH,Pp,Z);if(g1&&H2(g1)){m.drawImage(g1,Z2,cc,i,e)}}}if(XY&&k){ZU(m,"lineWidth",XY);ZU(m,"strokeStyle",k);m.stroke()}}function Pp(e,Z){Z.image=e}function RI(i,v,e){var WH=v.x||0;var PI=v.y||0;var Z=v.textAlign;var k=v.textVerticalAlign;if(e){var Z2=v.textPosition;if(Z2 instanceof Array){WH=e.x+OT(Z2[0],e.width);PI=e.y+OT(Z2[1],e.height)}else{var XY=DS(Z2,e,v.textDistance);WH=XY.x;PI=XY.y;Z=Z||XY.textAlign;k=k||XY.textVerticalAlign}var m=v.textOffset;if(m){WH+=m[0];PI+=m[1]}}return{baseX:WH,baseY:PI,textAlign:Z,textVerticalAlign:k}}function ZU(i,Z,e){i[Z]=gF(i,Z,e);return i[Z]}function eD(Z,e){return(Z==null||e<=0||Z==="transparent"||Z==="none")?null:(Z.image||Z.colorStops)?"#000":Z}function c4(Z){return(Z==null||Z==="none")?null:(Z.image||Z.colorStops)?"#000":Z}function OT(Z,e){if(typeof Z==="string"){if(Z.lastIndexOf("%")>=0){return parseFloat(Z)/100*e}return parseFloat(Z)}return Z}function ME(e,i,Z){return i==="right"?(e-Z[1]):i==="center"?(e+Z[3]/2-Z[1]/2):(e+Z[3])}function W9(Z,e){return Z!=null&&(Z||e.textBackgroundColor||(e.textBorderWidth&&e.textBorderColor)||e.textPadding)}var dG=new FY();var Xj=function(){};Xj.prototype={constructor:Xj,drawRectText:function(k,e){var i=this.style;e=i.textRect||e;this.__dirty&&Df(i,true);var Z=i.text;Z!=null&&(Z+="");if(!W9(Z,i)){return}k.save();var m=this.transform;if(!i.transformText){if(m){dG.copy(e);dG.applyTransform(m);e=dG}}else{this.setTransform(k)}IF(this,k,Z,i,e);k.restore()}};function U4(Z){Z=Z||{};Ib.call(this,Z);for(var e in Z){if(Z.hasOwnProperty(e)&&e!=="style"){this[e]=Z[e]}}this.style=new Gs(Z.style,this);this._rect=null;this.__clipPaths=[]}U4.prototype={constructor:U4,type:"displayable",__dirty:true,invisible:false,z:0,z2:0,zlevel:0,draggable:false,dragging:false,silent:false,culling:false,cursor:"pointer",rectHover:false,progressive:false,incremental:false,inplace:false,beforeBrush:function(Z){},afterBrush:function(Z){},brush:function(Z,e){},getBoundingRect:function(){},contain:function(Z,e){return this.rectContain(Z,e)},traverse:function(Z,e){Z.call(e,this)},rectContain:function(e,i){var k=this.transformCoordToLocal(e,i);var Z=this.getBoundingRect();return Z.contain(k[0],k[1])},dirty:function(){this.__dirty=true;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(Z){return this.animate("style",Z)},attrKV:function(Z,e){if(Z!=="style"){Ib.prototype.attrKV.call(this,Z,e)}else{this.style.set(e)}},setStyle:function(Z,e){this.style.set(Z,e);this.dirty(false);return this},useStyle:function(Z){this.style=new Gs(Z,this);this.dirty(false);return this}};K8(U4,Ib);eG(U4,Xj);function Hv(Z){U4.call(this,Z)}Hv.prototype={constructor:Hv,type:"image",brush:function(m,Z2){var v=this.style;var Z=v.image;v.bind(m,this,Z2);var g2=this._image=X8(Z,this._image,this,this.onload);if(!g2||!H2(g2)){return}var cc=v.x||0;var g1=v.y||0;var XY=v.width;var g3=v.height;var i=g2.width/g2.height;if(XY==null&&g3!=null){XY=g3*i}else{if(g3==null&&XY!=null){g3=XY/i}else{if(XY==null&&g3==null){XY=g2.width;g3=g2.height}}}this.setTransform(m);if(v.sWidth&&v.sHeight){var WH=v.sx||0;var PI=v.sy||0;m.drawImage(g2,WH,PI,v.sWidth,v.sHeight,cc,g1,XY,g3)}else{if(v.sx&&v.sy){var WH=v.sx;var PI=v.sy;var e=XY-WH;var k=g3-PI;m.drawImage(g2,WH,PI,e,k,cc,g1,XY,g3)}else{m.drawImage(g2,cc,g1,XY,g3)}}if(v.text!=null){this.restoreTransform(m);this.drawRectText(m,this.getBoundingRect())}},getBoundingRect:function(){var Z=this.style;if(!this._rect){this._rect=new FY(Z.x||0,Z.y||0,Z.width||0,Z.height||0)}return this._rect}};K8(Hv,U4);var YC=100000;var P8=314159;var Rr=0.01;var ds=0.001;function PY(Z){return parseInt(Z,10)}function LG(Z){if(!Z){return false}if(Z.__builtin__){return true}if(typeof(Z.resize)!=="function"||typeof(Z.refresh)!=="function"){return false}return true}var Xl=new FY(0,0,0,0);var NT=new FY(0,0,0,0);function EF(Z,i,e){Xl.copy(Z.getBoundingRect());if(Z.transform){Xl.applyTransform(Z.transform)}NT.width=i;NT.height=e;return !Xl.intersect(NT)}function KL(e,k){if(e==k){return false}if(!e||!k||(e.length!==k.length)){return true}for(var Z=0;Z<e.length;Z++){if(e[Z]!==k[Z]){return true}}}function dj(k,m){for(var Z=0;Z<k.length;Z++){var e=k[Z];e.setTransform(m);m.beginPath();e.buildPath(m,e.shape);m.clip();e.restoreTransform(m)}}function Vg(i,Z){var e=document.createElement("div");e.style.cssText=["position:relative","overflow:hidden","width:"+i+"px","height:"+Z+"px","padding:0","margin:0","border-width:0"].join(";")+";";return e}var Ok=function(m,Z,v){this.type="canvas";var XY=!m.nodeName||m.nodeName.toUpperCase()==="CANVAS";this._opts=v=XN({},v||{});this.dpr=v.devicePixelRatio||ak;this._singleCanvas=XY;this.root=m;var i=m.style;if(i){i["-webkit-tap-highlight-color"]="transparent";i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none";m.innerHTML=""}this.storage=Z;var PI=this._zlevelList=[];var Z2=this._layers={};this._layerConfig={};this._needsManuallyCompositing=false;if(!XY){this._width=this._getSize(0);this._height=this._getSize(1);var e=this._domRoot=Vg(this._width,this._height);m.appendChild(e)}else{var WH=m.width;var cc=m.height;if(v.width!=null){WH=v.width}if(v.height!=null){cc=v.height}this.dpr=v.devicePixelRatio||1;m.width=WH*this.dpr;m.height=cc*this.dpr;this._width=WH;this._height=cc;var k=new bk(m,this,this.dpr);k.__builtin__=true;k.initContext();Z2[P8]=k;PI.push(P8);this._domRoot=m}this._hoverlayer=null;this._hoverElements=[]};Ok.prototype={constructor:Ok,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var Z=this.getViewportRoot();if(Z){return{offsetLeft:Z.offsetLeft||0,offsetTop:Z.offsetTop||0}}},refresh:function(m){var WH=this.storage.getDisplayList(true);var k=this._zlevelList;this._redrawId=Math.random();this._paintList(WH,m,this._redrawId);for(var e=0;e<k.length;e++){var v=k[e];var PI=this._layers[v];if(!PI.__builtin__&&PI.refresh){var Z=e===0?this._backgroundColor:null;PI.refresh(Z)}}this.refreshHover();return this},addHover:function(Z,i){if(Z.__hoverMir){return}var e=new Z.constructor({style:Z.style,shape:Z.shape});e.__from=Z;Z.__hoverMir=e;e.setStyle(i);this._hoverElements.push(e)},removeHover:function(Z){var e=Z.__hoverMir;var k=this._hoverElements;var i=FT(k,e);if(i>=0){k.splice(i,1)}Z.__hoverMir=null},clearHover:function(Z){var m=this._hoverElements;for(var e=0;e<m.length;e++){var k=m[e].__from;if(k){k.__hoverMir=null}}m.length=0},refreshHover:function(){var PI=this._hoverElements;var m=PI.length;var k=this._hoverlayer;k&&k.clear();if(!m){return}Sk(PI,this.storage.displayableSortFunc);if(!k){k=this._hoverlayer=this.getLayer(YC)}var v={};k.ctx.save();for(var e=0;e<m;){var Z=PI[e];var WH=Z.__from;if(!(WH&&WH.__zr)){PI.splice(e,1);WH.__hoverMir=null;m--;continue}e++;if(!WH.invisible){Z.transform=WH.transform;Z.invTransform=WH.invTransform;Z.__clipPaths=WH.__clipPaths;this._doPaintEl(Z,k,true,v)}}k.ctx.restore()},getHoverLayer:function(){return this.getLayer(YC)},_paintList:function(k,e,m){if(this._redrawId!==m){return}e=e||false;this._updateLayerStatus(k);var i=this._doPaintList(k,e);if(this._needsManuallyCompositing){this._compositeManually()}if(!i){var Z=this;bt(function(){Z._paintList(k,e,m)})}},_compositeManually:function(){var i=this.getLayer(P8).ctx;var e=this._domRoot.width;var Z=this._domRoot.height;i.clearRect(0,0,e,Z);this.eachBuiltinLayer(function(k){if(k.virtual){i.drawImage(k.dom,0,0,e,Z)}})},_doPaintList:function(Z,g6){var g3=[];for(var g5=0;g5<this._zlevelList.length;g5++){var g4=this._zlevelList[g5];var g1=this._layers[g4];if(g1.__builtin__&&g1!==this._hoverlayer&&(g1.__dirty||g6)){g3.push(g1)}}var m=true;for(var e=0;e<g3.length;e++){var g1=g3[e];var XY=g1.ctx;var WH={};XY.save();var g8=g6?g1.__startIndex:g1.__drawIndex;var g2=!g6&&g1.incremental&&Date.now;var Z2=g2&&Date.now();var cc=g1.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(g1.__startIndex===g1.__endIndex){g1.clear(false,cc)}else{if(g8===g1.__startIndex){var g9=Z[g8];if(!g9.incremental||!g9.notClear||g6){g1.clear(false,cc)}}}if(g8===-1){console.error("For some unknown reason. drawIndex is -1");g8=g1.__startIndex}for(var v=g8;v<g1.__endIndex;v++){var g7=Z[v];this._doPaintEl(g7,g1,g6,WH);g7.__dirty=false;if(g2){var PI=Date.now()-Z2;if(PI>15){break}}}g1.__drawIndex=v;if(g1.__drawIndex<g1.__endIndex){m=false}if(WH.prevElClipPaths){XY.restore()}XY.restore()}if(QH.wxa){Dy(this._layers,function(i){if(i&&i.ctx&&i.ctx.draw){i.ctx.draw()}})}return m},_doPaintEl:function(Z,e,i,PI){var WH=e.ctx;var k=Z.transform;if((e.__dirty||i)&&!Z.invisible&&Z.style.opacity!==0&&!(k&&!k[0]&&!k[3])&&!(Z.culling&&EF(Z,this._width,this._height))){var v=Z.__clipPaths;if(!PI.prevElClipPaths||KL(v,PI.prevElClipPaths)){if(PI.prevElClipPaths){e.ctx.restore();PI.prevElClipPaths=null;PI.prevEl=null}if(v){WH.save();dj(v,WH);PI.prevElClipPaths=v}}Z.beforeBrush&&Z.beforeBrush(WH);Z.brush(WH,PI.prevEl||null);PI.prevEl=Z;Z.afterBrush&&Z.afterBrush(WH)}},getLayer:function(e,Z){if(this._singleCanvas&&!this._needsManuallyCompositing){e=P8}var i=this._layers[e];if(!i){i=new bk("zr_"+e,this,this.dpr);i.zlevel=e;i.__builtin__=true;if(this._layerConfig[e]){LB(i,this._layerConfig[e],true)}if(Z){i.virtual=Z}this.insertLayer(e,i);i.initContext()}return i},insertLayer:function(k,Z2){var m=this._layers;var WH=this._zlevelList;var XY=WH.length;var Z=null;var v=-1;var e=this._domRoot;if(m[k]){Rz("ZLevel "+k+" has been used already");return}if(!LG(Z2)){Rz("Layer of zlevel "+k+" is not valid");return}if(XY>0&&k>WH[0]){for(v=0;v<XY-1;v++){if(WH[v]<k&&WH[v+1]>k){break}}Z=m[WH[v]]}WH.splice(v+1,0,k);m[k]=Z2;if(!Z2.virtual){if(Z){var PI=Z.dom;if(PI.nextSibling){e.insertBefore(Z2.dom,PI.nextSibling)}else{e.appendChild(Z2.dom)}}else{if(e.firstChild){e.insertBefore(Z2.dom,e.firstChild)}else{e.appendChild(Z2.dom)}}}},eachLayer:function(Z,e){var k=this._zlevelList;var v;var m;for(m=0;m<k.length;m++){v=k[m];Z.call(e,this._layers[v],v)}},eachBuiltinLayer:function(Z,e){var k=this._zlevelList;var PI;var v;var m;for(m=0;m<k.length;m++){v=k[m];PI=this._layers[v];if(PI.__builtin__){Z.call(e,PI,v)}}},eachOtherLayer:function(Z,e){var k=this._zlevelList;var PI;var v;var m;for(m=0;m<k.length;m++){v=k[m];PI=this._layers[v];if(!PI.__builtin__){Z.call(e,PI,v)}}},getLayers:function(){return this._layers},_updateLayerStatus:function(k){this.eachBuiltinLayer(function(Z2,i){Z2.__dirty=Z2.__used=false});function e(i){if(Z){if(Z.__endIndex!==i){Z.__dirty=true}Z.__endIndex=i}}if(this._singleCanvas){for(var XY=1;XY<k.length;XY++){var v=k[XY];if(v.zlevel!==k[XY-1].zlevel||v.incremental){this._needsManuallyCompositing=true;break}}}var Z=null;var PI=0;for(var XY=0;XY<k.length;XY++){var v=k[XY];var m=v.zlevel;var WH;if(v.incremental){WH=this.getLayer(m+ds,this._needsManuallyCompositing);WH.incremental=true;PI=1}else{WH=this.getLayer(m+(PI>0?Rr:0),this._needsManuallyCompositing)}if(!WH.__builtin__){Rz("ZLevel "+m+" has been used by unkown layer "+WH.id)}if(WH!==Z){WH.__used=true;if(WH.__startIndex!==XY){WH.__dirty=true}WH.__startIndex=XY;if(!WH.incremental){WH.__drawIndex=XY}else{WH.__drawIndex=-1}e(XY);Z=WH}if(v.__dirty){WH.__dirty=true;if(WH.incremental&&WH.__drawIndex<0){WH.__drawIndex=XY}}}e(XY);this.eachBuiltinLayer(function(Z2,i){if(!Z2.__used&&Z2.getElementCount()>0){Z2.__dirty=true;Z2.__startIndex=Z2.__endIndex=Z2.__drawIndex=0}if(Z2.__dirty&&Z2.__drawIndex<0){Z2.__drawIndex=Z2.__startIndex}})},clear:function(){this.eachBuiltinLayer(this._clearLayer);return this},_clearLayer:function(Z){Z.clear()},setBackgroundColor:function(Z){this._backgroundColor=Z},configLayer:function(v,m){if(m){var k=this._layerConfig;if(!k[v]){k[v]=m}else{LB(k[v],m,true)}for(var e=0;e<this._zlevelList.length;e++){var Z=this._zlevelList[e];if(Z===v||Z===v+Rr){var PI=this._layers[Z];LB(PI,k[v],true)}}}},delLayer:function(k){var i=this._layers;var e=this._zlevelList;var Z=i[k];if(!Z){return}Z.dom.parentNode.removeChild(Z.dom);delete i[k];e.splice(FT(e,k),1)},resize:function(k,Z){if(!this._domRoot.style){if(k==null||Z==null){return}this._width=k;this._height=Z;this.getLayer(P8).resize(k,Z)}else{var i=this._domRoot;i.style.display="none";var e=this._opts;k!=null&&(e.width=k);Z!=null&&(e.height=Z);k=this._getSize(0);Z=this._getSize(1);i.style.display="";if(this._width!=k||Z!=this._height){i.style.width=k+"px";i.style.height=Z+"px";for(var m in this._layers){if(this._layers.hasOwnProperty(m)){this._layers[m].resize(k,Z)}}Dy(this._progressiveLayers,function(v){v.resize(k,Z)});this.refresh(true)}this._width=k;this._height=Z}return this},clearLayer:function(e){var Z=this._layers[e];if(Z){Z.clear()}},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(v){v=v||{};if(this._singleCanvas&&!this._compositeManually){return this._layers[P8].dom}var PI=new bk("image",this,v.pixelRatio||this.dpr);PI.initContext();PI.clear(false,v.backgroundColor||this._backgroundColor);if(v.pixelRatio<=this.dpr){this.refresh();var XY=PI.dom.width;var Z=PI.dom.height;var m=PI.ctx;this.eachLayer(function(i){if(i.__builtin__){m.drawImage(i.dom,0,0,XY,Z)}else{if(i.renderToCanvas){PI.ctx.save();i.renderToCanvas(PI.ctx);PI.ctx.restore()}}})}else{var e={};var WH=this.storage.getDisplayList(true);for(var Z2=0;Z2<WH.length;Z2++){var k=WH[Z2];this._doPaintEl(k,PI,true,e)}}return PI.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(Z){var k=this._opts;var WH=["width","height"][Z];var e=["clientWidth","clientHeight"][Z];var m=["paddingLeft","paddingTop"][Z];var v=["paddingRight","paddingBottom"][Z];if(k[WH]!=null&&k[WH]!=="auto"){return parseFloat(k[WH])}var i=this.root;var PI=document.defaultView.getComputedStyle(i);return((i[e]||PY(PI[WH])||PY(i.style[WH]))-(PY(PI[m])||0)-(PY(PI[v])||0))|0},pathToImage:function(m,cc){cc=cc||this.dpr;var Z=document.createElement("canvas");var g6=Z.getContext("2d");var k=m.getBoundingRect();var g7=m.style;var g2=g7.shadowBlur*cc;var i=g7.shadowOffsetX*cc;var e=g7.shadowOffsetY*cc;var g1=g7.hasStroke()?g7.lineWidth:0;var g8=Math.max(g1/2,-i+g2);var g3=Math.max(g1/2,i+g2);var WH=Math.max(g1/2,-e+g2);var Z2=Math.max(g1/2,e+g2);var v=k.width+g8+g3;var g5=k.height+WH+Z2;Z.width=v*cc;Z.height=g5*cc;g6.scale(cc,cc);g6.clearRect(0,0,v,g5);g6.dpr=cc;var g4={position:m.position,rotation:m.rotation,scale:m.scale};m.position=[g8-k.x,WH-k.y];m.rotation=0;m.scale=[1,1];m.updateTransform();if(m){m.brush(g6)}var XY=Hv;var PI=new XY({style:{x:0,y:0,image:Z}});if(g4.position!=null){PI.position=m.position=g4.position}if(g4.rotation!=null){PI.rotation=m.rotation=g4.rotation}if(g4.scale!=null){PI.scale=m.scale=g4.scale}return PI}};var d1=(typeof window!=="undefined")&&!!window.addEventListener;var J0=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function J2(Z){return Z.getBoundingClientRect?Z.getBoundingClientRect():{left:0,top:0}}function Rv(Z,i,k,m){k=k||{};if(m||!QH.canvasSupported){E3(Z,i,k)}else{if(QH.browser.firefox&&i.layerX!=null&&i.layerX!==i.offsetX){k.zrX=i.layerX;k.zrY=i.layerY}else{if(i.offsetX!=null){k.zrX=i.offsetX;k.zrY=i.offsetY}else{E3(Z,i,k)}}}return k}function E3(Z,i,k){var m=J2(Z);k.zrX=i.clientX-m.left;k.zrY=i.clientY-m.top}function NE(Z,k,PI){k=k||window.event;if(k.zrX!=null){return k}var m=k.type;var WH=m&&m.indexOf("touch")>=0;if(!WH){Rv(Z,k,k,PI);k.zrDelta=(k.wheelDelta)?k.wheelDelta/120:-(k.detail||0)/3}else{var v=m!="touchend"?k.targetTouches[0]:k.changedTouches[0];v&&Rv(Z,v,k,PI)}var i=k.button;if(k.which==null&&i!==undefined&&J0.test(k.type)){k.which=(i&1?1:(i&2?3:(i&4?2:0)))}return k}function Gh(Z,i,e){if(d1){Z.addEventListener(i,e)}else{Z.attachEvent("on"+i,e)}}function Kz(Z,i,e){if(d1){Z.removeEventListener(i,e)}else{Z.detachEvent("on"+i,e)}}var GL=d1?function(Z){Z.preventDefault();Z.stopPropagation();Z.cancelBubble=true}:function(Z){Z.returnValue=false;Z.cancelBubble=true};function gb(Z){return Z.which>1}var Zl=function(Z){Z=Z||{};this.stage=Z.stage||{};this.onframe=Z.onframe||function(){};this._clips=[];this._running=false;this._time;this._pausedTime;this._pauseStart;this._paused=false;cx.call(this)};Zl.prototype={constructor:Zl,addClip:function(Z){this._clips.push(Z)},addAnimator:function(e){e.animation=this;var k=e.getClips();for(var Z=0;Z<k.length;Z++){this.addClip(k[Z])}},removeClip:function(Z){var e=FT(this._clips,Z);if(e>=0){this._clips.splice(e,1)}},removeAnimator:function(e){var k=e.getClips();for(var Z=0;Z<k.length;Z++){this.removeClip(k[Z])}e.animation=null},_update:function(){var k=new Date().getTime()-this._pausedTime;var Z2=k-this._time;var WH=this._clips;var XY=WH.length;var m=[];var v=[];for(var PI=0;PI<XY;PI++){var cc=WH[PI];var Z=cc.step(k,Z2);if(Z){m.push(Z);v.push(cc)}}for(var PI=0;PI<XY;){if(WH[PI]._needsRemove){WH[PI]=WH[XY-1];WH.pop();XY--}else{PI++}}XY=m.length;for(var PI=0;PI<XY;PI++){v[PI].fire(m[PI])}this._time=k;this.onframe(Z2);this.trigger("frame",Z2);if(this.stage.update){this.stage.update()}},_startLoop:function(){var e=this;this._running=true;function Z(){if(e._running){bt(Z);!e._paused&&e._update()}}bt(Z)},start:function(){this._time=new Date().getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=false},pause:function(){if(!this._paused){this._pauseStart=new Date().getTime();this._paused=true}},resume:function(){if(this._paused){this._pausedTime+=(new Date().getTime())-this._pauseStart;this._paused=false}},clear:function(){this._clips=[]},isFinished:function(){return !this._clips.length},animate:function(i,e){e=e||{};var Z=new cd(i,e.loop,e.getter,e.setter);this.addAnimator(Z);return Z}};eG(Zl,cx);var PX=function(){this._track=[]};PX.prototype={constructor:PX,recognize:function(e,i,Z){this._doTrack(e,i,Z);return this._recognize(e)},clear:function(){this._track.length=0;return this},_doTrack:function(m,XY,Z){var WH=m.touches;if(!WH){return}var v={points:[],touches:[],target:XY,event:m};for(var PI=0,Z2=WH.length;PI<Z2;PI++){var e=WH[PI];var k=Rv(Z,e,{});v.points.push([k.zrX,k.zrY]);v.touches.push(e)}this._track.push(v)},_recognize:function(e){for(var Z in Aw){if(Aw.hasOwnProperty(Z)){var i=Aw[Z](this._track,e);if(i){return i}}}}};function Q7(Z){var e=Z[1][0]-Z[0][0];var i=Z[1][1]-Z[0][1];return Math.sqrt(e*e+i*i)}function U0(Z){return[(Z[0][0]+Z[1][0])/2,(Z[0][1]+Z[1][1])/2]}var Aw={pinch:function(m,PI){var k=m.length;if(!k){return}var Z=(m[k-1]||{}).points;var e=(m[k-2]||{}).points||Z;if(e&&e.length>1&&Z&&Z.length>1){var i=Q7(Z)/Q7(e);!isFinite(i)&&(i=1);PI.pinchScale=i;var v=U0(Z);PI.pinchX=v[0];PI.pinchY=v[1];return{type:"pinch",target:m[0].target,event:PI}}}};var e9=300;var UM=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];var WS=["touchstart","touchend","touchmove"];var eA={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};var Nz=QL(UM,function(e){var Z=e.replace("mouse","pointer");return eA[Z]?Z:e});function WN(Z){return(Z==="mousewheel"&&QH.browser.firefox)?"DOMMouseScroll":Z}function fm(i,m,e){var Z=i._gestureMgr;e==="start"&&Z.clear();var v=Z.recognize(m,i.handler.findHover(m.zrX,m.zrY,null).target,i.dom);e==="end"&&Z.clear();if(v){var k=v.type;m.gestureEvent=k;i.handler.dispatchToElement({target:v.target},k,v.event)}}function Rt(Z){Z._touching=true;clearTimeout(Z._touchTimer);Z._touchTimer=setTimeout(function(){Z._touching=false},700)}var XO={mousemove:function(Z){Z=NE(this.dom,Z);this.trigger("mousemove",Z)},mouseout:function(Z){Z=NE(this.dom,Z);var e=Z.toElement||Z.relatedTarget;if(e!=this.dom){while(e&&e.nodeType!=9){if(e===this.dom){return}e=e.parentNode}}this.trigger("mouseout",Z)},touchstart:function(Z){Z=NE(this.dom,Z);Z.zrByTouch=true;this._lastTouchMoment=new Date();fm(this,Z,"start");XO.mousemove.call(this,Z);XO.mousedown.call(this,Z);Rt(this)},touchmove:function(Z){Z=NE(this.dom,Z);Z.zrByTouch=true;fm(this,Z,"change");XO.mousemove.call(this,Z);Rt(this)},touchend:function(Z){Z=NE(this.dom,Z);Z.zrByTouch=true;fm(this,Z,"end");XO.mouseup.call(this,Z);if(+new Date()-this._lastTouchMoment<e9){XO.click.call(this,Z)}Rt(this)},pointerdown:function(Z){XO.mousedown.call(this,Z)},pointermove:function(Z){if(!Ea(Z)){XO.mousemove.call(this,Z)}},pointerup:function(Z){XO.mouseup.call(this,Z)},pointerout:function(Z){if(!Ea(Z)){XO.mouseout.call(this,Z)}}};function Ea(e){var Z=e.pointerType;return Z==="pen"||Z==="touch"}Dy(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(Z){XO[Z]=function(e){e=NE(this.dom,e);this.trigger(Z,e)}});function X1(Z){Dy(WS,function(i){Z._handlers[i]=ei(XO[i],Z)});Dy(Nz,function(i){Z._handlers[i]=ei(XO[i],Z)});Dy(UM,function(i){Z._handlers[i]=e(XO[i],Z)});function e(k,i){return function(){if(i._touching){return}return k.apply(i,arguments)}}}function R5(Z){cx.call(this);this.dom=Z;this._touching=false;this._touchTimer;this._gestureMgr=new PX();this._handlers={};X1(this);if(QH.pointerEventsSupported){e(Nz,this)}else{if(QH.touchEventsSupported){e(WS,this)}e(UM,this)}function e(k,i){Dy(k,function(m){Gh(Z,WN(m),i._handlers[m])},i)}}var L5=R5.prototype;L5.dispose=function(){var k=UM.concat(WS);for(var Z=0;Z<k.length;Z++){var e=k[Z];Kz(this.dom,WN(e),this._handlers[e])}};L5.setCursor=function(Z){this.dom.style&&(this.dom.style.cursor=Z||"default")};eG(R5,cx);
/*
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var ED=!QH.canvasSupported;var Wn={canvas:Ok};var QS={};var UJ="4.0.3";function dA(Z,i){var e=new aY(BK(),Z,i);QS[e.id]=e;return e}function Qo(e){if(e){e.dispose()}else{for(var Z in QS){if(QS.hasOwnProperty(Z)){QS[Z].dispose()}}QS={}}return this}function CX(Z){return QS[Z]}function CS(Z,e){Wn[Z]=e}function OU(Z){delete QS[Z]}var aY=function(PI,e,m){m=m||{};this.dom=e;this.id=PI;var WH=this;var Z=new cb();var XY=m.renderer;if(ED){if(!Wn.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}XY="vml"}else{if(!XY||!Wn[XY]){XY="canvas"}}var Z2=new Wn[XY](e,Z,m,PI);this.storage=Z;this.painter=Z2;var v=(!QH.node&&!QH.worker)?new R5(Z2.getViewportRoot()):null;this.handler=new Jz(Z,Z2,v,Z2.root);this.animation=new Zl({stage:{update:ei(this.flush,this)}});this.animation.start();this._needsRefresh;var i=Z.delFromStorage;var k=Z.addToStorage;Z.delFromStorage=function(cc){i.call(Z,cc);cc&&cc.removeSelfFromZr(WH)};Z.addToStorage=function(cc){k.call(Z,cc);cc.addSelfToZr(WH)}};aY.prototype={constructor:aY,getId:function(){return this.id},add:function(Z){this.storage.addRoot(Z);this._needsRefresh=true},remove:function(Z){this.storage.delRoot(Z);this._needsRefresh=true},configLayer:function(e,Z){if(this.painter.configLayer){this.painter.configLayer(e,Z)}this._needsRefresh=true},setBackgroundColor:function(Z){if(this.painter.setBackgroundColor){this.painter.setBackgroundColor(Z)}this._needsRefresh=true},refreshImmediately:function(){this._needsRefresh=false;this.painter.refresh();this._needsRefresh=false},refresh:function(){this._needsRefresh=true},flush:function(){var Z;if(this._needsRefresh){Z=true;this.refreshImmediately()}if(this._needsRefreshHover){Z=true;this.refreshHoverImmediately()}Z&&this.trigger("rendered")},addHover:function(Z,e){if(this.painter.addHover){this.painter.addHover(Z,e);this.refreshHover()}},removeHover:function(Z){if(this.painter.removeHover){this.painter.removeHover(Z);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=true},refreshHoverImmediately:function(){this._needsRefreshHover=false;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(Z){Z=Z||{};this.painter.resize(Z.width,Z.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(Z,i){return this.painter.pathToImage(Z,i)},setCursorStyle:function(Z){this.handler.setCursorStyle(Z)},findHover:function(Z,e){return this.handler.findHover(Z,e)},on:function(e,i,Z){this.handler.on(e,i,Z)},off:function(Z,e){this.handler.off(Z,e)},trigger:function(Z,e){this.handler.trigger(Z,e)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;OU(this.id)}};var ez=(Object.freeze||Object)({version:UJ,init:dA,dispose:Qo,getInstance:CX,registerPainter:CS});var Cf=Dy;var cB=EJ;var M0=cW;var bE="series\0";function Y1(Z){return Z instanceof Array?Z:Z==null?[]:[Z]}function XI(e,Z,PI){if(e){e[Z]=e[Z]||{};e.emphasis=e.emphasis||{};e.emphasis[Z]=e.emphasis[Z]||{};for(var k=0,v=PI.length;k<v;k++){var m=PI[k];if(!e.emphasis[Z].hasOwnProperty(m)&&e[Z].hasOwnProperty(m)){e.emphasis[Z][m]=e[Z][m]}}}}var AU=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function XZ(Z){return(cB(Z)&&!M0(Z)&&!(Z instanceof Date))?Z.value:Z}function TI(Z){return cB(Z)&&!(Z instanceof Array)}function DO(e,i){i=(i||[]).slice();var Z=QL(e||[],function(k,m){return{exist:k}});Cf(i,function(v,m){if(!cB(v)){return}for(var k=0;k<Z.length;k++){if(!Z[k].option&&v.id!=null&&Z[k].exist.id===v.id+""){Z[k].option=v;i[m]=null;return}}for(var k=0;k<Z.length;k++){var PI=Z[k].exist;if(!Z[k].option&&(PI.id==null||v.id==null)&&v.name!=null&&!Zv(v)&&!Zv(PI)&&PI.name===v.name+""){Z[k].option=v;i[m]=null;return}}});Cf(i,function(v,m){if(!cB(v)){return}var k=0;for(;k<Z.length;k++){var PI=Z[k].exist;if(!Z[k].option&&!Zv(PI)&&v.id==null){Z[k].option=v;break}}if(k>=Z.length){Z.push({option:v})}});return Z}function fH(Z){var e=Fj();Cf(Z,function(i,k){var m=i.exist;m&&e.set(m.id,i)});Cf(Z,function(k,m){var i=k.option;SR(!i||i.id==null||!e.get(i.id)||e.get(i.id)===k,"id duplicates: "+(i&&i.id));i&&i.id!=null&&e.set(i.id,k);!k.keyInfo&&(k.keyInfo={})});Cf(Z,function(m,PI){var WH=m.exist;var k=m.option;var v=m.keyInfo;if(!cB(k)){return}v.name=k.name!=null?k.name+"":WH?WH.name:bE+PI;if(WH){v.id=WH.id}else{if(k.id!=null){v.id=k.id+""}else{var i=0;do{v.id="\0"+v.name+"\0"+i++}while(e.get(v.id))}}e.set(v.id,m)})}function M5(Z){var e=Z.name;return !!(e&&e.indexOf(bE))}function Zv(Z){return cB(Z)&&Z.id&&(Z.id+"").indexOf("\0_ec_\0")===0}function F9(i,m){var v={};var k={};e(i||[],v);e(m||[],k,v);return[Z(v),Z(k)];function e(PI,g1,g6){for(var cc=0,g5=PI.length;cc<g5;cc++){var XY=PI[cc].seriesId;var g4=Y1(PI[cc].dataIndex);var Z2=g6&&g6[XY];for(var g2=0,WH=g4.length;g2<WH;g2++){var g3=g4[g2];if(Z2&&Z2[g3]){Z2[g3]=null}else{(g1[XY]||(g1[XY]={}))[g3]=1}}}}function Z(cc,PI){var XY=[];for(var WH in cc){if(cc.hasOwnProperty(WH)&&cc[WH]!=null){if(PI){XY.push(+WH)}else{var Z2=Z(cc[WH],true);Z2.length&&XY.push({seriesId:WH,dataIndex:Z2})}}}return XY}}function Ly(e,Z){if(Z.dataIndexInside!=null){return Z.dataIndexInside}else{if(Z.dataIndex!=null){return cW(Z.dataIndex)?QL(Z.dataIndex,function(i){return e.indexOfRawIndex(i)}):e.indexOfRawIndex(Z.dataIndex)}else{if(Z.name!=null){return cW(Z.name)?QL(Z.name,function(i){return e.indexOfName(i)}):e.indexOfName(Z.name)}}}}function Uw(){var Z="__\0ec_inner_"+Nl+++"_"+Math.random().toFixed(5);return function(e){return e[Z]||(e[Z]={})}}var Nl=0;function Jh(e,v,Z){if(Ei(v)){var i={};i[v+"Index"]=0;v=i}var k=Z&&Z.defaultMainType;if(k&&!P3(v,k+"Index")&&!P3(v,k+"Id")&&!P3(v,k+"Name")){v[k+"Index"]=0}var m={};Cf(v,function(g2,PI){var g2=v[PI];if(PI==="dataIndex"||PI==="dataIndexInside"){m[PI]=g2;return}var WH=PI.match(/^(\w+)(Index|Id|Name)$/)||[];var Z2=WH[1];var cc=(WH[2]||"").toLowerCase();if(!Z2||!cc||g2==null||(cc==="index"&&g2==="none")||(Z&&Z.includeMainTypes&&FT(Z.includeMainTypes,Z2)<0)){return}var g1={mainType:Z2};if(cc!=="index"||g2!=="all"){g1[cc]=g2}var XY=e.queryComponents(g1);m[Z2+"Models"]=XY;m[Z2+"Model"]=XY[0]});return m}function P3(Z,e){return Z&&Z.hasOwnProperty(e)}function H1(Z,e,i){Z.setAttribute?Z.setAttribute(e,i):(Z[e]=i)}function p(Z,e){return Z.getAttribute?Z.getAttribute(e):Z[e]}var NO=".";var ZR="___EC__COMPONENT__CONTAINER___";function AE(Z){var e={main:"",sub:""};if(Z){Z=Z.split(NO);e.main=Z[0]||"";e.sub=Z[1]||""}return e}function I5(Z){SR(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(Z),'componentType "'+Z+'" illegal')}function AZ(e,Z){e.$constructor=e;e.extend=function(k){if(W1){Dy(Z,function(v){if(!k[v]){console.warn("Method `"+v+"` should be implemented"+(k.type?" in "+k.type:"")+".")}})}var i=this;var m=function(){if(!k.$constructor){i.apply(this,arguments)}else{k.$constructor.apply(this,arguments)}};XN(m.prototype,k);m.extend=this.extend;m.superCall=Jk;m.superApply=QC;K8(m,this);m.superClass=i;return m}}var VC=0;function Dl(e){var Z=["__\0is_clz",VC++,Math.random().toFixed(3)].join("_");e.prototype[Z]=true;if(W1){SR(!e.isInstance,'The method "is" can not be defined.')}e.isInstance=function(i){return !!(i&&i[Z])}}function Jk(Z,e){var i=Ca(arguments,2);return this.superClass.prototype[e].apply(Z,i)}function QC(Z,e,i){return this.superClass.prototype[e].apply(Z,i)}function YR(m,i){i=i||{};var Z={};m.registerClass=function(WH,v){if(v){I5(v);v=AE(v);if(!v.sub){if(W1){if(Z[v.main]){console.warn(v.main+" exists.")}}Z[v.main]=WH}else{if(v.sub!==ZR){var PI=k(v);PI[v.sub]=WH}}}return WH};m.getClass=function(PI,XY,v){var WH=Z[PI];if(WH&&WH[ZR]){WH=XY?WH[XY]:null}if(v&&!WH){throw new Error(!XY?PI+".type should be specified.":"Component "+PI+"."+(XY||"")+" not exists. Load it first.")}return WH};m.getClassesByMainType=function(PI){PI=AE(PI);var WH=[];var v=Z[PI.main];if(v&&v[ZR]){Dy(v,function(Z2,XY){XY!==ZR&&WH.push(Z2)})}else{WH.push(v)}return WH};m.hasClass=function(v){v=AE(v);return !!Z[v.main]};m.getAllClassMainTypes=function(){var v=[];Dy(Z,function(WH,PI){v.push(PI)});return v};m.hasSubTypes=function(PI){PI=AE(PI);var v=Z[PI.main];return v&&v[ZR]};m.parseClassType=AE;function k(v){var PI=Z[v.main];if(!PI||!PI[ZR]){PI=Z[v.main]={};PI[ZR]=true}return PI}if(i.registerWhenExtend){var e=m.extend;if(e){m.extend=function(v){var PI=e.call(this,v);return m.registerClass(PI,v.type)}}}return m}var C9=function(e){for(var Z=0;Z<e.length;Z++){if(!e[Z][1]){e[Z][1]=e[Z][0]}}return function(XY,PI,m){var v={};for(var k=0;k<e.length;k++){var Z2=e[k][1];if((PI&&FT(PI,Z2)>=0)||(m&&FT(m,Z2)<0)){continue}var WH=XY.getShallow(Z2);if(WH!=null){v[e[k][0]]=WH}}return v}};var Zu=C9([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var Zw={getLineStyle:function(e){var Z=Zu(this,e);var i=this.getLineDash(Z.lineWidth);i&&(Z.lineDash=i);return Z},getLineDash:function(k){if(k==null){k=1}var e=this.get("type");var i=Math.max(k,2);var Z=k*4;return(e==="solid"||e==null)?null:(e==="dashed"?[Z,Z]:[i,i])}};var UU=C9([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);var PC={getAreaStyle:function(e,Z){return UU(this,e,Z)}};var VN=Math.pow;var H7=Math.sqrt;var Tu=1e-08;var Fo=0.0001;var AQ=H7(3);var U9=1/3;var ev=dx();var Em=dx();var ew=dx();function aR(Z){return Z>-Tu&&Z<Tu}function TV(Z){return Z>Tu||Z<-Tu}function BY(e,i,m,v,k){var Z=1-k;return Z*Z*(Z*e+3*k*i)+k*k*(k*v+3*Z*m)}function C5(e,i,m,v,k){var Z=1-k;return 3*(((i-e)*Z+2*(m-i)*k)*Z+(v-m)*k*k)}function TH(g3,hf,i,g6,ha,Z2){var cc=g6+3*(hf-i)-g3;var XY=3*(i-hf*2+g3);var Z=3*(hf-g3);var g2=g3-ha;var hb=XY*XY-3*cc*Z;var g8=XY*Z-9*cc*g2;var g9=Z*Z-3*XY*g2;var v=0;if(aR(hb)&&aR(g8)){if(aR(XY)){Z2[0]=0}else{var e=-Z/XY;if(e>=0&&e<=1){Z2[v++]=e}}}else{var hc=g8*g8-4*hb*g9;if(aR(hc)){var g4=g8/hb;var e=-XY/cc+g4;var m=-g4/2;if(e>=0&&e<=1){Z2[v++]=e}if(m>=0&&m<=1){Z2[v++]=m}}else{if(hc>0){var g5=H7(hc);var k=hb*XY+1.5*cc*(-g8+g5);var PI=hb*XY+1.5*cc*(-g8-g5);if(k<0){k=-VN(-k,U9)}else{k=VN(k,U9)}if(PI<0){PI=-VN(-PI,U9)}else{PI=VN(PI,U9)}var e=(-XY-(k+PI))/(3*cc);if(e>=0&&e<=1){Z2[v++]=e}}else{var g1=(2*hb*XY-3*cc*g8)/(2*H7(hb*hb*hb));var g7=Math.acos(g1)/3;var WH=H7(hb);var hd=Math.cos(g7);var e=(-XY-2*WH*hd)/(3*cc);var m=(-XY+WH*(hd+AQ*Math.sin(g7)))/(3*cc);var he=(-XY+WH*(hd-AQ*Math.sin(g7)))/(3*cc);if(e>=0&&e<=1){Z2[v++]=e}if(m>=0&&m<=1){Z2[v++]=m}if(he>=0&&he<=1){Z2[v++]=he}}}}return v}function Ys(m,e,WH,PI,g2){var XY=6*WH-12*e+6*m;var g1=9*e+3*PI-3*m-9*WH;var Z2=3*e-3*m;var cc=0;if(aR(g1)){if(TV(XY)){var k=-Z2/XY;if(k>=0&&k<=1){g2[cc++]=k}}}else{var Z=XY*XY-4*g1*Z2;if(aR(Z)){g2[0]=-XY/(2*g1)}else{if(Z>0){var v=H7(Z);var k=(-XY+v)/(2*g1);var i=(-XY-v)/(2*g1);if(k>=0&&k<=1){g2[cc++]=k}if(i>=0&&i<=1){g2[cc++]=i}}}}return cc}function SJ(k,PI,WH,v,e,Z){var cc=(PI-k)*e+k;var i=(WH-PI)*e+PI;var Z2=(v-WH)*e+WH;var m=(i-cc)*e+cc;var XY=(Z2-i)*e+i;var g1=(XY-m)*e+m;Z[0]=k;Z[1]=cc;Z[2]=m;Z[3]=g1;Z[4]=g1;Z[5]=XY;Z[6]=Z2;Z[7]=v}function f4(PI,WH,g5,g6,g9,ha,Z2,cc,g7,g8,g2){var e;var k=0.005;var g1=Infinity;var g4;var g3;var XY;var v;ev[0]=g7;ev[1]=g8;for(var Z=0;Z<1;Z+=0.05){Em[0]=BY(PI,g5,g9,Z2,Z);Em[1]=BY(WH,g6,ha,cc,Z);XY=Gj(ev,Em);if(XY<g1){e=Z;g1=XY}}g1=Infinity;for(var m=0;m<32;m++){if(k<Fo){break}g4=e-k;g3=e+k;Em[0]=BY(PI,g5,g9,Z2,g4);Em[1]=BY(WH,g6,ha,cc,g4);XY=Gj(Em,ev);if(g4>=0&&XY<g1){e=g4;g1=XY}else{ew[0]=BY(PI,g5,g9,Z2,g3);ew[1]=BY(WH,g6,ha,cc,g3);v=Gj(ew,ev);if(g3<=1&&v<g1){e=g3;g1=v}else{k*=0.5}}}if(g2){g2[0]=BY(PI,g5,g9,Z2,e);g2[1]=BY(WH,g6,ha,cc,e)}return H7(g1)}function Jn(e,i,m,k){var Z=1-k;return Z*(Z*e+2*k*i)+k*k*m}function Pf(Z,e,k,i){return 2*((1-i)*(e-Z)+i*(k-e))}function Fi(e,v,PI,m,g1){var cc=e-2*v+PI;var WH=2*(v-e);var XY=e-m;var Z2=0;if(aR(cc)){if(TV(WH)){var k=-XY/WH;if(k>=0&&k<=1){g1[Z2++]=k}}}else{var Z=WH*WH-4*cc*XY;if(aR(Z)){var k=-WH/(2*cc);if(k>=0&&k<=1){g1[Z2++]=k}}else{if(Z>0){var g2=H7(Z);var k=(-WH+g2)/(2*cc);var i=(-WH-g2)/(2*cc);if(k>=0&&k<=1){g1[Z2++]=k}if(i>=0&&i<=1){g1[Z2++]=i}}}}return Z2}function bm(Z,i,k){var e=Z+k-2*i;if(e===0){return 0.5}else{return(Z-i)/e}}function VG(k,v,PI,e,Z){var WH=(v-k)*e+k;var i=(PI-v)*e+v;var m=(i-WH)*e+WH;Z[0]=k;Z[1]=WH;Z[2]=m;Z[3]=m;Z[4]=i;Z[5]=PI}function MP(v,PI,g3,g4,g7,g8,g5,g6,cc){var e;var k=0.005;var Z2=Infinity;ev[0]=g5;ev[1]=g6;for(var Z=0;Z<1;Z+=0.05){Em[0]=Jn(v,g3,g7,Z);Em[1]=Jn(PI,g4,g8,Z);var WH=Gj(ev,Em);if(WH<Z2){e=Z;Z2=WH}}Z2=Infinity;for(var m=0;m<32;m++){if(k<Fo){break}var g2=e-k;var g1=e+k;Em[0]=Jn(v,g3,g7,g2);Em[1]=Jn(PI,g4,g8,g2);var WH=Gj(Em,ev);if(g2>=0&&WH<Z2){e=g2;Z2=WH}else{ew[0]=Jn(v,g3,g7,g1);ew[1]=Jn(PI,g4,g8,g1);var XY=Gj(ew,ev);if(g1<=1&&XY<Z2){e=g1;Z2=XY}else{k*=0.5}}}if(cc){cc[0]=Jn(v,g3,g7,e);cc[1]=Jn(PI,g4,g8,e)}return H7(Z2)}var Ma=Math.min;var Bw=Math.max;var cw=Math.sin;var DW=Math.cos;var ZA=Math.PI*2;var CY=dx();var f1=dx();var WZ=dx();function AJ(XY,Z2,Z){if(XY.length===0){return}var e=XY[0];var v=e[0];var k=e[0];var m=e[1];var WH=e[1];var PI;for(PI=1;PI<XY.length;PI++){e=XY[PI];v=Ma(v,e[0]);k=Bw(k,e[0]);m=Ma(m,e[1]);WH=Bw(WH,e[1])}Z2[0]=v;Z2[1]=m;Z[0]=k;Z[1]=WH}function NS(e,i,k,m,v,Z){v[0]=Ma(e,k);v[1]=Ma(i,m);Z[0]=Bw(e,k);Z[1]=Bw(i,m)}var Ak=[];var r=[];function X3(m,v,e,k,g1,XY,WH,g4,g6,Z){var g5=Ys;var PI=BY;var cc;var g3=g5(m,e,g1,WH,Ak);g6[0]=Infinity;g6[1]=Infinity;Z[0]=-Infinity;Z[1]=-Infinity;for(cc=0;cc<g3;cc++){var g2=PI(m,e,g1,WH,Ak[cc]);g6[0]=Ma(g2,g6[0]);Z[0]=Bw(g2,Z[0])}g3=g5(v,k,XY,g4,r);for(cc=0;cc<g3;cc++){var Z2=PI(v,k,XY,g4,r[cc]);g6[1]=Ma(Z2,g6[1]);Z[1]=Bw(Z2,Z[1])}g6[0]=Ma(m,g6[0]);Z[0]=Bw(m,Z[0]);g6[0]=Ma(WH,g6[0]);Z[0]=Bw(WH,Z[0]);g6[1]=Ma(v,g6[1]);Z[1]=Bw(v,Z[1]);g6[1]=Ma(g4,g6[1]);Z[1]=Bw(g4,Z[1])}function OQ(m,v,i,k,WH,XY,g3,e){var cc=bm;var PI=Jn;var Z=Bw(Ma(cc(m,i,WH),1),0);var g1=Bw(Ma(cc(v,k,XY),1),0);var Z2=PI(m,i,WH,Z);var g2=PI(v,k,XY,g1);g3[0]=Ma(m,WH,Z2);g3[1]=Ma(v,XY,g2);e[0]=Bw(m,WH,Z2);e[1]=Bw(v,XY,g2)}function UP(g1,g2,XY,Z2,g3,e,v,Z,i){var k=fw;var m=QO;var PI=Math.abs(g3-e);if(PI%ZA<0.0001&&PI>0.0001){Z[0]=g1-XY;Z[1]=g2-Z2;i[0]=g1+XY;i[1]=g2+Z2;return}CY[0]=DW(g3)*XY+g1;CY[1]=cw(g3)*Z2+g2;f1[0]=DW(e)*XY+g1;f1[1]=cw(e)*Z2+g2;k(Z,CY,f1);m(i,CY,f1);g3=g3%(ZA);if(g3<0){g3=g3+ZA}e=e%(ZA);if(e<0){e=e+ZA}if(g3>e&&!v){e+=ZA}else{if(g3<e&&v){g3+=ZA}}if(v){var WH=e;e=g3;g3=WH}for(var cc=0;cc<e;cc+=Math.PI/2){if(cc>g3){WZ[0]=DW(cc)*XY+g1;WZ[1]=cw(cc)*Z2+g2;k(Z,WZ,Z);m(i,WZ,i)}}}var db={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var SA=[];var Yi=[];var Wb=[];var Ft=[];var L9=Math.min;var Bv=Math.max;var DX=Math.cos;var cy=Math.sin;var Rh=Math.sqrt;var SV=Math.abs;var Nu=typeof Float32Array!="undefined";var OX=function(Z){this._saveData=!(Z||false);if(this._saveData){this.data=[]}this._ctx=null};OX.prototype={constructor:OX,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(Z,e){this._ux=SV(1/ak/Z)||0;this._uy=SV(1/ak/e)||0},getContext:function(){return this._ctx},beginPath:function(Z){this._ctx=Z;Z&&Z.beginPath();Z&&(this.dpr=Z.dpr);if(this._saveData){this._len=0}if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(Z,e){this.addData(db.M,Z,e);this._ctx&&this._ctx.moveTo(Z,e);this._x0=Z;this._y0=e;this._xi=Z;this._yi=e;return this},lineTo:function(e,i){var Z=SV(e-this._xi)>this._ux||SV(i-this._yi)>this._uy||this._len<5;this.addData(db.L,e,i);if(this._ctx&&Z){this._needsDash()?this._dashedLineTo(e,i):this._ctx.lineTo(e,i)}if(Z){this._xi=e;this._yi=i}return this},bezierCurveTo:function(m,v,Z,e,i,k){this.addData(db.C,m,v,Z,e,i,k);if(this._ctx){this._needsDash()?this._dashedBezierTo(m,v,Z,e,i,k):this._ctx.bezierCurveTo(m,v,Z,e,i,k)}this._xi=i;this._yi=k;return this},quadraticCurveTo:function(i,k,Z,e){this.addData(db.Q,i,k,Z,e);if(this._ctx){this._needsDash()?this._dashedQuadraticTo(i,k,Z,e):this._ctx.quadraticCurveTo(i,k,Z,e)}this._xi=Z;this._yi=e;return this},arc:function(v,Z,e,m,i,k){this.addData(db.A,v,Z,e,e,m,i-m,0,k?0:1);this._ctx&&this._ctx.arc(v,Z,e,m,i,k);this._xi=DX(i)*e+v;this._yi=cy(i)*e+v;return this},arcTo:function(k,m,Z,e,i){if(this._ctx){this._ctx.arcTo(k,m,Z,e,i)}return this},rect:function(e,i,k,Z){this._ctx&&this._ctx.rect(e,i,k,Z);this.addData(db.R,e,i,k,Z);return this},closePath:function(){this.addData(db.Z);var i=this._ctx;var Z=this._x0;var e=this._y0;if(i){this._needsDash()&&this._dashedLineTo(Z,e);i.closePath()}this._xi=Z;this._yi=e;return this},fill:function(Z){Z&&Z.fill();this.toStatic()},stroke:function(Z){Z&&Z.stroke();this.toStatic()},setLineDash:function(k){if(k instanceof Array){this._lineDash=k;this._dashIdx=0;var e=0;for(var Z=0;Z<k.length;Z++){e+=k[Z]}this._dashSum=e}return this},setLineDashOffset:function(Z){this._dashOffset=Z;return this},len:function(){return this._len},setData:function(k){var Z=k.length;if(!(this.data&&this.data.length==Z)&&Nu){this.data=new Float32Array(Z)}for(var e=0;e<Z;e++){this.data[e]=k[e]}this._len=Z},appendPath:function(XY){if(!(XY instanceof Array)){XY=[XY]}var e=XY.length;var WH=0;var m=this._len;for(var v=0;v<e;v++){WH+=XY[v].len()}if(Nu&&(this.data instanceof Float32Array)){this.data=new Float32Array(m+WH)}for(var v=0;v<e;v++){var PI=XY[v].data;for(var Z=0;Z<PI.length;Z++){this.data[m++]=PI[Z]}}this._len=m},addData:function(e){if(!this._saveData){return}var k=this.data;if(this._len+arguments.length>k.length){this._expandData();k=this.data}for(var Z=0;Z<arguments.length;Z++){k[this._len++]=arguments[Z]}this._prevCmd=e},_expandData:function(){if(!(this.data instanceof Array)){var Z=[];for(var e=0;e<this._len;e++){Z[e]=this.data[e]}this.data=Z}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(k,m){var g4=this._dashSum;var i=this._dashOffset;var v=this._lineDash;var XY=this._ctx;var PI=this._xi;var WH=this._yi;var g1=k-PI;var Z2=m-WH;var g2=Rh(g1*g1+Z2*Z2);var g5=PI;var g3=WH;var cc;var e=v.length;var Z;g1/=g2;Z2/=g2;if(i<0){i=g4+i}i%=g4;g5-=i*g1;g3-=i*Z2;while((g1>0&&g5<=k)||(g1<0&&g5>=k)||(g1==0&&((Z2>0&&g3<=m)||(Z2<0&&g3>=m)))){Z=this._dashIdx;cc=v[Z];g5+=g1*cc;g3+=Z2*cc;this._dashIdx=(Z+1)%e;if((g1>0&&g5<PI)||(g1<0&&g5>PI)||(Z2>0&&g3<WH)||(Z2<0&&g3>WH)){continue}XY[Z%2?"moveTo":"lineTo"](g1>=0?L9(g5,k):Bv(g5,k),Z2>=0?L9(g3,m):Bv(g3,m))}g1=g5-k;Z2=g3-m;this._dashOffset=-Rh(g1*g1+Z2*Z2)},_dashedBezierTo:function(Z,g6,g5,hb,g2,Z2){var XY=this._dashSum;var cc=this._dashOffset;var v=this._lineDash;var ha=this._ctx;var k=this._xi;var PI=this._yi;var e;var m;var g4;var g3=BY;var g1=0;var g9=this._dashIdx;var WH=v.length;var g7;var g8;var i=0;if(cc<0){cc=XY+cc}cc%=XY;for(e=0;e<1;e+=0.1){m=g3(k,Z,g5,g2,e+0.1)-g3(k,Z,g5,g2,e);g4=g3(PI,g6,hb,Z2,e+0.1)-g3(PI,g6,hb,Z2,e);g1+=Rh(m*m+g4*g4)}for(;g9<WH;g9++){i+=v[g9];if(i>cc){break}}e=(i-cc)/g1;while(e<=1){g7=g3(k,Z,g5,g2,e);g8=g3(PI,g6,hb,Z2,e);g9%2?ha.moveTo(g7,g8):ha.lineTo(g7,g8);e+=v[g9]/g1;g9=(g9+1)%WH}(g9%2!==0)&&ha.lineTo(g2,Z2);m=g2-g7;g4=Z2-g8;this._dashOffset=-Rh(m*m+g4*g4)},_dashedQuadraticTo:function(m,v,Z,e){var i=Z;var k=e;Z=(Z+2*m)/3;e=(e+2*v)/3;m=(this._xi+2*m)/3;v=(this._yi+2*v)/3;this._dashedBezierTo(m,v,Z,e,i,k)},toStatic:function(){var Z=this.data;if(Z instanceof Array){Z.length=this._len;if(Nu){this.data=new Float32Array(Z)}}},getBoundingRect:function(){SA[0]=SA[1]=Wb[0]=Wb[1]=Number.MAX_VALUE;Yi[0]=Yi[1]=Ft[0]=Ft[1]=-Number.MAX_VALUE;var XY=this.data;var Z=0;var g6=0;var v=0;var PI=0;for(var k=0;k<XY.length;){var cc=XY[k++];if(k==1){Z=XY[k];g6=XY[k+1];v=Z;PI=g6}switch(cc){case db.M:v=XY[k++];PI=XY[k++];Z=v;g6=PI;Wb[0]=v;Wb[1]=PI;Ft[0]=v;Ft[1]=PI;break;case db.L:NS(Z,g6,XY[k],XY[k+1],Wb,Ft);Z=XY[k++];g6=XY[k++];break;case db.C:X3(Z,g6,XY[k++],XY[k++],XY[k++],XY[k++],XY[k],XY[k+1],Wb,Ft);Z=XY[k++];g6=XY[k++];break;case db.Q:OQ(Z,g6,XY[k++],XY[k++],XY[k],XY[k+1],Wb,Ft);Z=XY[k++];g6=XY[k++];break;case db.A:var e=XY[k++];var g3=XY[k++];var g4=XY[k++];var m=XY[k++];var WH=XY[k++];var g1=XY[k++]+WH;var Z2=XY[k++];var g5=1-XY[k++];if(k==1){v=DX(WH)*g4+e;PI=cy(WH)*m+g3}UP(e,g3,g4,m,WH,g1,g5,Wb,Ft);Z=DX(g1)*g4+e;g6=cy(g1)*m+g3;break;case db.R:v=Z=XY[k++];PI=g6=XY[k++];var g2=XY[k++];var g7=XY[k++];NS(v,PI,v+g2,PI+g7,Wb,Ft);break;case db.Z:Z=v;g6=PI;break}fw(SA,SA,Wb);QO(Yi,Yi,Ft)}if(k===0){SA[0]=SA[1]=Yi[0]=Yi[1]=0}return new FY(SA[0],SA[1],Yi[0]-SA[0],Yi[1]-SA[1])},rebuildPath:function(cc){var g3=this.data;var Z2,XY;var k,m;var hd,he;var hg=this._ux;var g2=this._uy;var PI=this._len;for(var WH=0;WH<PI;){var g4=g3[WH++];if(WH==1){k=g3[WH];m=g3[WH+1];Z2=k;XY=m}switch(g4){case db.M:Z2=k=g3[WH++];XY=m=g3[WH++];cc.moveTo(k,m);break;case db.L:hd=g3[WH++];he=g3[WH++];if(SV(hd-k)>hg||SV(he-m)>g2||WH===PI-1){cc.lineTo(hd,he);k=hd;m=he}break;case db.C:cc.bezierCurveTo(g3[WH++],g3[WH++],g3[WH++],g3[WH++],g3[WH++],g3[WH++]);k=g3[WH-2];m=g3[WH-1];break;case db.Q:cc.quadraticCurveTo(g3[WH++],g3[WH++],g3[WH++],g3[WH++]);k=g3[WH-2];m=g3[WH-1];break;case db.A:var v=g3[WH++];var g8=g3[WH++];var hc=g3[WH++];var hb=g3[WH++];var g7=g3[WH++];var ha=g3[WH++];var g9=g3[WH++];var g1=g3[WH++];var Z=(hc>hb)?hc:hb;var e=(hc>hb)?1:hc/hb;var g6=(hc>hb)?hb/hc:1;var hf=Math.abs(hc-hb)>0.001;var g5=g7+ha;if(hf){cc.translate(v,g8);cc.rotate(g9);cc.scale(e,g6);cc.arc(0,0,Z,g7,g5,1-g1);cc.scale(1/e,1/g6);cc.rotate(-g9);cc.translate(-v,-g8)}else{cc.arc(v,g8,Z,g7,g5,1-g1)}if(WH==1){Z2=DX(g7)*hc+v;XY=cy(g7)*hb+g8}k=DX(g5)*hc+v;m=cy(g5)*hb+g8;break;case db.R:Z2=k=g3[WH];XY=m=g3[WH+1];cc.rect(g3[WH++],g3[WH++],g3[WH++],g3[WH++]);break;case db.Z:cc.closePath();k=Z2;m=XY}}}};OX.CMD=db;function S(k,m,Z,e,PI,XY,Z2){if(PI===0){return false}var g1=PI;var i=0;var WH=k;if((Z2>m+g1&&Z2>e+g1)||(Z2<m-g1&&Z2<e-g1)||(XY>k+g1&&XY>Z+g1)||(XY<k-g1&&XY<Z-g1)){return false}if(k!==Z){i=(m-e)/(k-Z);WH=(k*e-Z*m)/(k-Z)}else{return Math.abs(XY-k)<=g1/2}var v=i*XY-Z2+WH;var cc=v*v/(i*i+1);return cc<=g1/2*g1/2}function Q(i,k,Z,e,WH,v,m,cc,PI,XY,Z2){if(PI===0){return false}var g1=PI;if((Z2>k+g1&&Z2>e+g1&&Z2>v+g1&&Z2>cc+g1)||(Z2<k-g1&&Z2<e-g1&&Z2<v-g1&&Z2<cc-g1)||(XY>i+g1&&XY>Z+g1&&XY>WH+g1&&XY>m+g1)||(XY<i-g1&&XY<Z-g1&&XY<WH-g1&&XY<m-g1)){return false}var g2=f4(i,k,Z,e,WH,v,m,cc,XY,Z2,null);return g2<=g1/2}function DL(i,k,Z,e,m,PI,v,WH,XY){if(v===0){return false}var Z2=v;if((XY>k+Z2&&XY>e+Z2&&XY>PI+Z2)||(XY<k-Z2&&XY<e-Z2&&XY<PI-Z2)||(WH>i+Z2&&WH>Z+Z2&&WH>m+Z2)||(WH<i-Z2&&WH<Z-Z2&&WH<m-Z2)){return false}var cc=MP(i,k,Z,e,m,PI,WH,XY,null);return cc<=Z2/2}var fq=Math.PI*2;function dv(Z){Z%=fq;if(Z<0){Z+=fq}return Z}var fp=Math.PI*2;function P(v,k,Z,g2,e,WH,PI,Z2,cc){if(PI===0){return false}var g1=PI;Z2-=v;cc-=k;var i=Math.sqrt(Z2*Z2+cc*cc);if((i-g1>Z)||(i+g1<Z)){return false}if(Math.abs(g2-e)%fp<0.0001){return true}if(WH){var m=g2;g2=dv(e);e=dv(m)}else{g2=dv(g2);e=dv(e)}if(g2>e){e+=fp}var XY=Math.atan2(cc,Z2);if(XY<0){XY+=fp}return(XY>=g2&&XY<=e)||(XY+fp>=g2&&XY+fp<=e)}function Yj(m,v,e,i,WH,XY){if((XY>v&&XY>i)||(XY<v&&XY<i)){return 0}if(i===v){return 0}var Z=i<v?1:-1;var k=(XY-v)/(i-v);if(k===1||k===0){Z=i<v?0.5:-0.5}var PI=k*(e-m)+m;return PI>WH?Z:0}var OK=OX.CMD;var fo=Math.PI*2;var Ts=0.0001;function Cb(e,Z){return Math.abs(e-Z)<Ts}var VO=[-1,-1,-1];var XH=[-1,-1];function TX(){var Z=XH[0];XH[0]=XH[1];XH[1]=Z}function Hf(PI,WH,g4,g5,g8,g9,XY,Z2,g6,g7){if((g7>WH&&g7>g5&&g7>g9&&g7>Z2)||(g7<WH&&g7<g5&&g7<g9&&g7<Z2)){return 0}var m=TH(WH,g5,g9,Z2,g7,VO);if(m===0){return 0}else{var e=0;var g1=-1;var Z,cc;for(var v=0;v<m;v++){var k=VO[v];var g3=(k===0||k===1)?0.5:1;var g2=BY(PI,g4,g8,XY,k);if(g2<g6){continue}if(g1<0){g1=Ys(WH,g5,g9,Z2,XH);if(XH[1]<XH[0]&&g1>1){TX()}Z=BY(WH,g5,g9,Z2,XH[0]);if(g1>1){cc=BY(WH,g5,g9,Z2,XH[1])}}if(g1==2){if(k<XH[0]){e+=Z<WH?g3:-g3}else{if(k<XH[1]){e+=cc<Z?g3:-g3}else{e+=Z2<cc?g3:-g3}}}else{if(k<XH[0]){e+=Z<WH?g3:-g3}else{e+=Z2<Z?g3:-g3}}}return e}}function RW(PI,WH,k,m,XY,Z2,g2,g3){if((g3>WH&&g3>m&&g3>Z2)||(g3<WH&&g3<m&&g3<Z2)){return 0}var e=Fi(WH,m,Z2,g3,VO);if(e===0){return 0}else{var v=bm(WH,m,Z2);if(v>=0&&v<=1){var cc=0;var g1=Jn(WH,m,Z2,v);for(var g4=0;g4<e;g4++){var g5=(VO[g4]===0||VO[g4]===1)?0.5:1;var Z=Jn(PI,k,XY,VO[g4]);if(Z<g2){continue}if(VO[g4]<v){cc+=g1<WH?g5:-g5}else{cc+=Z2<g1?g5:-g5}}return cc}else{var g5=(VO[0]===0||VO[0]===1)?0.5:1;var Z=Jn(PI,k,XY,VO[0]);if(Z<g2){return 0}return Z2<WH?g5:-g5}}}function Zf(XY,PI,Z,g5,e,Z2,g2,g3){g3-=PI;if(g3>Z||g3<-Z){return 0}var WH=Math.sqrt(Z*Z-g3*g3);VO[0]=-WH;VO[1]=WH;var m=Math.abs(g5-e);if(m<0.0001){return 0}if(m%fo<0.0001){g5=0;e=fo;var k=Z2?1:-1;if(g2>=VO[0]+XY&&g2<=VO[1]+XY){return k}else{return 0}}if(Z2){var WH=g5;g5=dv(e);e=dv(WH)}else{g5=dv(g5);e=dv(e)}if(g5>e){e+=fo}var v=0;for(var cc=0;cc<2;cc++){var g4=VO[cc];if(g4+XY>g2){var g1=Math.atan2(g3,g4);var k=Z2?1:-1;if(g1<0){g1=fo+g1}if((g1>=g5&&g1<=e)||(g1+fo>=g5&&g1+fo<=e)){if(g1>Math.PI/2&&g1<Math.PI*1.5){k=-k}v+=k}}}return v}function F4(hb,g9,g2,hc,hd){var g8=0;var m=0;var v=0;var cc=0;var g1=0;for(var WH=0;WH<hb.length;){var g4=hb[WH++];if(g4===OK.M&&WH>1){if(!g2){g8+=Yj(m,v,cc,g1,hc,hd)}}if(WH==1){m=hb[WH];v=hb[WH+1];cc=m;g1=v}switch(g4){case OK.M:cc=hb[WH++];g1=hb[WH++];m=cc;v=g1;break;case OK.L:if(g2){if(S(m,v,hb[WH],hb[WH+1],g9,hc,hd)){return true}}else{g8+=Yj(m,v,hb[WH],hb[WH+1],hc,hd)||0}m=hb[WH++];v=hb[WH++];break;case OK.C:if(g2){if(Q(m,v,hb[WH++],hb[WH++],hb[WH++],hb[WH++],hb[WH],hb[WH+1],g9,hc,hd)){return true}}else{g8+=Hf(m,v,hb[WH++],hb[WH++],hb[WH++],hb[WH++],hb[WH],hb[WH+1],hc,hd)||0}m=hb[WH++];v=hb[WH++];break;case OK.Q:if(g2){if(DL(m,v,hb[WH++],hb[WH++],hb[WH],hb[WH+1],g9,hc,hd)){return true}}else{g8+=RW(m,v,hb[WH++],hb[WH++],hb[WH],hb[WH+1],hc,hd)||0}m=hb[WH++];v=hb[WH++];break;case OK.A:var PI=hb[WH++];var g6=hb[WH++];var hf=hb[WH++];var XY=hb[WH++];var g5=hb[WH++];var g7=hb[WH++];var g3=hb[WH++];var Z=1-hb[WH++];var ha=Math.cos(g5)*hf+PI;var k=Math.sin(g5)*XY+g6;if(WH>1){g8+=Yj(m,v,ha,k,hc,hd)}else{cc=ha;g1=k}var e=(hc-PI)*XY/hf+PI;if(g2){if(P(PI,g6,XY,g5,g5+g7,Z,g9,e,hd)){return true}}else{g8+=Zf(PI,g6,XY,g5,g5+g7,Z,e,hd)}m=Math.cos(g5+g7)*hf+PI;v=Math.sin(g5+g7)*XY+g6;break;case OK.R:cc=m=hb[WH++];g1=v=hb[WH++];var Z2=hb[WH++];var he=hb[WH++];var ha=cc+Z2;var k=g1+he;if(g2){if(S(cc,g1,ha,g1,g9,hc,hd)||S(ha,g1,ha,k,g9,hc,hd)||S(ha,k,cc,k,g9,hc,hd)||S(cc,k,cc,g1,g9,hc,hd)){return true}}else{g8+=Yj(ha,g1,ha,k,hc,hd);g8+=Yj(cc,k,cc,g1,hc,hd)}break;case OK.Z:if(g2){if(S(m,v,cc,g1,g9,hc,hd)){return true}}else{g8+=Yj(m,v,cc,g1,hc,hd)}m=cc;v=g1;break}}if(!g2&&!Cb(v,g1)){g8+=Yj(m,v,cc,g1,hc,hd)||0}return g8!==0}function MJ(i,Z,e){return F4(i,0,false,Z,e)}function Zi(i,e,Z,k){return F4(i,e,true,Z,k)}var OY=B8.prototype.getCanvasPattern;var In=Math.abs;var KJ=new OX(true);function Mj(Z){U4.call(this,Z);this.path=null}Mj.prototype={constructor:Mj,type:"path",__dirtyPath:true,strokeContainThreshold:5,brush:function(PI,i){var g5=this.style;var Z2=this.path||KJ;var g2=g5.hasStroke();var Z=g5.hasFill();var g4=g5.fill;var cc=g5.stroke;var e=Z&&!!(g4.colorStops);var g1=g2&&!!(cc.colorStops);var m=Z&&!!(g4.image);var g6=g2&&!!(cc.image);g5.bind(PI,this,i);this.setTransform(PI);if(this.__dirty){var XY;if(e){XY=XY||this.getBoundingRect();this._fillGradient=g5.getGradient(PI,g4,XY)}if(g1){XY=XY||this.getBoundingRect();this._strokeGradient=g5.getGradient(PI,cc,XY)}}if(e){PI.fillStyle=this._fillGradient}else{if(m){PI.fillStyle=OY.call(g4,PI)}}if(g1){PI.strokeStyle=this._strokeGradient}else{if(g6){PI.strokeStyle=OY.call(cc,PI)}}var v=g5.lineDash;var g3=g5.lineDashOffset;var WH=!!PI.setLineDash;var k=this.getGlobalScale();Z2.setScale(k[0],k[1]);if(this.__dirtyPath||(v&&!WH&&g2)){Z2.beginPath(PI);if(v&&!WH){Z2.setLineDash(v);Z2.setLineDashOffset(g3)}this.buildPath(Z2,this.shape,false);if(this.path){this.__dirtyPath=false}}else{PI.beginPath();this.path.rebuildPath(PI)}Z&&Z2.fill(PI);if(v&&WH){PI.setLineDash(v);PI.lineDashOffset=g3}g2&&Z2.stroke(PI);if(v&&WH){PI.setLineDash([])}if(g5.text!=null){this.restoreTransform(PI);this.drawRectText(PI,this.getBoundingRect())}},buildPath:function(i,e,Z){},createPathProxy:function(){this.path=new OX()},getBoundingRect:function(){var i=this._rect;var k=this.style;var Z=!i;if(Z){var PI=this.path;if(!PI){PI=this.path=new OX()}if(this.__dirtyPath){PI.beginPath();this.buildPath(PI,this.shape,false)}i=PI.getBoundingRect()}this._rect=i;if(k.hasStroke()){var v=this._rectWithStroke||(this._rectWithStroke=i.clone());if(this.__dirty||Z){v.copy(i);var m=k.lineWidth;var e=k.strokeNoScale?this.getLineScale():1;if(!k.hasFill()){m=Math.max(m,this.strokeContainThreshold||4)}if(e>1e-10){v.width+=m/e;v.height+=m/e;v.x-=m/e/2;v.y-=m/e/2}}return v}return i},contain:function(v,PI){var WH=this.transformCoordToLocal(v,PI);var Z=this.getBoundingRect();var k=this.style;v=WH[0];PI=WH[1];if(Z.contain(v,PI)){var i=this.path.data;if(k.hasStroke()){var m=k.lineWidth;var e=k.strokeNoScale?this.getLineScale():1;if(e>1e-10){if(!k.hasFill()){m=Math.max(m,this.strokeContainThreshold)}if(Zi(i,m/e,v,PI)){return true}}}if(k.hasFill()){return MJ(i,v,PI)}}return false},dirty:function(Z){if(Z==null){Z=true}if(Z){this.__dirtyPath=Z;this._rect=null}this.__dirty=true;this.__zr&&this.__zr.refresh();if(this.__clipTarget){this.__clipTarget.dirty()}},animateShape:function(Z){return this.animate("shape",Z)},attrKV:function(Z,e){if(Z==="shape"){this.setShape(e);this.__dirtyPath=true;this._rect=null}else{U4.prototype.attrKV.call(this,Z,e)}},setShape:function(Z,i){var k=this.shape;if(k){if(EJ(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){k[e]=Z[e]}}}else{k[Z]=i}this.dirty(true)}return this},getLineScale:function(){var Z=this.transform;return Z&&In(Z[0]-1)>1e-10&&In(Z[3]-1)>1e-10?Math.sqrt(In(Z[0]*Z[3]-Z[2]*Z[1])):1}};Mj.extend=function(i){var Z=function(m){Mj.call(this,m);if(i.style){this.style.extendFrom(i.style,false)}var k=i.shape;if(k){this.shape=this.shape||{};var v=this.shape;for(var PI in k){if(!v.hasOwnProperty(PI)&&k.hasOwnProperty(PI)){v[PI]=k[PI]}}}i.init&&i.init.call(this,m)};K8(Z,Mj);for(var e in i){if(e!=="style"&&e!=="shape"){Z.prototype[e]=i[e]}}return Z};K8(Mj,U4);var OM=OX.CMD;var TT=[[],[],[]];var Jw=Math.sqrt;var Xt=Math.atan2;var V9=function(g1,Z2){var g7=g1.data;var g2;var PI;var WH;var e;var v;var Z;var g4=OM.M;var g5=OM.C;var g3=OM.L;var hb=OM.R;var g6=OM.A;var cc=OM.Q;for(WH=0,e=0;WH<g7.length;){g2=g7[WH++];e=WH;PI=0;switch(g2){case g4:PI=1;break;case g3:PI=1;break;case g5:PI=3;break;case cc:PI=2;break;case g6:var g9=Z2[4];var ha=Z2[5];var g8=Jw(Z2[0]*Z2[0]+Z2[1]*Z2[1]);var XY=Jw(Z2[2]*Z2[2]+Z2[3]*Z2[3]);var hc=Xt(-Z2[1]/XY,Z2[0]/g8);g7[WH]*=g8;g7[WH++]+=g9;g7[WH]*=XY;g7[WH++]+=ha;g7[WH++]*=g8;g7[WH++]*=XY;g7[WH++]+=hc;g7[WH++]+=hc;WH+=2;e=WH;break;case hb:Z[0]=g7[WH++];Z[1]=g7[WH++];Ip(Z,Z,Z2);g7[e++]=Z[0];g7[e++]=Z[1];Z[0]+=g7[WH++];Z[1]+=g7[WH++];Ip(Z,Z,Z2);g7[e++]=Z[0];g7[e++]=Z[1]}for(v=0;v<PI;v++){var Z=TT[v];Z[0]=g7[WH++];Z[1]=g7[WH++];Ip(Z,Z,Z2);g7[e++]=Z[0];g7[e++]=Z[1]}}};var Pe=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];var d2=Math.sqrt;var Ne=Math.sin;var Rq=Math.cos;var Z1=Math.PI;var Fg=function(Z){return Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1])};var Td=function(e,Z){return(e[0]*Z[0]+e[1]*Z[1])/(Fg(e)*Fg(Z))};var OI=function(e,Z){return(e[0]*Z[1]<e[1]*Z[0]?-1:1)*Math.acos(Td(e,Z))};function FL(hb,k,hd,he,e,cc,hc,WH,PI,g4,g2){var g3=PI*(Z1/180);var XY=Rq(g3)*(hb-hd)/2+Ne(g3)*(k-he)/2;var Z2=-1*Ne(g3)*(hb-hd)/2+Rq(g3)*(k-he)/2;var ha=(XY*XY)/(hc*hc)+(Z2*Z2)/(WH*WH);if(ha>1){hc*=d2(ha);WH*=d2(ha)}var g1=(e===cc?-1:1)*d2((((hc*hc)*(WH*WH))-((hc*hc)*(Z2*Z2))-((WH*WH)*(XY*XY)))/((hc*hc)*(Z2*Z2)+(WH*WH)*(XY*XY)))||0;var g6=g1*hc*Z2/WH;var Z=g1*-WH*XY/hc;var g5=(hb+hd)/2+Rq(g3)*g6-Ne(g3)*Z;var g8=(k+he)/2+Ne(g3)*g6+Rq(g3)*Z;var g7=OI([1,0],[(XY-g6)/hc,(Z2-Z)/WH]);var m=[(XY-g6)/hc,(Z2-Z)/WH];var i=[(-1*XY-g6)/hc,(-1*Z2-Z)/WH];var g9=OI(m,i);if(Td(m,i)<=-1){g9=Z1}if(Td(m,i)>=1){g9=0}if(cc===0&&g9>0){g9=g9-2*Z1}if(cc===1&&g9<0){g9=g9+2*Z1}g2.addData(g4,g5,g8,hc,WH,g7,g9,g3,cc)}function LZ(hf){if(!hf){return[]}var cc=hf.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");var Z2;for(Z2=0;Z2<Pe.length;Z2++){cc=cc.replace(new RegExp(Pe[Z2],"g"),"|"+Pe[Z2])}var ha=cc.split("|");var e=0;var hc=0;var g4=new OX();var hb=OX.CMD;var g1;for(Z2=1;Z2<ha.length;Z2++){var Z=ha[Z2];var g2=Z.charAt(0);var g6=0;var k=Z.slice(1).replace(/e,-/g,"e-").split(",");var g7;if(k.length>0&&k[0]===""){k.shift()}for(var XY=0;XY<k.length;XY++){k[XY]=parseFloat(k[XY])}while(g6<k.length&&!isNaN(k[g6])){if(isNaN(k[0])){break}var hd;var WH;var hg;var he;var g5;var m;var g3;var v=e;var PI=hc;switch(g2){case"l":e+=k[g6++];hc+=k[g6++];g7=hb.L;g4.addData(g7,e,hc);break;case"L":e=k[g6++];hc=k[g6++];g7=hb.L;g4.addData(g7,e,hc);break;case"m":e+=k[g6++];hc+=k[g6++];g7=hb.M;g4.addData(g7,e,hc);g2="l";break;case"M":e=k[g6++];hc=k[g6++];g7=hb.M;g4.addData(g7,e,hc);g2="L";break;case"h":e+=k[g6++];g7=hb.L;g4.addData(g7,e,hc);break;case"H":e=k[g6++];g7=hb.L;g4.addData(g7,e,hc);break;case"v":hc+=k[g6++];g7=hb.L;g4.addData(g7,e,hc);break;case"V":hc=k[g6++];g7=hb.L;g4.addData(g7,e,hc);break;case"C":g7=hb.C;g4.addData(g7,k[g6++],k[g6++],k[g6++],k[g6++],k[g6++],k[g6++]);e=k[g6-2];hc=k[g6-1];break;case"c":g7=hb.C;g4.addData(g7,k[g6++]+e,k[g6++]+hc,k[g6++]+e,k[g6++]+hc,k[g6++]+e,k[g6++]+hc);e+=k[g6-2];hc+=k[g6-1];break;case"S":hd=e;WH=hc;var g9=g4.len();var g8=g4.data;if(g1===hb.C){hd+=e-g8[g9-4];WH+=hc-g8[g9-3]}g7=hb.C;v=k[g6++];PI=k[g6++];e=k[g6++];hc=k[g6++];g4.addData(g7,hd,WH,v,PI,e,hc);break;case"s":hd=e;WH=hc;var g9=g4.len();var g8=g4.data;if(g1===hb.C){hd+=e-g8[g9-4];WH+=hc-g8[g9-3]}g7=hb.C;v=e+k[g6++];PI=hc+k[g6++];e+=k[g6++];hc+=k[g6++];g4.addData(g7,hd,WH,v,PI,e,hc);break;case"Q":v=k[g6++];PI=k[g6++];e=k[g6++];hc=k[g6++];g7=hb.Q;g4.addData(g7,v,PI,e,hc);break;case"q":v=k[g6++]+e;PI=k[g6++]+hc;e+=k[g6++];hc+=k[g6++];g7=hb.Q;g4.addData(g7,v,PI,e,hc);break;case"T":hd=e;WH=hc;var g9=g4.len();var g8=g4.data;if(g1===hb.Q){hd+=e-g8[g9-4];WH+=hc-g8[g9-3]}e=k[g6++];hc=k[g6++];g7=hb.Q;g4.addData(g7,hd,WH,e,hc);break;case"t":hd=e;WH=hc;var g9=g4.len();var g8=g4.data;if(g1===hb.Q){hd+=e-g8[g9-4];WH+=hc-g8[g9-3]}e+=k[g6++];hc+=k[g6++];g7=hb.Q;g4.addData(g7,hd,WH,e,hc);break;case"A":hg=k[g6++];he=k[g6++];g5=k[g6++];m=k[g6++];g3=k[g6++];v=e,PI=hc;e=k[g6++];hc=k[g6++];g7=hb.A;FL(v,PI,e,hc,m,g3,hg,he,g5,g7,g4);break;case"a":hg=k[g6++];he=k[g6++];g5=k[g6++];m=k[g6++];g3=k[g6++];v=e,PI=hc;e+=k[g6++];hc+=k[g6++];g7=hb.A;FL(v,PI,e,hc,m,g3,hg,he,g5,g7,g4);break}}if(g2==="z"||g2==="Z"){g7=hb.Z;g4.addData(g7)}g1=g7}g4.toStatic();return g4}function eH(i,Z){var e=LZ(i);Z=Z||{};Z.buildPath=function(m){if(m.setData){m.setData(e.data);var k=m.getContext();if(k){m.rebuildPath(k)}}else{var k=m;e.rebuildPath(k)}};Z.applyTransform=function(k){V9(e,k);this.dirty(true)};return Z}function Qf(e,Z){return new Mj(eH(e,Z))}function cA(e,Z){return Mj.extend(eH(e,Z))}function IR(m,k){var Z=[];var v=m.length;for(var e=0;e<v;e++){var PI=m[e];if(!PI.path){PI.createPathProxy()}if(PI.__dirtyPath){PI.buildPath(PI.path,PI.shape,true)}Z.push(PI.path)}var WH=new Mj(k);WH.createPathProxy();WH.buildPath=function(XY){XY.appendPath(Z);var i=XY.getContext();if(i){XY.rebuildPath(i)}};return WH}var FW=function(Z){U4.call(this,Z)};FW.prototype={constructor:FW,type:"text",brush:function(i,k){var e=this.style;this.__dirty&&Df(e,true);e.fill=e.stroke=e.shadowBlur=e.shadowColor=e.shadowOffsetX=e.shadowOffsetY=null;var Z=e.text;Z!=null&&(Z+="");e.bind(i,this,k);if(!W9(Z,e)){return}this.setTransform(i);IF(this,i,Z,e);this.restoreTransform(i)},getBoundingRect:function(){var e=this.style;this.__dirty&&Df(e,true);if(!this._rect){var k=e.text;k!=null?(k+=""):(k="");var Z=HY(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);Z.x+=e.x||0;Z.y+=e.y||0;if(eD(e.textStroke,e.textStrokeWidth)){var i=e.textStrokeWidth;Z.x-=i/2;Z.y-=i/2;Z.width+=i;Z.height+=i}this._rect=Z}return this._rect}};K8(FW,U4);var cE=Mj.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,i,Z){if(Z){e.moveTo(i.cx+i.r,i.cy)}e.arc(i.cx,i.cy,i.r,0,Math.PI*2,true)}});var GK=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var Um=function(Z){return(QH.browser.ie&&QH.browser.version>=11)?function(){var WH=this.__clipPaths;var PI=this.style;var e;if(WH){for(var v=0;v<WH.length;v++){var XY=WH[v];var k=XY&&XY.shape;var Z2=XY&&XY.type;if(k&&((Z2==="sector"&&k.startAngle===k.endAngle)||(Z2==="rect"&&(!k.width||!k.height)))){for(var m=0;m<GK.length;m++){GK[m][2]=PI[GK[m][0]];PI[GK[m][0]]=GK[m][1]}e=true;break}}}Z.apply(this,arguments);if(e){for(var m=0;m<GK.length;m++){PI[GK[m][0]]=GK[m][2]}}}:Z};var LA=Mj.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},brush:Um(Mj.prototype.brush),buildPath:function(m,i){var PI=i.cx;var WH=i.cy;var v=Math.max(i.r0||0,0);var Z=Math.max(i.r,0);var cc=i.startAngle;var e=i.endAngle;var k=i.clockwise;var XY=Math.cos(cc);var Z2=Math.sin(cc);m.moveTo(XY*v+PI,Z2*v+WH);m.lineTo(XY*Z+PI,Z2*Z+WH);m.arc(PI,WH,Z,cc,e,!k);m.lineTo(Math.cos(e)*v+PI,Math.sin(e)*v+WH);if(v!==0){m.arc(PI,WH,v,e,cc,k)}m.closePath()}});var PJ=Mj.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(i,m){var Z=m.cx;var e=m.cy;var k=Math.PI*2;i.moveTo(Z+m.r,e);i.arc(Z,e,m.r,0,k,false);i.moveTo(Z+m.r0,e);i.arc(Z,e,m.r0,0,k,true)}});function Ni(i,Z,v,k,e,XY,PI){var WH=(v-i)*0.5;var m=(k-Z)*0.5;return(2*(Z-v)+WH+m)*PI+(-3*(Z-v)-2*WH-m)*XY+WH*e+Z}var Un=function(g1,PI){var XY=g1.length;var g4=[];var g5=0;for(var WH=1;WH<XY;WH++){g5+=NG(g1[WH-1],g1[WH])}var g2=g5/2;g2=g2<XY?XY:g2;for(var WH=0;WH<g2;WH++){var Z2=WH/(g2-1)*(PI?XY:XY-1);var v=Math.floor(Z2);var k=Z2-v;var cc;var Z=g1[v%XY];var g3;var e;if(!PI){cc=g1[v===0?v:v-1];g3=g1[v>XY-2?XY-1:v+1];e=g1[v>XY-3?XY-1:v+2]}else{cc=g1[(v-1+XY)%XY];g3=g1[(v+1)%XY];e=g1[(v+2)%XY]}var g6=k*k;var m=k*g6;g4.push([Ni(cc[0],Z[0],g3[0],e[0],k,g6,m),Ni(cc[1],Z[1],g3[1],e[1],k,g6,m)])}return g4};var XQ=function(g2,g6,ha,g1){var hb=[];var g7=[];var Z=[];var k=[];var WH;var g5;var cc,g8;if(g1){cc=[Infinity,Infinity];g8=[-Infinity,-Infinity];for(var PI=0,m=g2.length;PI<m;PI++){fw(cc,cc,g2[PI]);QO(g8,g8,g2[PI])}fw(cc,cc,g1[0]);QO(g8,g8,g1[1])}for(var PI=0,m=g2.length;PI<m;PI++){var e=g2[PI];if(ha){WH=g2[PI?PI-1:m-1];g5=g2[(PI+1)%m]}else{if(PI===0||PI===m-1){hb.push(ZG(g2[PI]));continue}else{WH=g2[PI-1];g5=g2[PI+1]}}NW(g7,g5,WH);Cv(g7,g7,g6);var g9=NG(e,WH);var XY=NG(e,g5);var Z2=g9+XY;if(Z2!==0){g9/=Z2;XY/=Z2}Cv(Z,g7,-g9);Cv(k,g7,XY);var g4=bi([],e,Z);var g3=bi([],e,k);if(g1){QO(g4,g4,cc);fw(g4,g4,g8);QO(g3,g3,cc);fw(g3,g3,g8)}hb.push(g4);hb.push(g3)}if(ha){hb.push(hb.shift())}return hb};function FM(v,m,PI){var k=m.points;var Z=m.smooth;if(k&&k.length>=2){if(Z&&Z!=="spline"){var XY=XQ(k,Z,PI,m.smoothConstraint);v.moveTo(k[0][0],k[0][1]);var Z2=k.length;for(var WH=0;WH<(PI?Z2:Z2-1);WH++){var cc=XY[WH*2];var g2=XY[WH*2+1];var e=k[(WH+1)%Z2];v.bezierCurveTo(cc[0],cc[1],g2[0],g2[1],e[0],e[1])}}else{if(Z==="spline"){k=Un(k,PI)}v.moveTo(k[0][0],k[0][1]);for(var WH=1,g1=k.length;WH<g1;WH++){v.lineTo(k[WH][0],k[WH][1])}}PI&&v.closePath()}}var Hd=Mj.extend({type:"polygon",shape:{points:null,smooth:false,smoothConstraint:null},buildPath:function(Z,e){FM(Z,e,true)}});var JI=Mj.extend({type:"polyline",shape:{points:null,smooth:false,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(Z,e){FM(Z,e,false)}});var Fm=Mj.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(m,v){var i=v.x;var k=v.y;var e=v.width;var Z=v.height;if(!v.r){m.rect(i,k,e,Z)}else{Vu(m,v)}m.closePath();return}});var Ut=Mj.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(m,PI){var i=PI.x1;var v=PI.y1;var Z=PI.x2;var e=PI.y2;var k=PI.percent;if(k===0){return}m.moveTo(i,v);if(k<1){Z=i*(1-k)+Z*k;e=v*(1-k)+e*k}m.lineTo(Z,e)},pointAt:function(Z){var e=this.shape;return[e.x1*(1-Z)+e.x2*Z,e.y1*(1-Z)+e.y2*Z]}});var Qd=[];function Mp(m,i,Z){var e=m.cpx2;var k=m.cpy2;if(e===null||k===null){return[(Z?C5:BY)(m.x1,m.cpx1,m.cpx2,m.x2,i),(Z?C5:BY)(m.y1,m.cpy1,m.cpy2,m.y2,i)]}else{return[(Z?Pf:Jn)(m.x1,m.cpx1,m.x2,i),(Z?Pf:Jn)(m.y1,m.cpy1,m.y2,i)]}}var E4=Mj.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(PI,k){var i=k.x1;var Z2=k.y1;var m=k.x2;var v=k.y2;var cc=k.cpx1;var WH=k.cpy1;var e=k.cpx2;var Z=k.cpy2;var XY=k.percent;if(XY===0){return}PI.moveTo(i,Z2);if(e==null||Z==null){if(XY<1){VG(i,cc,m,XY,Qd);cc=Qd[1];m=Qd[2];VG(Z2,WH,v,XY,Qd);WH=Qd[1];v=Qd[2]}PI.quadraticCurveTo(cc,WH,m,v)}else{if(XY<1){SJ(i,cc,e,m,XY,Qd);cc=Qd[1];e=Qd[2];m=Qd[3];SJ(Z2,WH,Z,v,XY,Qd);WH=Qd[1];Z=Qd[2];v=Qd[3]}PI.bezierCurveTo(cc,WH,e,Z,m,v)}},pointAt:function(Z){return Mp(this.shape,Z,false)},tangentAt:function(e){var Z=Mp(this.shape,e,true);return dm(Z,Z)}});var Yz=Mj.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:true},style:{stroke:"#000",fill:null},buildPath:function(m,i){var v=i.cx;var PI=i.cy;var Z=Math.max(i.r,0);var Z2=i.startAngle;var e=i.endAngle;var k=i.clockwise;var WH=Math.cos(Z2);var XY=Math.sin(Z2);m.moveTo(WH*Z+v,XY*Z+PI);m.arc(v,PI,Z,Z2,e,!k)}});var KM=Mj.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var e=this.__dirtyPath;var k=this.shape.paths;for(var Z=0;Z<k.length;Z++){e=e||k[Z].__dirtyPath}this.__dirtyPath=e;this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();var k=this.shape.paths||[];var e=this.getGlobalScale();for(var Z=0;Z<k.length;Z++){if(!k[Z].path){k[Z].createPathProxy()}k[Z].path.setScale(e[0],e[1])}},buildPath:function(k,m){var e=m.paths||[];for(var Z=0;Z<e.length;Z++){e[Z].buildPath(k,e[Z].shape,true)}},afterBrush:function(){var e=this.shape.paths||[];for(var Z=0;Z<e.length;Z++){e[Z].__dirtyPath=false}},getBoundingRect:function(){this._updatePathDirty();return Mj.prototype.getBoundingRect.call(this)}});var Jq=function(Z){this.colorStops=Z||[]};Jq.prototype={constructor:Jq,addColorStop:function(Z,e){this.colorStops.push({offset:Z,color:e})}};var dn=function(k,m,Z,e,v,i){this.x=k==null?0:k;this.y=m==null?0:m;this.x2=Z==null?1:Z;this.y2=e==null?0:e;this.type="linear";this.global=i||false;Jq.call(this,v)};dn.prototype={constructor:dn};K8(dn,Jq);var XC=function(i,k,Z,m,e){this.x=i==null?0.5:i;this.y=k==null?0.5:k;this.r=Z==null?0.5:Z;this.type="radial";this.global=e||false;Jq.call(this,m)};XC.prototype={constructor:XC};K8(XC,Jq);function Oo(Z){U4.call(this,Z);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=true}Oo.prototype.incremental=true;Oo.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=false};Oo.prototype.addDisplayable=function(e,Z){if(Z){this._temporaryDisplayables.push(e)}else{this._displayables.push(e)}this.dirty()};Oo.prototype.addDisplayables=function(k,Z){Z=Z||false;for(var e=0;e<k.length;e++){this.addDisplayable(k[e],Z)}};Oo.prototype.eachPendingDisplayable=function(Z){for(var e=this._cursor;e<this._displayables.length;e++){Z&&Z(this._displayables[e])}for(var e=0;e<this._temporaryDisplayables.length;e++){Z&&Z(this._temporaryDisplayables[e])}};Oo.prototype.update=function(){this.updateTransform();for(var Z=this._cursor;Z<this._displayables.length;Z++){var e=this._displayables[Z];e.parent=this;e.update();e.parent=null}for(var Z=0;Z<this._temporaryDisplayables.length;Z++){var e=this._temporaryDisplayables[Z];e.parent=this;e.update();e.parent=null}};Oo.prototype.brush=function(k,m){for(var Z=this._cursor;Z<this._displayables.length;Z++){var e=this._temporaryDisplayables[Z];e.beforeBrush&&e.beforeBrush(k);e.brush(k,Z===this._cursor?null:this._displayables[Z-1]);e.afterBrush&&e.afterBrush(k)}this._cursor=Z;for(var Z=0;Z<this._temporaryDisplayables.length;Z++){var e=this._temporaryDisplayables[Z];e.beforeBrush&&e.beforeBrush(k);e.brush(k,Z===0?null:this._temporaryDisplayables[Z-1]);e.afterBrush&&e.afterBrush(k)}this._temporaryDisplayables=[];this.notClear=true};var PK=[];Oo.prototype.getBoundingRect=function(){if(!this._rect){var k=new FY(Infinity,Infinity,-Infinity,-Infinity);for(var e=0;e<this._displayables.length;e++){var m=this._displayables[e];var Z=m.getBoundingRect().clone();if(m.needLocalTransform()){Z.applyTransform(m.getLocalTransform(PK))}k.union(Z)}this._rect=k}return this._rect};Oo.prototype.contain=function(m,v){var Z=this.transformCoordToLocal(m,v);var k=this.getBoundingRect();if(k.contain(Z[0],Z[1])){for(var e=0;e<this._displayables.length;e++){var PI=this._displayables[e];if(PI.contain(m,v)){return true}}}return false};K8(Oo,U4);var gW=Math.round;var Bx=Math.max;var L8=Math.min;var K9={};function Ck(Z){return Mj.extend(Z)}function T3(e,Z){return cA(e,Z)}function JC(k,Z,e,i){var v=Qf(k,Z);var m=v.getBoundingRect();if(e){if(i==="center"){e=Ch(e,m)}c1(v,e)}return v}function A7(i,Z,e){var k=new Hv({style:{image:i,x:Z.x,y:Z.y,width:Z.width,height:Z.height},onload:function(v){if(e==="center"){var m={width:v.width,height:v.height};k.setStyle(Ch(Z,m))}}});return k}function Ch(i,v){var k=v.width/v.height;var m=i.height*k;var Z;if(m<=i.width){Z=i.height}else{m=i.width;Z=m/k}var PI=i.x+i.width/2;var e=i.y+i.height/2;return{x:PI-m/2,y:e-Z/2,width:m,height:Z}}var HX=IR;function c1(k,Z){if(!k.applyTransform){return}var i=k.getBoundingRect();var e=i.calculateTransform(Z);k.applyTransform(e)}function KZ(Z){var i=Z.shape;var e=Z.style.lineWidth;if(gW(i.x1*2)===gW(i.x2*2)){i.x1=i.x2=dC(i.x1,e,true)}if(gW(i.y1*2)===gW(i.y2*2)){i.y1=i.y2=dC(i.y1,e,true)}return Z}function Bj(k){var PI=k.shape;var m=k.style.lineWidth;var e=PI.x;var Z=PI.y;var i=PI.width;var v=PI.height;PI.x=dC(PI.x,m,true);PI.y=dC(PI.y,m,true);PI.width=Math.max(dC(e+i,m,false)-PI.x,i===0?0:1);PI.height=Math.max(dC(Z+v,m,false)-PI.y,v===0?0:1);return k}function dC(e,i,k){var Z=gW(e*2);return(Z+gW(i))%2===0?Z/2:(Z+(k?1:-1))/2}function T6(Z){return Z!=null&&Z!="none"}function ZL(Z){return typeof Z==="string"?Uh(Z,-0.1):Z}function I2(Z){if(Z.__hoverStlDirty){var e=Z.style.stroke;var m=Z.style.fill;var v=Z.__hoverStl;v.fill=v.fill||(T6(m)?ZL(m):null);v.stroke=v.stroke||(T6(e)?ZL(e):null);var k={};for(var i in v){if(v[i]!=null){k[i]=Z.style[i]}}Z.__normalStl=k;Z.__hoverStlDirty=false}}function Tm(Z){if(Z.__isHover){return}I2(Z);if(Z.useHoverLayer){Z.__zr&&Z.__zr.addHover(Z,Z.__hoverStl)}else{var i=Z.style;var e=i.insideRollbackOpt;e&&TO(i);i.extendFrom(Z.__hoverStl);if(e){BO(i,i.insideOriginalTextPosition,e);if(i.textFill==null){i.textFill=e.autoColor}}Z.dirty(false);Z.z2+=1}Z.__isHover=true}function UT(Z){if(!Z.__isHover){return}var e=Z.__normalStl;if(Z.useHoverLayer){Z.__zr&&Z.__zr.removeHover(Z)}else{e&&Z.setStyle(e);Z.z2-=1}Z.__isHover=false}function ZB(Z){Z.type==="group"?Z.traverse(function(e){if(e.type!=="group"){Tm(e)}}):Tm(Z)}function XE(Z){Z.type==="group"?Z.traverse(function(e){if(e.type!=="group"){UT(e)}}):UT(Z)}function cI(Z,e){Z.__hoverStl=Z.hoverStyle||e||{};Z.__hoverStlDirty=true;if(Z.__isHover){I2(Z)}}function Cp(Z){if(this.__hoverSilentOnTouch&&Z.zrByTouch){return}!this.__isEmphasis&&ZB(this)}function Mq(Z){if(this.__hoverSilentOnTouch&&Z.zrByTouch){return}!this.__isEmphasis&&XE(this)}function Dx(){this.__isEmphasis=true;ZB(this)}function O0(){this.__isEmphasis=false;XE(this)}function N7(Z,i,e){Z.__hoverSilentOnTouch=e&&e.hoverSilentOnTouch;Z.type==="group"?Z.traverse(function(k){if(k.type!=="group"){cI(k,i)}}):cI(Z,i);Z.on("mouseover",Cp).on("mouseout",Mq);Z.on("emphasis",Dx).on("normal",O0)}function HB(WH,k,g3,Z,e,Z2,m){e=e||K9;var v=e.labelFetcher;var PI=e.labelDataIndex;var g2=e.labelDimIndex;var g4=g3.getShallow("show");var g1=Z.getShallow("show");var cc;if(g4||g1){if(v){cc=v.getFormattedLabel(PI,"normal",null,g2)}if(cc==null){cc=Pl(e.defaultText)?e.defaultText(PI,e):e.defaultText}}var i=g4?cc:null;var XY=g1?Vi(v?v.getFormattedLabel(PI,"emphasis",null,g2):null,cc):null;if(i!=null||XY!=null){DQ(WH,g3,Z2,e);DQ(k,Z,m,e,true)}WH.text=i;k.text=XY}function DQ(k,Z,e,m,i){DF(k,Z,m,i);e&&XN(k,e);k.host&&k.host.dirty&&k.host.dirty(false);return k}function ft(k,e,m){var Z={isRectText:true};var i;if(m===false){i=true}else{Z.autoColor=m}DF(k,e,Z,i);k.host&&k.host.dirty&&k.host.dirty(false)}function DF(m,PI,i,g1){i=i||K9;if(i.isRectText){var Z=PI.getShallow("position")||(g1?null:"inside");Z==="outside"&&(Z="top");m.textPosition=Z;m.textOffset=PI.getShallow("offset");var v=PI.getShallow("rotate");v!=null&&(v*=Math.PI/180);m.textRotation=v;m.textDistance=Vi(PI.getShallow("distance"),g1?null:5)}var Z2=PI.ecModel;var k=Z2&&Z2.option.textStyle;var cc=EV(PI);var e;if(cc){e={};for(var XY in cc){if(cc.hasOwnProperty(XY)){var WH=PI.getModel(["rich",XY]);QE(e[XY]={},WH,k,i,g1)}}}m.rich=e;QE(m,PI,k,i,g1,true);if(i.forceRich&&!i.textStyle){i.textStyle={}}return m}function EV(e){var Z;while(e&&e!==e.ecModel){var i=(e.option||K9).rich;if(i){Z=Z||{};for(var k in i){if(i.hasOwnProperty(k)){Z[k]=1}}}e=e.parentModel}return Z}function QE(v,Z,e,PI,k,m){e=!k&&e||K9;v.textFill=aW(Z.getShallow("color"),PI)||e.color;v.textStroke=aW(Z.getShallow("textBorderColor"),PI)||e.textBorderColor;v.textStrokeWidth=Vi(Z.getShallow("textBorderWidth"),e.textBorderWidth);if(!k){if(m){var i=v.textPosition;v.insideRollback=BO(v,i,PI);v.insideOriginalTextPosition=i;v.insideRollbackOpt=PI}if(v.textFill==null){v.textFill=PI.autoColor}}v.fontStyle=Z.getShallow("fontStyle")||e.fontStyle;v.fontWeight=Z.getShallow("fontWeight")||e.fontWeight;v.fontSize=Z.getShallow("fontSize")||e.fontSize;v.fontFamily=Z.getShallow("fontFamily")||e.fontFamily;v.textAlign=Z.getShallow("align");v.textVerticalAlign=Z.getShallow("verticalAlign")||Z.getShallow("baseline");v.textLineHeight=Z.getShallow("lineHeight");v.textWidth=Z.getShallow("width");v.textHeight=Z.getShallow("height");v.textTag=Z.getShallow("tag");if(!m||!PI.disableBox){v.textBackgroundColor=aW(Z.getShallow("backgroundColor"),PI);v.textPadding=Z.getShallow("padding");v.textBorderColor=aW(Z.getShallow("borderColor"),PI);v.textBorderWidth=Z.getShallow("borderWidth");v.textBorderRadius=Z.getShallow("borderRadius");v.textBoxShadowColor=Z.getShallow("shadowColor");v.textBoxShadowBlur=Z.getShallow("shadowBlur");v.textBoxShadowOffsetX=Z.getShallow("shadowOffsetX");v.textBoxShadowOffsetY=Z.getShallow("shadowOffsetY")}v.textShadowColor=Z.getShallow("textShadowColor")||e.textShadowColor;v.textShadowBlur=Z.getShallow("textShadowBlur")||e.textShadowBlur;v.textShadowOffsetX=Z.getShallow("textShadowOffsetX")||e.textShadowOffsetX;v.textShadowOffsetY=Z.getShallow("textShadowOffsetY")||e.textShadowOffsetY}function aW(e,Z){return e!=="auto"?e:(Z&&Z.autoColor)?Z.autoColor:null}function BO(k,i,m){var e=m.useInsideStyle;var Z;if(k.textFill==null&&e!==false&&(e===true||(m.isRectText&&i&&typeof i==="string"&&i.indexOf("inside")>=0))){Z={textFill:null,textStroke:k.textStroke,textStrokeWidth:k.textStrokeWidth};k.textFill="#fff";if(k.textStroke==null){k.textStroke=m.autoColor;k.textStrokeWidth==null&&(k.textStrokeWidth=2)}}return Z}function TO(Z){var e=Z.insideRollback;if(e){Z.textFill=e.textFill;Z.textStroke=e.textStroke;Z.textStrokeWidth=e.textStrokeWidth}}function AG(e,i){var Z=i||i.getModel("textStyle");return FJ([e.fontStyle||Z&&Z.getShallow("fontStyle")||"",e.fontWeight||Z&&Z.getShallow("fontWeight")||"",(e.fontSize||Z&&Z.getShallow("fontSize")||12)+"px",e.fontFamily||Z&&Z.getShallow("fontFamily")||"sans-serif"].join(" "))}function dL(cc,XY,WH,PI,Z2,k){if(typeof Z2==="function"){k=Z2;Z2=null}var i=PI&&PI.isAnimationEnabled();if(i){var m=cc?"Update":"";var Z=PI.getShallow("animationDuration"+m);var e=PI.getShallow("animationEasing"+m);var v=PI.getShallow("animationDelay"+m);if(typeof v==="function"){v=v(Z2,PI.getAnimationDelayParams?PI.getAnimationDelayParams(XY,Z2):null)}if(typeof Z==="function"){Z=Z(Z2)}Z>0?XY.animateTo(WH,Z,v||0,e,k,!!k):(XY.stopAnimation(),XY.attr(WH),k&&k())}else{XY.stopAnimation();XY.attr(WH);k&&k()}}function Qr(Z,k,m,e,i){dL(true,Z,k,m,e,i)}function ef(Z,k,m,e,i){dL(false,Z,k,m,e,i)}function l(e,Z){var i=es([]);while(e&&e!==Z){PU(i,e.getLocalTransform(),i);e=e.parent}return i}function Bp(e,i,Z){if(i&&!Lr(i)){i=T2.getLocalTransform(i)}if(Z){i=WL([],i)}return Ip([],e,i)}function cn(m,v,k){var e=(v[4]===0||v[5]===0||v[0]===0)?1:Math.abs(2*v[4]/v[0]);var Z=(v[4]===0||v[5]===0||v[2]===0)?1:Math.abs(2*v[4]/v[2]);var i=[m==="left"?-e:m==="right"?e:0,m==="top"?-Z:m==="bottom"?Z:0];i=Bp(i,v,k);return Math.abs(i[0])>Math.abs(i[1])?(i[0]>0?"right":"left"):(i[1]>0?"bottom":"top")}function Wq(e,k,PI,Z){if(!e||!k){return}function v(WH){var XY={};WH.traverse(function(Z2){if(!Z2.isGroup&&Z2.anid){XY[Z2.anid]=Z2}});return XY}function i(WH){var XY={position:ZG(WH.position),rotation:WH.rotation};if(WH.shape){XY.shape=XN({},WH.shape)}return XY}var m=v(e);k.traverse(function(WH){if(!WH.isGroup&&WH.anid){var Z2=m[WH.anid];if(Z2){var XY=i(WH);WH.attr(i(Z2));Qr(WH,XY,PI,WH.dataIndex)}}})}function ET(e,Z){return QL(e,function(i){var k=i[0];k=Bx(k,Z.x);k=L8(k,Z.x+Z.width);var m=i[1];m=Bx(m,Z.y);m=L8(m,Z.y+Z.height);return[k,m]})}function MC(m,i){var k=Bx(m.x,i.x);var Z=L8(m.x+m.width,i.x+i.width);var v=Bx(m.y,i.y);var e=L8(m.y+m.height,i.y+i.height);if(Z>=k&&e>=v){return{x:k,y:v,width:Z-k,height:e-v}}}function DK(e,Z,k){Z=XN({rectHover:true},Z);var i=Z.style={strokeNoScale:true};k=k||{x:-1,y:-1,width:2,height:2};if(e){return e.indexOf("image://")===0?(i.image=e.slice(8),IK(i,k),new Hv(Z)):(JC(e.replace("path://",""),Z,k,"center"))}}var S8=(Object.freeze||Object)({extendShape:Ck,extendPath:T3,makePath:JC,makeImage:A7,mergePath:HX,resizePath:c1,subPixelOptimizeLine:KZ,subPixelOptimizeRect:Bj,subPixelOptimize:dC,setHoverStyle:N7,setLabelStyle:HB,setTextStyle:DQ,setText:ft,getFont:AG,updateProps:Qr,initProps:ef,getTransform:l,applyTransform:Bp,transformDirection:cn,groupTransition:Wq,clipPointsByRect:ET,clipRectByRect:MC,createIcon:DK,Group:U3,Image:Hv,Text:FW,Circle:cE,Sector:LA,Ring:PJ,Polygon:Hd,Polyline:JI,Rect:Fm,Line:Ut,BezierCurve:E4,Arc:Yz,IncrementalDisplayable:Oo,CompoundPath:KM,LinearGradient:dn,RadialGradient:XC,BoundingRect:FY});var Wa=["textStyle","color"];var EP={getTextColor:function(e){var Z=this.ecModel;return this.getShallow("color")||((!e&&Z)?Z.get(Wa):null)},getFont:function(){return AG({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(Z){return HY(Z,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}};var Wy=C9([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);var EN={getItemStyle:function(i,Z){var e=Wy(this,i,Z);var k=this.getBorderLineDash();k&&(e.lineDash=k);return e},getBorderLineDash:function(){var Z=this.get("borderType");return(Z==="solid"||Z==null)?null:(Z==="dashed"?[5,5]:[1,1])}};var We=eG;var Xr=Uw();function fx(Z,i,e){this.parentModel=i;this.ecModel=e;this.option=Z}fx.prototype={constructor:fx,init:null,mergeOption:function(Z){LB(this.option,Z,true)},get:function(e,Z){if(e==null){return this.option}return P4(this.option,this.parsePath(e),!Z&&Ot(this,e))},getShallow:function(Z,k){var e=this.option;var i=e==null?e:e[Z];var m=!k&&Ot(this,Z);if(i==null&&m){i=m.getShallow(Z)}return i},getModel:function(k,i){var Z=k==null?this.option:P4(this.option,k=this.parsePath(k));var e;i=i||((e=Ot(this,k))&&e.getModel(k));return new fx(Z,i,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var Z=this.constructor;return new Z(fJ(this.option))},setReadOnly:function(Z){},parsePath:function(Z){if(typeof Z==="string"){Z=Z.split(".")}return Z},customizeGetParent:function(Z){Xr(this).getParent=Z},isAnimationEnabled:function(){if(!QH.node){if(this.option.animation!=null){return !!this.option.animation}else{if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}}};function P4(e,k,m){for(var Z=0;Z<k.length;Z++){if(!k[Z]){continue}e=(e&&typeof e==="object")?e[k[Z]]:null;if(e==null){break}}if(e==null&&m){e=m.get(k)}return e}function Ot(e,i){var Z=Xr(e).getParent;return Z?Z.call(e,i):e.parentModel}AZ(fx);Dl(fx);We(fx,Zw);We(fx,PC);We(fx,EP);We(fx,EN);var KO=0;function SC(Z){return[(Z||""),KO++,Math.random().toFixed(5)].join("_")}function JF(e){var Z={};e.registerSubTypeDefaulter=function(i,k){i=AE(i);Z[i.main]=k};e.determineSubType=function(m,k){var i=k.type;if(!i){var v=AE(m).main;if(e.hasSubTypes(m)&&Z[v]){i=Z[v](k)}}return i};return e}function fe(m,k){m.topologicalTravel=function(g3,v,XY,g2){if(!g3.length){return}var WH=Z(v);var Z2=WH.graph;var g7=WH.noEntryList;var cc={};Dy(g3,function(g8){cc[g8]=true});while(g7.length){var g1=g7.pop();var PI=Z2[g1];var g5=!!cc[g1];if(g5){XY.call(g2,g1,PI.originalDeps.slice());delete cc[g1]}Dy(PI.successor,g5?g6:g4)}Dy(cc,function(){throw new Error("Circle dependency may exists")});function g4(g8){Z2[g8].entryCount--;if(Z2[g8].entryCount===0){g7.push(g8)}}function g6(g8){cc[g8]=true;g4(g8)}};function Z(PI){var v={};var WH=[];Dy(PI,function(cc){var XY=e(v,cc);var Z2=XY.originalDeps=k(cc);var g1=i(Z2,PI);XY.entryCount=g1.length;if(XY.entryCount===0){WH.push(cc)}Dy(g1,function(g2){if(FT(XY.predecessor,g2)<0){XY.predecessor.push(g2)}var g3=e(v,g2);if(FT(g3.successor,g2)<0){g3.successor.push(cc)}})});return{graph:v,noEntryList:WH}}function e(v,PI){if(!v[PI]){v[PI]={predecessor:[],successor:[]}}return v[PI]}function i(v,PI){var WH=[];Dy(v,function(XY){FT(PI,XY)>=0&&WH.push(XY)});return WH}}var EK=0.0001;function YK(Z){return Z.replace(/^\s+/,"").replace(/\s+$/,"")}function Yv(k,v,m,i){var e=v[1]-v[0];var Z=m[1]-m[0];if(e===0){return Z===0?m[0]:(m[0]+m[1])/2}if(i){if(e>0){if(k<=v[0]){return m[0]}else{if(k>=v[1]){return m[1]}}}else{if(k>=v[0]){return m[0]}else{if(k<=v[1]){return m[1]}}}}else{if(k===v[0]){return m[0]}if(k===v[1]){return m[1]}}return(k-v[0])/e*Z+m[0]}function Pw(e,Z){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}if(typeof e==="string"){if(YK(e).match(/%$/)){return parseFloat(e)/100*Z}return parseFloat(e)}return e==null?NaN:+e}function Gu(e,Z,i){if(Z==null){Z=10}Z=Math.min(Math.max(0,Z),20);e=(+e).toFixed(Z);return i?e:+e}function Jg(Z){Z.sort(function(i,e){return i-e});return Z}function dP(k){k=+k;if(isNaN(k)){return 0}var i=1;var Z=0;while(Math.round(k*i)/i!==k){i*=10;Z++}return Z}function Nc(m){var k=m.toString();var i=k.indexOf("e");if(i>0){var Z=+k.slice(i+1);return Z<0?-Z:0}else{var e=k.indexOf(".");return e<0?0:k.length-1-e}}function di(PI,i){var m=Math.log;var e=Math.LN10;var k=Math.floor(m(PI[1]-PI[0])/e);var Z=Math.round(m(Math.abs(i[1]-i[0]))/e);var v=Math.min(Math.max(-k+Z,0),20);return !isFinite(v)?20:v}function FZ(g3,v,e){if(!g3[v]){return 0}var WH=Pr(g3,function(g5,i){return g5+(isNaN(i)?0:i)},0);if(WH===0){return 0}var PI=Math.pow(10,e);var cc=QL(g3,function(i){return(isNaN(i)?0:i)/WH*PI*100});var Z2=PI*100;var m=QL(cc,function(i){return Math.floor(i)});var g2=Pr(m,function(g5,i){return g5+i},0);var g4=QL(cc,function(i,g5){return i-m[g5]});while(g2<Z2){var k=Number.NEGATIVE_INFINITY;var Z=null;for(var XY=0,g1=g4.length;XY<g1;++XY){if(g4[XY]>k){k=g4[XY];Z=XY}}++m[Z];g4[Z]=0;++g2}return m[v]/PI}var W8=9.00719925474099e+15;function XP(e){var Z=Math.PI*2;return(e%Z+Z)%Z}function WD(Z){return Z>-EK&&Z<EK}var dR=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function A0(i){if(i instanceof Date){return i}else{if(typeof i==="string"){var Z=dR.exec(i);if(!Z){return new Date(NaN)}if(!Z[8]){return new Date(+Z[1],+(Z[2]||1)-1,+Z[3]||1,+Z[4]||0,+(Z[5]||0),+Z[6]||0,+Z[7]||0)}else{var e=+Z[4]||0;if(Z[8].toUpperCase()!=="Z"){e-=Z[8].slice(0,3)}return new Date(Date.UTC(+Z[1],+(Z[2]||1)-1,+Z[3]||1,e,+(Z[5]||0),+Z[6]||0,+Z[7]||0))}}else{if(i==null){return new Date(NaN)}}}return new Date(Math.round(i))}function Rs(Z){return Math.pow(10,J3(Z))}function J3(Z){return Math.floor(Math.log(Z)/Math.LN10)}function bW(k,Z){var e=J3(k);var m=Math.pow(10,e);var v=k/m;var i;if(Z){if(v<1.5){i=1}else{if(v<2.5){i=2}else{if(v<4){i=3}else{if(v<7){i=5}else{i=10}}}}}else{if(v<1){i=1}else{if(v<2){i=2}else{if(v<3){i=3}else{if(v<5){i=5}else{i=10}}}}}k=i*m;return e>=-20?+k.toFixed(e<0?-e:0):k}function GX(Z){Z.sort(function(Z2,i){return XY(Z2,i,0)?-1:1});var m=-Infinity;var WH=1;for(var k=0;k<Z.length;){var v=Z[k].interval;var e=Z[k].close;for(var PI=0;PI<2;PI++){if(v[PI]<=m){v[PI]=m;e[PI]=!PI?1-WH:1}m=v[PI];WH=e[PI]}if(v[0]===v[1]&&e[0]*e[1]!==1){Z.splice(k,1)}else{k++}}return Z;function XY(cc,Z2,i){return cc.interval[i]<Z2.interval[i]||(cc.interval[i]===Z2.interval[i]&&((cc.close[i]-Z2.close[i]===(!i?1:-1))||(!i&&XY(cc,Z2,1))))}}function QN(Z){return Z-parseFloat(Z)>=0}var HQ=(Object.freeze||Object)({linearMap:Yv,parsePercent:Pw,round:Gu,asc:Jg,getPrecision:dP,getPrecisionSafe:Nc,getPixelPrecision:di,getPercentWithPrecision:FZ,MAX_SAFE_INTEGER:W8,remRadian:XP,isRadianAroundZero:WD,parseDate:A0,quantity:Rs,nice:bW,reformIntervals:GX,isNumeric:QN});function M9(Z){if(isNaN(Z)){return"-"}Z=(Z+"").split(".");return Z[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(Z.length>1?("."+Z[1]):"")}function NI(e,Z){e=(e||"").toLowerCase().replace(/-(.)/g,function(i,k){return k.toUpperCase()});if(Z&&e){e=e.charAt(0).toUpperCase()+e.slice(1)}return e}var R7=VW;function Qp(Z){return String(Z).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var Wi=["a","b","c","d","e","f","g"];var Y6=function(e,Z){return"{"+e+(Z==null?"":Z)+"}"};function Kc(XY,WH,e){if(!cW(WH)){WH=[WH]}var Z2=WH.length;if(!Z2){return""}var cc=WH[0].$vars||[];for(var m=0;m<cc.length;m++){var g1=Wi[m];XY=XY.replace(Y6(g1),Y6(g1,0))}for(var PI=0;PI<Z2;PI++){for(var v=0;v<cc.length;v++){var Z=WH[PI][cc[v]];XY=XY.replace(Y6(Wi[v],PI),e?Qp(Z):Z)}}return XY}function Go(Z,e,i){Dy(e,function(m,k){Z=Z.replace("{"+k+"}",i?Qp(m):m)});return Z}function gL(e,i){e=Ei(e)?{color:e,extraCssText:i}:(e||{});var k=e.color;var Z=e.type;var i=e.extraCssText;if(!k){return""}return Z==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Qp(k)+";"+(i||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Qp(k)+";"+(i||"")+'"></span>'}function OG(Z,e){Z+="";return"0000".substr(0,e-Z.length)+Z}function c5(XY,k,g1){if(XY==="week"||XY==="month"||XY==="quarter"||XY==="half-year"||XY==="year"){XY="MM-dd\nyyyy"}var g2=A0(k);var PI=g1?"UTC":"";var cc=g2["get"+PI+"FullYear"]();var i=g2["get"+PI+"Month"]()+1;var e=g2["get"+PI+"Date"]();var v=g2["get"+PI+"Hours"]();var WH=g2["get"+PI+"Minutes"]();var Z=g2["get"+PI+"Seconds"]();var Z2=g2["get"+PI+"Milliseconds"]();XY=XY.replace("MM",OG(i,2)).replace("M",i).replace("yyyy",cc).replace("yy",cc%100).replace("dd",OG(e,2)).replace("d",e).replace("hh",OG(v,2)).replace("h",v).replace("mm",OG(WH,2)).replace("m",WH).replace("ss",OG(Z,2)).replace("s",Z).replace("SSS",OG(Z2,3));return XY}function F6(Z){return Z?Z.charAt(0).toUpperCase()+Z.substr(1):Z}var bC=EW;var AY=HY;var SW=(Object.freeze||Object)({addCommas:M9,toCamelCase:NI,normalizeCssArray:R7,encodeHTML:Qp,formatTpl:Kc,formatTplSimple:Go,getTooltipMarker:gL,formatTime:c5,capitalFirst:F6,truncateText:bC,getTextRect:AY});var AP=Dy;var Ar=["left","right","top","bottom","width","height"];var G5=[["width","left","right"],["height","top","bottom"]];function Dr(k,i,e,m,WH){var v=0;var PI=0;if(m==null){m=Infinity}if(WH==null){WH=Infinity}var Z=0;i.eachChild(function(g5,g1){var g3=g5.position;var XY=g5.getBoundingRect();var g4=i.childAt(g1+1);var g7=g4&&g4.getBoundingRect();var Z2;var cc;if(k==="horizontal"){var g2=XY.width+(g7?(-g7.x+XY.x):0);Z2=v+g2;if(Z2>m||g5.newline){v=0;Z2=g2;PI+=Z+e;Z=XY.height}else{Z=Math.max(Z,XY.height)}}else{var g6=XY.height+(g7?(-g7.y+XY.y):0);cc=PI+g6;if(cc>WH||g5.newline){v+=Z+e;PI=0;cc=g6;Z=XY.width}else{Z=Math.max(Z,XY.width)}}if(g5.newline){return}g3[0]=v;g3[1]=PI;k==="horizontal"?(v=Z2+e):(PI=cc+e)})}var e8=Dr;var BJ=c3(Dr,"vertical");var D2=c3(Dr,"horizontal");function Xx(v,i,Z){var e=i.width;var XY=i.height;var PI=Pw(v.x,e);var WH=Pw(v.y,XY);var k=Pw(v.x2,e);var m=Pw(v.y2,XY);(isNaN(PI)||isNaN(parseFloat(v.x)))&&(PI=0);(isNaN(k)||isNaN(parseFloat(v.x2)))&&(k=e);(isNaN(WH)||isNaN(parseFloat(v.y)))&&(WH=0);(isNaN(m)||isNaN(parseFloat(v.y2)))&&(m=XY);Z=R7(Z||0);return{width:Math.max(k-PI-Z[1]-Z[3],0),height:Math.max(m-WH-Z[0]-Z[2],0)}}function CU(Z2,k,Z){Z=R7(Z||0);var e=k.width;var g4=k.height;var WH=Pw(Z2.left,e);var PI=Pw(Z2.top,g4);var i=Pw(Z2.right,e);var g1=Pw(Z2.bottom,g4);var cc=Pw(Z2.width,e);var g2=Pw(Z2.height,g4);var XY=Z[2]+Z[0];var g3=Z[1]+Z[3];var v=Z2.aspect;if(isNaN(cc)){cc=e-i-g3-WH}if(isNaN(g2)){g2=g4-g1-XY-PI}if(v!=null){if(isNaN(cc)&&isNaN(g2)){if(v>e/g4){cc=e*0.8}else{g2=g4*0.8}}if(isNaN(cc)){cc=v*g2}if(isNaN(g2)){g2=cc/v}}if(isNaN(WH)){WH=e-i-cc-g3}if(isNaN(PI)){PI=g4-g1-g2-XY}switch(Z2.left||Z2.right){case"center":WH=e/2-cc/2-Z[3];break;case"right":WH=e-cc-g3;break}switch(Z2.top||Z2.bottom){case"middle":case"center":PI=g4/2-g2/2-Z[0];break;case"bottom":PI=g4-g2-XY;break}WH=WH||0;PI=PI||0;if(isNaN(cc)){cc=e-g3-WH-(i||0)}if(isNaN(g2)){g2=g4-XY-PI-(g1||0)}var m=new FY(WH+Z[3],PI+Z[0],cc,g2);m.margin=Z;return m}function Lp(g2,XY,k,Z,cc){var PI=!cc||!cc.hv||cc.hv[0];var m=!cc||!cc.hv||cc.hv[1];var g3=cc&&cc.boundingMode||"all";if(!PI&&!m){return}var g1;if(g3==="raw"){g1=g2.type==="group"?new FY(0,0,+XY.width||0,+XY.height||0):g2.getBoundingRect()}else{g1=g2.getBoundingRect();if(g2.needLocalTransform()){var WH=g2.getLocalTransform();g1=g1.clone();g1.applyTransform(WH)}}XY=CU(IK({width:g1.width,height:g1.height},XY),k,Z);var i=g2.position;var e=PI?XY.x-g1.x:0;var Z2=m?XY.y-g1.y:0;g2.attr("position",g3==="raw"?[e,Z2]:[i[0]+e,i[1]+Z2])}function UQ(Z,e){return Z[G5[e][0]]!=null||(Z[G5[e][1]]!=null&&Z[G5[e][2]]!=null)}function c7(v,e,k){!EJ(k)&&(k={});var WH=k.ignoreSize;!cW(WH)&&(WH=[WH,WH]);var Z2=i(G5[0],0);var PI=i(G5[1],1);m(G5[0],v,Z2);m(G5[1],v,PI);function i(g2,cc){var g3={};var g5=0;var g8={};var g4=0;var g6=2;AP(g2,function(g9){g8[g9]=v[g9]});AP(g2,function(g9){XY(e,g9)&&(g3[g9]=g8[g9]=e[g9]);Z(g3,g9)&&g5++;Z(g8,g9)&&g4++});if(WH[cc]){if(Z(e,g2[1])){g8[g2[2]]=null}else{if(Z(e,g2[2])){g8[g2[1]]=null}}return g8}if(g4===g6||!g5){return g8}else{if(g5>=g6){return g3}else{for(var g7=0;g7<g2.length;g7++){var g1=g2[g7];if(!XY(g3,g1)&&XY(v,g1)){g3[g1]=v[g1];break}}return g3}}}function XY(cc,g1){return cc.hasOwnProperty(g1)}function Z(cc,g1){return cc[g1]!=null&&cc[g1]!=="auto"}function m(g2,g1,cc){AP(g2,function(g3){g1[g3]=cc[g3]})}}function ZT(Z){return Tg({},Z)}function Tg(e,Z){Z&&e&&AP(Ar,function(i){Z.hasOwnProperty(i)&&(e[i]=Z[i])});return e}var aD={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}};var Zx=Uw();var Dt=fx.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(Z,k,e,i){fx.call(this,Z,k,e,i);this.uid=SC("ec_cpt_model")},init:function(Z,k,e,i){this.mergeDefaultAndTheme(Z,e)},mergeDefaultAndTheme:function(e,i){var m=this.layoutMode;var Z=m?ZT(e):{};var k=i.getTheme();LB(e,k.get(this.mainType));LB(e,this.getDefaultOption());if(m){c7(e,Z,m)}},mergeOption:function(Z,e){LB(this.option,Z,true);var i=this.layoutMode;if(i){c7(this.option,Z,i)}},optionUpdated:function(Z,e){},getDefaultOption:function(){var PI=Zx(this);if(!PI.defaultOption){var e=[];var v=this.constructor;while(v){var m=v.prototype.defaultOption;m&&e.push(m);v=v.superClass}var k={};for(var Z=e.length-1;Z>=0;Z--){k=LB(k,e[Z],true)}PI.defaultOption=k}return PI.defaultOption},getReferringComponents:function(Z){return this.ecModel.queryComponents({mainType:Z,index:this.get(Z+"Index",true),id:this.get(Z+"Id",true)})}});YR(Dt,{registerWhenExtend:true});JF(Dt);fe(Dt,KH);function KH(Z){var e=[];Dy(Dt.getClassesByMainType(Z),function(i){e=e.concat(i.prototype.dependencies||[])});e=QL(e,function(i){return AE(i).main});if(Z!=="dataset"&&FT(e,"dataset")<=0){e.unshift("dataset")}return e}eG(Dt,aD);var gs="";if(typeof navigator!=="undefined"){gs=navigator.platform||""}var ZH={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:gs.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:false};var Iz=Uw();function d4(m,k){var Z=m.length;for(var e=0;e<Z;e++){if(m[e].length>k){return m[e]}}return m[Z-1]}var Ew={clearColorPalette:function(){Iz(this).colorIdx=0;Iz(this).colorNameMap={}},getColorFromPalette:function(Z,e,XY){e=e||this;var WH=Iz(e);var Z2=WH.colorIdx||0;var v=WH.colorNameMap=WH.colorNameMap||{};if(v.hasOwnProperty(Z)){return v[Z]}var k=Y1(this.get("color",true));var PI=this.get("colorLayer",true);var m=((XY==null||!PI)?k:d4(PI,XY));m=m||k;if(!m||!m.length){return}var i=m[Z2];if(Z){v[Z]=i}WH.colorIdx=(Z2+1)%m.length;return i}};function Q6(Z){var e=Z.get("coordinateSystem");var k={coordSysName:e,coordSysDims:[],axisMap:Fj(),categoryAxisMap:Fj()};var i=Mr[e];if(i){i(Z,k,k.axisMap,k.categoryAxisMap);return k}}var Mr={cartesian2d:function(e,k,i,Z){var m=e.getReferringComponents("xAxis")[0];var v=e.getReferringComponents("yAxis")[0];if(W1){if(!m){throw new Error('xAxis "'+ER(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found')}if(!v){throw new Error('yAxis "'+ER(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found')}}k.coordSysDims=["x","y"];i.set("x",m);i.set("y",v);if(OP(m)){Z.set("x",m);k.firstCategoryDimIndex=0}if(OP(v)){Z.set("y",v);k.firstCategoryDimIndex=1}},singleAxis:function(e,k,i,Z){var m=e.getReferringComponents("singleAxis")[0];if(W1){if(!m){throw new Error("singleAxis should be specified.")}}k.coordSysDims=["single"];i.set("single",m);if(OP(m)){Z.set("single",m);k.firstCategoryDimIndex=0}},polar:function(e,k,i,Z){var PI=e.getReferringComponents("polar")[0];var m=PI.findAxisModel("radiusAxis");var v=PI.findAxisModel("angleAxis");if(W1){if(!v){throw new Error("angleAxis option not found")}if(!m){throw new Error("radiusAxis option not found")}}k.coordSysDims=["radius","angle"];i.set("radius",m);i.set("angle",v);if(OP(m)){Z.set("radius",m);k.firstCategoryDimIndex=0}if(OP(v)){Z.set("angle",v);k.firstCategoryDimIndex=1}},geo:function(e,k,i,Z){k.coordSysDims=["lng","lat"]},parallel:function(e,k,i,Z){var PI=e.ecModel;var v=PI.getComponent("parallel",e.get("parallelIndex"));var m=k.coordSysDims=v.dimensions.slice();Dy(v.parallelAxisIndex,function(cc,XY){var WH=PI.getComponent("parallelAxis",cc);var Z2=m[XY];i.set(Z2,WH);if(OP(WH)&&k.firstCategoryDimIndex==null){Z.set(Z2,WH);k.firstCategoryDimIndex=XY}})}};function OP(Z){return Z.get("type")==="category"}var Rx="original";var XT="arrayRows";var Ic="objectRows";var fM="keyedColumns";var GY="unknown";var Y7="typedArray";var Jl="column";var cL="row";function ZD(Z){this.fromDataset=Z.fromDataset;this.data=Z.data||(Z.sourceFormat===fM?{}:[]);this.sourceFormat=Z.sourceFormat||GY;this.seriesLayoutBy=Z.seriesLayoutBy||Jl;this.dimensionsDefine=Z.dimensionsDefine;this.encodeDefine=Z.encodeDefine&&Fj(Z.encodeDefine);this.startIndex=Z.startIndex||0;this.dimensionsDetectCount=Z.dimensionsDetectCount}ZD.seriesDataToSource=function(Z){return new ZD({data:Z,sourceFormat:gQ(Z)?Y7:Rx,fromDataset:false})};Dl(ZD);var Iy=Uw();function NJ(k){var WH=k.option.source;var e=GY;if(gQ(WH)){e=Y7}else{if(cW(WH)){for(var m=0,PI=WH.length;m<PI;m++){var v=WH[m];if(v==null){continue}else{if(cW(v)){e=XT;break}else{if(EJ(v)){e=Ic;break}}}}}else{if(EJ(WH)){for(var Z in WH){if(WH.hasOwnProperty(Z)&&Lr(WH[Z])){e=fM;break}}}else{if(WH!=null){throw new Error("Invalid data")}}}}Iy(k).sourceFormat=e}function Bk(Z){return Iy(Z).source}function bG(Z){Iy(Z).datasetMap=Fj()}function LY(g1){var e=g1.option;var k=e.data;var v=gQ(k)?Y7:Rx;var i=false;var WH=e.seriesLayoutBy;var XY=e.sourceHeader;var m=e.dimensions;var Z=BN(g1);if(Z){var cc=Z.option;k=cc.source;v=Iy(Z).sourceFormat;i=true;WH=WH||cc.seriesLayoutBy;XY==null&&(XY=cc.sourceHeader);m=m||cc.dimensions}var PI=NA(k,v,WH,XY,m);var Z2=e.encode;if(!Z2&&Z){Z2=Vx(g1,Z,k,v,WH,PI)}Iy(g1).source=new ZD({data:k,fromDataset:i,seriesLayoutBy:WH,sourceFormat:v,dimensionsDefine:PI.dimensionsDefine,startIndex:PI.startIndex,dimensionsDetectCount:PI.dimensionsDetectCount,encodeDefine:Z2})}function NA(e,k,m,PI,Z2){if(!e){return{dimensionsDefine:WO(Z2)}}var Z;var WH;var XY;if(k===XT){if(PI==="auto"||PI==null){HL(function(cc){if(cc!=null&&cc!=="-"){if(Ei(cc)){WH==null&&(WH=1)}else{WH=0}}},m,e,10)}else{WH=PI?1:0}if(!Z2&&WH===1){Z2=[];HL(function(g1,cc){Z2[cc]=g1!=null?g1:""},m,e)}Z=Z2?Z2.length:m===cL?e.length:e[0]?e[0].length:null}else{if(k===Ic){if(!Z2){Z2=JA(e);XY=true}}else{if(k===fM){if(!Z2){Z2=[];XY=true;Dy(e,function(g1,cc){Z2.push(cc)})}}else{if(k===Rx){var v=XZ(e[0]);Z=cW(v)&&v.length||1}else{if(k===Y7){if(W1){SR(!!Z2,"dimensions must be given if data is TypedArray.")}}}}}}var i;if(XY){Dy(Z2,function(g1,cc){if((EJ(g1)?g1.name:g1)==="name"){i=cc}})}return{startIndex:WH,dimensionsDefine:WO(Z2),dimensionsDetectCount:Z,potentialNameDimIndex:i}}function WO(e){if(!e){return}var Z=Fj();return QL(e,function(i,k){i=XN({},EJ(i)?i:{name:i});if(i.name==null){return i}i.name+="";if(i.displayName==null){i.displayName=i.name}var m=Z.get(i.name);if(!m){Z.set(i.name,{count:1})}else{i.name+="-"+m.count++}return i})}function HL(Z,e,PI,v){v==null&&(v=Infinity);if(e===cL){for(var k=0;k<PI.length&&k<v;k++){Z(PI[k]?PI[k][0]:null,k)}}else{var m=PI[0]||[];for(var k=0;k<m.length&&k<v;k++){Z(m[k],k)}}}function JA(k){var i=0;var Z;while(i<k.length&&!(Z=k[i++])){}if(Z){var e=[];Dy(Z,function(v,m){e.push(m)});return e}}function Vx(v,m,g6,g2,g3,g8){var Z=Q6(v);var g9={};var g5=[];var WH=[];var Z2=v.subType;var g1=Fj(["pie","map","funnel"]);var k=Fj(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(Z&&k.get(Z2)!=null){var e=v.ecModel;var ha=Iy(e).datasetMap;var g4=m.uid+"_"+g3;var PI=ha.get(g4)||ha.set(g4,{categoryWayDim:1,valueWayDim:0});Dy(Z.coordSysDims,function(hb){if(Z.firstCategoryDimIndex==null){var i=PI.valueWayDim++;g9[hb]=i;WH.push(i)}else{if(Z.categoryAxisMap.get(hb)){g9[hb]=0;g5.push(0)}else{var i=PI.categoryWayDim++;g9[hb]=i;WH.push(i)}}})}else{if(g1.get(Z2)!=null){var cc;for(var g7=0;g7<5&&cc==null;g7++){if(!Hz(g6,g2,g3,g8.dimensionsDefine,g8.startIndex,g7)){cc=g7}}if(cc!=null){g9.value=cc;var XY=g8.potentialNameDimIndex||Math.max(cc-1,0);WH.push(XY);g5.push(XY)}}}g5.length&&(g9.itemName=g5);WH.length&&(g9.seriesName=WH);return g9}function BN(Z){var e=Z.option;var i=e.data;if(!i){return Z.ecModel.getComponent("dataset",e.datasetIndex||0)}}function V6(e,Z){return Hz(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,Z)}function Hz(v,WH,XY,g5,g4,g2){var k;var m=5;if(gQ(v)){return false}var PI;if(g5){PI=g5[g2];PI=EJ(PI)?PI.name:PI}if(WH===XT){if(XY===cL){var g3=v[g2];for(var Z2=0;Z2<(g3||[]).length&&Z2<m;Z2++){if((k=e(g3[g4+Z2]))!=null){return k}}}else{for(var Z2=0;Z2<v.length&&Z2<m;Z2++){var cc=v[g4+Z2];if(cc&&(k=e(cc[g2]))!=null){return k}}}}else{if(WH===Ic){if(!PI){return}for(var Z2=0;Z2<v.length&&Z2<m;Z2++){var g1=v[Z2];if(g1&&(k=e(g1[PI]))!=null){return k}}}else{if(WH===fM){if(!PI){return}var g3=v[PI];if(!g3||gQ(g3)){return false}for(var Z2=0;Z2<g3.length&&Z2<m;Z2++){if((k=e(g3[Z2]))!=null){return k}}}else{if(WH===Rx){for(var Z2=0;Z2<v.length&&Z2<m;Z2++){var g1=v[Z2];var Z=XZ(g1);if(!cW(Z)){return false}if((k=e(Z[g2]))!=null){return k}}}}}}function e(i){if(i!=null&&isFinite(i)&&i!==""){return false}else{if(Ei(i)&&i!=="-"){return true}}}return false}var O5="\0_ec_inner";var WB=fx.extend({constructor:WB,init:function(e,k,Z,i){Z=Z||{};this.option=null;this._theme=new fx(Z);this._optionManager=i},setOption:function(Z,e){SR(!(O5 in Z),"please use chart.getOption()");this._optionManager.setOption(Z,e);this.resetOption(null)},resetOption:function(Z){var m=false;var k=this._optionManager;if(!Z||Z==="recreate"){var i=k.mountOption(Z==="recreate");if(!this.option||Z==="recreate"){G.call(this,i)}else{this.restoreData();this.mergeOption(i)}m=true}if(Z==="timeline"||Z==="media"){this.restoreData()}if(!Z||Z==="recreate"||Z==="timeline"){var e=k.getTimelineOption(this);e&&(this.mergeOption(e),m=true)}if(!Z||Z==="recreate"||Z==="media"){var v=k.getMediaOption(this,this._api);if(v.length){Dy(v,function(PI){this.mergeOption(PI,m=true)},this)}}return m},mergeOption:function(k){var Z=this.option;var m=this._componentsMap;var e=[];bG(this);Dy(k,function(PI,v){if(PI==null){return}if(!Dt.hasClass(v)){Z[v]=Z[v]==null?fJ(PI):LB(Z[v],PI,true)}else{if(v){e.push(v)}}});Dt.topologicalTravel(e,Dt.getAllClassMainTypes(),i,this);function i(XY,WH){var PI=Y1(k[XY]);var v=DO(m.get(XY),PI);fH(v);Dy(v,function(g1,g2){var cc=g1.option;if(EJ(cc)){g1.keyInfo.mainType=XY;g1.keyInfo.subType=fN(XY,cc,g1.exist)}});var Z2=aa(m,WH);Z[XY]=[];m.set(XY,[]);Dy(v,function(g4,g3){var g2=g4.exist;var cc=g4.option;SR(EJ(cc)||g2,"Empty component definition");if(!cc){g2.mergeOption({},this);g2.optionUpdated({},false)}else{var g1=Dt.getClass(XY,g4.keyInfo.subType,true);if(g2&&g2 instanceof g1){g2.name=g4.keyInfo.name;g2.mergeOption(cc,this);g2.optionUpdated(cc,false)}else{var g5=XN({dependentModels:Z2,componentIndex:g3},g4.keyInfo);g2=new g1(cc,this,this,g5);XN(g2,g5);g2.init(cc,this,this,g5);g2.optionUpdated(null,true)}}m.get(XY)[g3]=g2;Z[XY][g3]=g2.option},this);if(XY==="series"){cX(this,m.get("series"))}}this._seriesIndicesMap=Fj(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var Z=fJ(this.option);Dy(Z,function(k,m){if(Dt.hasClass(m)){var k=Y1(k);for(var e=k.length-1;e>=0;e--){if(Zv(k[e])){k.splice(e,1)}}Z[m]=k}});delete Z[O5];return Z},getTheme:function(){return this._theme},getComponent:function(Z,i){var e=this._componentsMap.get(Z);if(e){return e[i||0]}},queryComponents:function(i){var WH=i.mainType;if(!WH){return[]}var PI=i.index;var v=i.id;var e=i.name;var m=this._componentsMap.get(WH);if(!m||!m.length){return[]}var Z;if(PI!=null){if(!cW(PI)){PI=[PI]}Z=bs(QL(PI,function(Z2){return m[Z2]}),function(Z2){return !!Z2})}else{if(v!=null){var XY=cW(v);Z=bs(m,function(Z2){return(XY&&FT(v,Z2.id)>=0)||(!XY&&Z2.id===v)})}else{if(e!=null){var k=cW(e);Z=bs(m,function(Z2){return(k&&FT(e,Z2.name)>=0)||(!k&&Z2.name===e)})}else{Z=m.slice()}}}return Ov(Z,i)},findComponents:function(v){var k=v.query;var i=v.mainType;var PI=Z(k);var e=PI?this.queryComponents(PI):this._componentsMap.get(i);return m(Ov(e,v));function Z(XY){var WH=i+"Index";var Z2=i+"Id";var cc=i+"Name";return XY&&(XY[WH]!=null||XY[Z2]!=null||XY[cc]!=null)?{mainType:i,index:XY[WH],id:XY[Z2],name:XY[cc]}:null}function m(WH){return v.filter?bs(WH,v.filter):WH}},eachComponent:function(i,Z,e){var m=this._componentsMap;if(typeof i==="function"){e=Z;Z=i;m.each(function(PI,v){Dy(PI,function(WH,XY){Z.call(e,v,WH,XY)})})}else{if(Ei(i)){Dy(m.get(i),Z,e)}else{if(EJ(i)){var k=this.findComponents(i);Dy(k,Z,e)}}}},getSeriesByName:function(Z){var e=this._componentsMap.get("series");return bs(e,function(i){return i.name===Z})},getSeriesByIndex:function(Z){return this._componentsMap.get("series")[Z]},getSeriesByType:function(e){var Z=this._componentsMap.get("series");return bs(Z,function(i){return i.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(Z,e){T(this);Dy(this._seriesIndices,function(k){var i=this._componentsMap.get("series")[k];Z.call(e,i,k)},this)},eachRawSeries:function(Z,e){Dy(this._componentsMap.get("series"),Z,e)},eachSeriesByType:function(i,Z,e){T(this);Dy(this._seriesIndices,function(m){var k=this._componentsMap.get("series")[m];if(k.subType===i){Z.call(e,k,m)}},this)},eachRawSeriesByType:function(i,Z,e){return Dy(this.getSeriesByType(i),Z,e)},isSeriesFiltered:function(Z){T(this);return this._seriesIndicesMap.get(Z.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(Z,e){T(this);var i=bs(this._componentsMap.get("series"),Z,e);cX(this,i)},restoreData:function(e){var i=this._componentsMap;cX(this,i.get("series"));var Z=[];i.each(function(m,k){Z.push(k)});Dt.topologicalTravel(Z,Dt.getAllClassMainTypes(),function(m,k){Dy(i.get(m),function(v){(m!=="series"||!dh(v,e))&&v.restoreData()})})}});function dh(Z,e){if(e){var k=e.seiresIndex;var m=e.seriesId;var i=e.seriesName;return(k!=null&&Z.componentIndex!==k)||(m!=null&&Z.id!==m)||(i!=null&&Z.name!==i)}}function JO(Z,i){var e=Z.color&&!Z.colorLayer;Dy(i,function(m,k){if(k==="colorLayer"&&e){return}if(!Dt.hasClass(k)){if(typeof m==="object"){Z[k]=!Z[k]?fJ(m):LB(Z[k],m,false)}else{if(Z[k]==null){Z[k]=m}}}})}function G(Z){Z=Z;this.option={};this.option[O5]=1;this._componentsMap=Fj({series:[]});this._seriesIndices;this._seriesIndicesMap;JO(Z,this._theme.option);LB(Z,ZH,false);this.mergeOption(Z)}function aa(i,Z){if(!cW(Z)){Z=Z?[Z]:[]}var e={};Dy(Z,function(k){e[k]=(i.get(k)||[]).slice()});return e}function fN(e,Z,i){var k=Z.type?Z.type:i?i.subType:Dt.determineSubType(e,Z);return k}function cX(Z,e){Z._seriesIndicesMap=Fj(Z._seriesIndices=QL(e,function(i){return i.componentIndex})||[])}function Ov(Z,e){return e.hasOwnProperty("subType")?bs(Z,function(i){return i.subType===e.subType}):Z}function T(Z){if(W1){if(!Z._seriesIndices){throw new Error("Option should contains series.")}}}eG(WB,Ew);var Va=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Nn(Z){Dy(Va,function(e){this[e]=ei(Z[e],Z)},this)}var A3={};function Rn(){this._coordinateSystems=[]}Rn.prototype={constructor:Rn,create:function(Z,i){var e=[];Dy(A3,function(v,k){var m=v.create(Z,i);e=e.concat(m||[])});this._coordinateSystems=e},update:function(Z,e){Dy(this._coordinateSystems,function(i){i.update&&i.update(Z,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};Rn.register=function(Z,e){A3[Z]=e};Rn.get=function(Z){return A3[Z]};var Ka=Dy;var ZE=fJ;var Ws=QL;var WE=LB;var Qm=/^(min|max)?(.+)$/;function dO(Z){this._api=Z;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}dO.prototype={constructor:dO,setOption:function(e,Z){if(e){Dy(Y1(e.series),function(m){m&&m.data&&gQ(m.data)&&QD(m.data)})}e=ZE(e,true);var i=this._optionBackup;var k=R9.call(this,e,Z,!i);this._newBaseOption=k.baseOption;if(i){e0(i.baseOption,k.baseOption);if(k.timelineOptions.length){i.timelineOptions=k.timelineOptions}if(k.mediaList.length){i.mediaList=k.mediaList}if(k.mediaDefault){i.mediaDefault=k.mediaDefault}}else{this._optionBackup=k}},mountOption:function(e){var Z=this._optionBackup;this._timelineOptions=Ws(Z.timelineOptions,ZE);this._mediaList=Ws(Z.mediaList,ZE);this._mediaDefault=ZE(Z.mediaDefault);this._currentMediaIndices=[];return ZE(e?Z.baseOption:this._newBaseOption)},getTimelineOption:function(e){var Z;var i=this._timelineOptions;if(i.length){var k=e.getComponent("timeline");if(k){Z=ZE(i[k.getCurrentIndex()],true)}}return Z},getMediaOption:function(WH){var k=this._api.getWidth();var XY=this._api.getHeight();var Z2=this._mediaList;var v=this._mediaDefault;var m=[];var e=[];if(!Z2.length&&!v){return e}for(var PI=0,Z=Z2.length;PI<Z;PI++){if(Sd(Z2[PI].query,k,XY)){m.push(PI)}}if(!m.length&&v){m=[-1]}if(m.length&&!dT(m,this._currentMediaIndices)){e=Ws(m,function(i){return ZE(i===-1?v.option:Z2[i].option)})}this._currentMediaIndices=m;return e}};function R9(v,m,Z){var PI=[];var XY=[];var WH;var i;var k=v.timeline;if(v.baseOption){i=v.baseOption}if(k||v.options){i=i||{};PI=(v.options||[]).slice()}if(v.media){i=i||{};var e=v.media;Ka(e,function(Z2){if(Z2&&Z2.option){if(Z2.query){XY.push(Z2)}else{if(!WH){WH=Z2}}}})}if(!i){i=v}if(!i.timeline){i.timeline=k}Ka([i].concat(PI).concat(QL(XY,function(Z2){return Z2.option})),function(Z2){Ka(m,function(cc){cc(Z2,Z)})});return{baseOption:i,timelineOptions:PI,mediaDefault:WH,mediaList:XY}}function Sd(e,k,i){var m={width:k,height:i,aspectratio:k/i};var Z=true;Dy(e,function(XY,Z2){var PI=Z2.match(Qm);if(!PI||!PI[1]||!PI[2]){return}var v=PI[1];var WH=PI[2].toLowerCase();if(!PD(m[WH],XY,v)){Z=false}});return Z}function PD(Z,e,i){if(i==="min"){return Z>=e}else{if(i==="max"){return Z<=e}else{return Z===e}}}function dT(Z,e){return Z.join(",")===e.join(",")}function e0(Z,e){e=e||{};Ka(e,function(v,m){if(v==null){return}var k=Z[m];if(!Dt.hasClass(m)){Z[m]=WE(k,v,true)}else{v=Y1(v);k=Y1(k);var i=DO(k,v);Z[m]=Ws(i,function(PI){return(PI.option&&PI.exist)?WE(PI.exist,PI.option,true):(PI.exist||PI.option)})}})}var Oz=Dy;var dW=EJ;var h=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Do(e){var m=e&&e.itemStyle;if(!m){return}for(var Z=0,v=h.length;Z<v;Z++){var k=h[Z];var WH=m.normal;var PI=m.emphasis;if(WH&&WH[k]){e[k]=e[k]||{};if(!e[k].normal){e[k].normal=WH[k]}else{LB(e[k].normal,WH[k])}WH[k]=null}if(PI&&PI[k]){e[k]=e[k]||{};if(!e[k].emphasis){e[k].emphasis=PI[k]}else{LB(e[k].emphasis,PI[k])}PI[k]=null}}}function Od(e,k,i){if(e&&e[k]&&(e[k].normal||e[k].emphasis)){var m=e[k].normal;var Z=e[k].emphasis;if(m){if(i){e[k].normal=e[k].emphasis=null;IK(e[k],m)}else{e[k]=m}}if(Z){e.emphasis=e.emphasis||{};e.emphasis[k]=Z}}}function Sz(Z){Od(Z,"itemStyle");Od(Z,"lineStyle");Od(Z,"areaStyle");Od(Z,"label");Od(Z,"labelLine");Od(Z,"upperLabel");Od(Z,"edgeLabel")}function J9(e,PI){var v=dW(e)&&e[PI];var m=dW(v)&&v.textStyle;if(m){for(var Z=0,k=AU.length;Z<k;Z++){var PI=AU[Z];if(m.hasOwnProperty(PI)){v[PI]=m[PI]}}}}function IX(Z){if(Z){Sz(Z);J9(Z,"label");Z.emphasis&&J9(Z.emphasis,"label")}}function Jm(XY){if(!dW(XY)){return}Do(XY);Sz(XY);J9(XY,"label");J9(XY,"upperLabel");J9(XY,"edgeLabel");if(XY.emphasis){J9(XY.emphasis,"label");J9(XY.emphasis,"upperLabel");J9(XY.emphasis,"edgeLabel")}var m=XY.markPoint;if(m){Do(m);IX(m)}var PI=XY.markLine;if(PI){Do(PI);IX(PI)}var WH=XY.markArea;if(WH){IX(WH)}var e=XY.data;if(XY.type==="graph"){e=e||XY.nodes;var v=XY.links||XY.edges;if(v&&!gQ(v)){for(var k=0;k<v.length;k++){IX(v[k])}}Dy(XY.categories,function(i){Sz(i)})}if(e&&!gQ(e)){for(var k=0;k<e.length;k++){IX(e[k])}}var m=XY.markPoint;if(m&&m.data){var Z=m.data;for(var k=0;k<Z.length;k++){IX(Z[k])}}var PI=XY.markLine;if(PI&&PI.data){var Z2=PI.data;for(var k=0;k<Z2.length;k++){if(cW(Z2[k])){IX(Z2[k][0]);IX(Z2[k][1])}else{IX(Z2[k])}}}if(XY.type==="gauge"){J9(XY,"axisLabel");J9(XY,"title");J9(XY,"detail")}else{if(XY.type==="treemap"){Od(XY.breadcrumb,"itemStyle");Dy(XY.levels,function(i){Sz(i)})}}}function HK(Z){return cW(Z)?Z:Z?[Z]:[]}function Po(Z){return(cW(Z)?Z[0]:Z)||{}}var a0=function(e,i){Oz(HK(e.series),function(k){dW(k)&&Jm(k)});var Z=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];i&&Z.push("valueAxis","categoryAxis","logAxis","timeAxis");Oz(Z,function(k){Oz(HK(e[k]),function(m){if(m){J9(m,"axisLabel");J9(m.axisPointer,"label")}})});Oz(HK(e.parallel),function(m){var k=m&&m.parallelAxisDefault;J9(k,"axisLabel");J9(k&&k.axisPointer,"label")});Oz(HK(e.calendar),function(k){Od(k,"itemStyle");J9(k,"dayLabel");J9(k,"monthLabel");J9(k,"yearLabel")});Oz(HK(e.radar),function(k){J9(k,"name")});Oz(HK(e.geo),function(k){if(dW(k)){IX(k);Oz(HK(k.regions),function(m){IX(m)})}});Oz(HK(e.timeline),function(k){IX(k);Od(k,"label");Od(k,"itemStyle");Od(k,"controlStyle",true);var m=k.data;cW(m)&&Dy(m,function(v){if(EJ(v)){Od(v,"label");Od(v,"itemStyle")}})});Oz(HK(e.toolbox),function(k){Od(k,"iconStyle");Oz(k.feature,function(m){Od(m,"iconStyle")})});J9(Po(e.axisPointer),"label");J9(Po(e.tooltip).axisPointer,"label")};function ca(e,m){m=m.split(",");var k=e;for(var Z=0;Z<m.length;Z++){k=k&&k[m[Z]];if(k==null){break}}return k}function Ld(e,WH,PI,m){WH=WH.split(",");var v=e;var Z;for(var k=0;k<WH.length-1;k++){Z=WH[k];if(v[Z]==null){v[Z]={}}v=v[Z]}if(m||v[WH[k]]==null){v[WH[k]]=PI}}function Ra(Z){Dy(bq,function(e){if(e[0] in Z&&!(e[1] in Z)){Z[e[1]]=Z[e[0]]}})}var bq=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var Gr=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var G9=function(Z,e){a0(Z,e);Z.series=Y1(Z.series);Dy(Z.series,function(k){if(!EJ(k)){return}var i=k.type;if(i==="pie"||i==="gauge"){if(k.clockWise!=null){k.clockwise=k.clockWise}}if(i==="gauge"){var m=ca(k,"pointer.color");m!=null&&Ld(k,"itemStyle.normal.color",m)}Ra(k)});if(Z.dataRange){Z.visualMap=Z.dataRange}Dy(Gr,function(k){var i=Z[k];if(i){if(!cW(i)){i=[i]}Dy(i,function(m){Ra(m)})}})};var Pk=function(Z){var e=Fj();Z.eachSeries(function(i){var v=i.get("stack");if(v){var k=e.get(v)||e.set(v,[]);var PI=i.getData();var m={stackResultDimension:PI.getCalculationInfo("stackResultDimension"),stackedOverDimension:PI.getCalculationInfo("stackedOverDimension"),stackedDimension:PI.getCalculationInfo("stackedDimension"),stackedByDimension:PI.getCalculationInfo("stackedByDimension"),isStackedByIndex:PI.getCalculationInfo("isStackedByIndex"),data:PI,seriesModel:i};if(!m.stackedDimension||!(m.isStackedByIndex||m.stackedByDimension)){return}k.length&&PI.setCalculationInfo("stackedOnSeries",k[k.length-1].seriesModel);k.push(m)}});e.each(bc)};function bc(Z){Dy(Z,function(WH,k){var e=[];var m=[NaN,NaN];var i=[WH.stackResultDimension,WH.stackedOverDimension];var XY=WH.data;var v=WH.isStackedByIndex;var PI=XY.map(i,function(g5,g3,g4){var g2=XY.get(WH.stackedDimension,g4);if(isNaN(g2)){return m}var cc;var g1;if(v){g1=XY.getRawIndex(g4)}else{cc=XY.get(WH.stackedByDimension,g4)}var g8=NaN;for(var g7=k-1;g7>=0;g7--){var Z2=Z[g7];if(!v){g1=Z2.data.rawIndexOf(Z2.stackedByDimension,cc)}if(g1>=0){var g6=Z2.data.getByRawIndex(Z2.stackResultDimension,g1);if((g2>=0&&g6>0)||(g2<=0&&g6<0)){g2+=g6;g8=g6;break}}}e[0]=g2;e[1]=g8;return e});XY.hostModel.setData(PI);WH.data=PI})}function az(i,e){if(!ZD.isInstance(i)){i=ZD.seriesDataToSource(i)}this._source=i;var m=this._data=i.data;var Z=i.sourceFormat;if(Z===Y7){if(W1){if(e==null){throw new Error("Typed array data must specify dimension size")}}this._offset=0;this._dimSize=e;this._data=m}var k=Lf[Z===XT?Z+"_"+i.seriesLayoutBy:Z];if(W1){SR(k,"Invalide sourceFormat: "+Z)}XN(this,k)}var Lk=az.prototype;Lk.pure=false;Lk.persistent=true;Lk.getSource=function(){return this._source};var Lf={"arrayRows_column":{pure:true,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(Z){return this._data[Z+this._source.startIndex]},appendData:AV},"arrayRows_row":{pure:true,count:function(){var Z=this._data[0];return Z?Math.max(0,Z.length-this._source.startIndex):0},getItem:function(m){m+=this._source.startIndex;var k=[];var v=this._data;for(var Z=0;Z<v.length;Z++){var e=v[Z];k.push(e?e[m]:null)}return k},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},"objectRows":{pure:true,count:FX,getItem:UV,appendData:AV},"keyedColumns":{pure:true,count:function(){var e=this._source.dimensionsDefine[0].name;var Z=this._data[e];return Z?Z.length:0},getItem:function(m){var k=[];var v=this._source.dimensionsDefine;for(var Z=0;Z<v.length;Z++){var e=this._data[v[Z].name];k.push(e?e[m]:null)}return k},appendData:function(Z){var e=this._data;Dy(Z,function(m,k){var PI=e[k]||(e[k]=[]);for(var v=0;v<(m||[]).length;v++){PI.push(m[v])}})}},"original":{count:FX,getItem:UV,appendData:AV},"typedArray":{persistent:false,pure:true,count:function(){return this._data?(this._data.length/this._dimSize):0},getItem:function(m){m=m-this._offset;var k=[];var Z=this._dimSize*m;for(var e=0;e<this._dimSize;e++){k[e]=this._data[Z+e]}return k},appendData:function(Z){if(W1){SR(gQ(Z),"Added data must be TypedArray if data in initialization is TypedArray")}this._data=Z},clean:function(){this._offset+=this.count();this._data=null}}};function FX(){return this._data.length}function UV(Z){return this._data[Z]}function AV(Z){for(var e=0;e<Z.length;e++){this._data.push(Z[e])}}var LQ={arrayRows:RG,objectRows:function(i,Z,e,k){return e!=null?i[k]:i},keyedColumns:RG,original:function(i,Z,e,k){var m=XZ(i);return(e==null||!(m instanceof Array))?m:m[e]},typedArray:RG};function RG(i,Z,e,k){return e!=null?i[e]:i}var Y3={arrayRows:Ze,objectRows:function(i,k,Z,e){return DV(i[k],this._dimensionInfos[k])},keyedColumns:Ze,original:function(i,k,Z,e){var m=i&&(i.value==null?i:i.value);if(!this._rawData.pure&&TI(i)){this.hasItemOption=true}return DV((m instanceof Array)?m[e]:m,this._dimensionInfos[k])},typedArray:function(i,k,Z,e){return i[e]}};function Ze(i,k,Z,e){return DV(i[e],this._dimensionInfos[k])}function DV(e,Z){var k=Z&&Z.type;if(k==="ordinal"){var i=Z&&Z.ordinalMeta;return i?i.parseAndCollect(e):e}if(k==="time"&&typeof e!=="number"&&e!=null&&e!=="-"){e=+A0(e)}return(e==null||e==="")?NaN:+e}function Nd(e,v,m){if(!e){return}var WH=e.getRawDataItem(v);if(WH==null){return}var k=e.getProvider().getSource().sourceFormat;var i;var PI;var Z=e.getDimensionInfo(m);if(Z){i=Z.name;PI=Z.index}return LQ[k](WH,v,PI,i)}function Hh(m,Z,i){if(!m){return}var e=m.getProvider().getSource().sourceFormat;if(e!==Rx&&e!==Ic){return}var k=m.getRawDataItem(Z);if(e===Rx&&!EJ(k)){k=null}if(k){return k[i]}}var Ub=/\{@(.+?)\}/g;var DD={getDataParams:function(PI,e){var i=this.getData(e);var k=this.getRawValue(PI,e);var m=i.getRawIndex(PI);var WH=i.getName(PI,true);var v=i.getRawDataItem(PI);var Z=i.getItemVisual(PI,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:WH,dataIndex:m,data:v,dataType:e,value:k,color:Z,marker:gL(Z),$vars:["seriesName","name","value"]}},getFormattedLabel:function(WH,Z2,i,XY,Z){Z2=Z2||"normal";var k=this.getData(i);var e=k.getItemModel(WH);var PI=this.getDataParams(WH,i);if(XY!=null&&(PI.value instanceof Array)){PI.value=PI.value[XY]}var v=e.get(Z2==="normal"?[Z||"label","formatter"]:[Z2,Z||"label","formatter"]);if(typeof v==="function"){PI.status=Z2;return v(PI)}else{if(typeof v==="string"){var m=Kc(v,PI);return m.replace(Ub,function(g2,g1){var cc=g1.length;if(g1.charAt(0)==="["&&g1.charAt(cc-1)==="]"){g1=+g1.slice(1,cc-1)}return Nd(k,WH,g1)})}}},getRawValue:function(Z,e){return Nd(this.getData(e),Z)},formatTooltip:function(){}};function GG(Z){return new aL(Z)}function aL(Z){Z=Z||{};this._reset=Z.reset;this._plan=Z.plan;this._count=Z.count;this._onDirty=Z.onDirty;this._dirty=true;this.context}var gV=aL.prototype;gV.perform=function(k){var PI=this._upstream;var XY=k&&k.skip;if(this._dirty&&PI){var v=this.context;v.data=v.outputData=PI.context.outputData}if(this.__pipeline){this.__pipeline.currentTask=this}var Z;if(this._plan&&!XY){Z=this._plan(this.context)}var Z2;if(this._dirty||Z==="reset"){this._dirty=false;Z2=cM(this,XY)}var m=k&&k.step;if(PI){if(W1){SR(PI._outputDueEnd!=null)}this._dueEnd=PI._outputDueEnd}else{if(W1){SR(!this._progress||this._count)}this._dueEnd=this._count?this._count(this.context):Infinity}if(this._progress){var e=this._dueIndex;var WH=Math.min(m!=null?this._dueIndex+m:Infinity,this._dueEnd);!XY&&(Z2||e<WH)&&(this._progress({start:e,end:WH},this.context));this._dueIndex=WH;var i=this._settedOutputEnd!=null?this._settedOutputEnd:WH;if(W1){SR(i>=this._outputDueEnd)}this._outputDueEnd=i}else{this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd}return this.unfinished()};gV.dirty=function(){this._dirty=true;this._onDirty&&this._onDirty(this.context)};function cM(k,Z){k._dueIndex=k._outputDueEnd=k._dueEnd=0;k._settedOutputEnd=null;var i;var e;if(!Z&&k._reset){i=k._reset(k.context);if(i&&i.progress){e=i.forceFirstProgress;i=i.progress}}k._progress=i;var m=k._downstream;m&&m.dirty();return e}gV.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};gV.pipe=function(Z){if(W1){SR(Z&&!Z._disposed&&Z!==this)}if(this._downstream!==Z||this._dirty){this._downstream=Z;Z._upstream=this;Z.dirty()}};gV.dispose=function(){if(this._disposed){return}this._upstream&&(this._upstream._downstream=null);this._downstream&&(this._downstream._upstream=null);this._dirty=false;this._disposed=true};gV.getUpstream=function(){return this._upstream};gV.getDownstream=function(){return this._downstream};gV.setOutputEnd=function(Z){this._outputDueEnd=this._settedOutputEnd=Z};var Ix=Uw();var S7=Dt.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(Z,k,e,i){this.seriesIndex=this.componentIndex;this.dataTask=GG({count:GI,reset:EO});this.dataTask.context={model:this};this.mergeDefaultAndTheme(Z,e);LY(this);var m=this.getInitialData(Z,e);Ue(m,this);this.dataTask.context.data=m;if(W1){SR(m,"getInitialData returned invalid data.")}Ix(this).dataBeforeProcessed=m;SS(this)},mergeDefaultAndTheme:function(e,i){var m=this.layoutMode;var Z=m?ZT(e):{};var k=this.subType;if(Dt.hasClass(k)){k+="Series"}LB(e,i.getTheme().get(this.subType));LB(e,this.getDefaultOption());XI(e,"label",["show"]);this.fillDataTextStyle(e.data);if(m){c7(e,Z,m)}},mergeOption:function(i,Z){i=LB(this.option,i,true);this.fillDataTextStyle(i.data);var k=this.layoutMode;if(k){c7(this.option,i,k)}LY(this);var e=this.getInitialData(i,Z);Ue(e,this);this.dataTask.dirty();this.dataTask.context.data=e;Ix(this).dataBeforeProcessed=e;SS(this)},fillDataTextStyle:function(k){if(k){var e=["show"];for(var Z=0;Z<k.length;Z++){if(k[Z]&&k[Z].label){XI(k[Z],"label",e)}}}},getInitialData:function(){},appendData:function(Z){var e=this.getRawData();e.appendData(Z.data)},getData:function(e){var Z=Wh(this);if(Z){var i=Z.context.data;return e==null?i:i.getLinkedData(e)}else{return Ix(this).data}},setData:function(i){var e=Wh(this);if(e){var Z=e.context;if(Z.data!==i&&e.isOverallFilter){e.setOutputEnd(i.count())}Z.outputData=i;if(e!==this.dataTask){Z.data=i}}Ix(this).data=i},getSource:function(){return Bk(this)},getRawData:function(){return Ix(this).dataBeforeProcessed},getBaseAxis:function(){var Z=this.coordinateSystem;return Z&&Z.getBaseAxis&&Z.getBaseAxis()},formatTooltip:function(Z2,Z,e){function i(g7){var g8=Pr(g7,function(hc,hb,ha){var g9=k.getDimensionInfo(ha);return hc|=g9&&g9.tooltip!==false&&g9.displayName!=null},0);var g5=[];v.length?Dy(v,function(g9){g6(Nd(k,Z2,g9),g9)}):Dy(g7,g6);function g6(hd,hc){var hb=k.getDimensionInfo(hc);if(!hb||hb.otherDims.tooltip===false){return}var he=hb.type;var g9=gL({color:cc,type:"subItem"});var ha=(g8?g9+Qp(hb.displayName||"-")+": ":"")+Qp(he==="ordinal"?hd+"":he==="time"?(Z?"":c5("yyyy/MM/dd hh:mm:ss",hd)):M9(hd));ha&&g5.push(ha)}return(g8?"<br/>":"")+g5.join(g8?"<br/>":", ")}function g3(g5){return Qp(M9(g5))}var k=this.getData();var v=k.mapDimension("defaultedTooltip",true);var WH=v.length;var PI=this.getRawValue(Z2);var g1=cW(PI);var cc=k.getItemVisual(Z2,"color");if(EJ(cc)&&cc.colorStops){cc=(cc.colorStops[0]||{}).color}cc=cc||"transparent";var m=(WH>1||(g1&&!WH))?i(PI):WH?g3(Nd(k,Z2,v[0])):g3(g1?PI[0]:PI);var XY=gL(cc);var g2=k.getName(Z2);var g4=this.name;if(!M5(this)){g4=""}g4=g4?Qp(g4)+(!Z?"<br/>":": "):"";return !Z?g4+XY+(g2?Qp(g2)+": "+m:m):XY+g4+m},isAnimationEnabled:function(){if(QH.node){return false}var Z=this.getShallow("animation");if(Z){if(this.getData().count()>this.getShallow("animationThreshold")){Z=false}}return Z},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,k,i){var Z=this.ecModel;var m=Ew.getColorFromPalette.call(this,e,k,i);if(!m){m=Z.getColorFromPalette(e,k,i)}return m},coordDimToDataDim:function(Z){return this.getRawData().mapDimension(Z,true)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});eG(S7,DD);eG(S7,Ew);function SS(Z){var e=Z.name;if(!M5(Z)){Z.name=gE(Z)||e}}function gE(e){var k=e.getRawData();var Z=k.mapDimension("seriesName",true);var i=[];Dy(Z,function(m){var v=k.getDimensionInfo(m);v.displayName&&i.push(v.displayName)});return i.join(" ")}function GI(Z){return Z.model.getRawData().count()}function EO(Z){var e=Z.model;e.setData(e.getRawData().cloneShallow());return Ow}function Ow(e,Z){if(e.end>Z.outputData.count()){Z.model.getRawData().cloneShallow(Z.outputData)}}function Ue(e,Z){Dy(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,c3(QK,Z))})}function QK(Z){var e=Wh(Z);if(e){e.setOutputEnd(this.count())}}function Wh(e){var Z=(e.ecModel||{}).scheduler;var i=Z&&Z.getPipeline(e.uid);if(i){var m=i.currentTask;if(m){var k=m.agentStubMap;if(k){m=k.get(e.uid)}}return m}}var Pd=function(){this.group=new U3();this.uid=SC("viewComponent")};Pd.prototype={constructor:Pd,init:function(Z,e){},render:function(i,e,k,Z){},dispose:function(){}};var TL=Pd.prototype;TL.updateView=TL.updateLayout=TL.updateVisual=function(Z,e,k,i){};AZ(Pd);YR(Pd,{registerWhenExtend:true});var Dq=function(){var Z=Uw();return function(i){var WH=Z(i);var k=i.pipelineContext;var e=WH.large;var v=WH.canProgressiveRender;var PI=WH.large=k.large;var m=WH.canProgressiveRender=k.canProgressiveRender;return !!((e^PI)||(v^m))&&"reset"}};var Iw=Uw();var Ag=Dq();function MQ(){this.group=new U3();this.uid=SC("viewChart");this.renderTask=GG({plan:XX,reset:Zy});this.renderTask.context={view:this}}MQ.prototype={type:"chart",init:function(Z,e){},render:function(Z,e,k,i){},highlight:function(Z,e,k,i){Fd(Z.getData(),i,"emphasis")},downplay:function(Z,e,k,i){Fd(Z.getData(),i,"normal")},remove:function(Z,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var TJ=MQ.prototype;TJ.updateView=TJ.updateLayout=TJ.updateVisual=function(Z,e,k,i){this.render(Z,e,k,i)};function VM(Z,k){if(Z){Z.trigger(k);if(Z.type==="group"){for(var e=0;e<Z.childCount();e++){VM(Z.childAt(e),k)}}}}function Fd(k,e,i){var Z=Ly(k,e);if(Z!=null){Dy(Y1(Z),function(m){VM(k.getItemGraphicEl(m),i)})}else{k.eachItemGraphicEl(function(m){VM(m,i)})}}AZ(MQ,["dispose"]);YR(MQ,{registerWhenExtend:true});MQ.markUpdateMethod=function(e,Z){Iw(e).updateMethod=Z};function XX(Z){return Ag(Z.model)}function Zy(k){var XY=k.model;var e=k.ecModel;var WH=k.api;var i=k.payload;var m=XY.pipelineContext.canProgressiveRender;var Z=k.view;var PI=i&&Iw(i).updateMethod;var v=m?"incrementalPrepareRender":(PI&&Z[PI])?PI:"render";if(v!=="render"){Z[v](XY,e,WH,i)}return PV[v]}var PV={incrementalPrepareRender:{progress:function(e,Z){Z.view.incrementalRender(e,Z.model,Z.ecModel,Z.api,Z.payload)}},render:{forceFirstProgress:true,progress:function(e,Z){Z.view.render(Z.model,Z.ecModel,Z.api,Z.payload)}}};var On="\0__throttleOriginMethod";var Ek="\0__throttleRate";var cm="\0__throttleType";function bH(WH,k,XY){var g2;var i=0;var Z=0;var cc=null;var m;var PI;var e;var v;k=k||0;function g1(){Z=(new Date()).getTime();cc=null;WH.apply(PI,e||[])}var Z2=function(){g2=(new Date()).getTime();PI=this;e=arguments;var g3=v||k;var g4=v||XY;v=null;m=g2-(g4?i:Z)-g3;clearTimeout(cc);if(g4){cc=setTimeout(g1,g3)}else{if(m>=0){g1()}else{cc=setTimeout(g1,-m)}}i=g2};Z2.clear=function(){if(cc){clearTimeout(cc);cc=null}};Z2.debounceNextCall=function(g3){v=g3};return Z2}function YN(v,i,k,Z){var m=v[i];if(!m){return}var PI=m[On]||m;var WH=m[cm];var e=m[Ek];if(e!==k||WH!==Z){if(k==null||!Z){return(v[i]=PI)}m=v[i]=bH(PI,k,Z==="debounce");m[On]=PI;m[cm]=Z;m[Ek]=k}return m}function gx(Z,i){var e=Z[i];if(e&&e[On]){Z[i]=e[On]}}var TW={createOnAllSeries:true,performRawSeries:true,reset:function(e,i){var v=e.getData();var Z=(e.visualColorAccessPath||"itemStyle.color").split(".");var m=e.get(Z)||e.getColorFromPalette(e.name,null,i.getSeriesCount());v.setVisual("color",m);if(!i.isSeriesFiltered(e)){if(typeof m==="function"&&!(m instanceof Jq)){v.each(function(PI){v.setItemVisual(PI,"color",m(e.getDataParams(PI)))})}var k=function(Z2,WH){var PI=Z2.getItemModel(WH);var XY=PI.get(Z,true);if(XY!=null){Z2.setItemVisual(WH,"color",XY)}};return{dataEach:v.hasItemOption?k:null}}}};var Xb={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var SN=function(k,e){var Z2=e.getModel("aria");if(!Z2.get("show")){return}else{if(Z2.get("description")){k.setAttribute("aria-label",Z2.get("description"));return}}var PI=0;e.eachSeries(function(g5,g6){++PI},this);var Z=Z2.get("data.maxCount")||10;var m=Z2.get("series.maxCount")||10;var v=Math.min(PI,m);var i;if(PI<1){return}else{var g3=g2();if(g3){i=WH(g1("general.withTitle"),{title:g3})}else{i=g1("general.withoutTitle")}var g4=[];var XY=PI>1?"series.multiple.prefix":"series.single.prefix";i+=WH(g1(XY),{seriesCount:PI});e.eachSeries(function(g8, g7){if(g7<v){var g5;var he=g8.get("name");var hb="series."+(PI>1?"multiple":"single")+".";g5=g1(he?hb+"withName":hb+"withoutName");g5=WH(g5,{seriesId:g8.seriesIndex,seriesName:g8.get("name"),seriesType:cc(g8.subType)});var g6=g8.getData();window.data=g6;if(g6.count()>Z){g5+=WH(g1("data.partialData"),{displayCnt:Z})}else{g5+=g1("data.allData")}var hc=[];for(var ha=0; ha<g6.count(); ha++){if(ha<Z){var hd=g6.getName(ha);var g9=Nd(g6,ha);hc.push(WH(hd?g1("data.withName"):g1("data.withoutName"),{name:hd,value:g9}))}}g5+=hc.join(g1("data.separator.middle"))+g1("data.separator.end");g4.push(g5)}});i+=g4.join(g1("series.multiple.separator.middle"))+g1("series.multiple.separator.end");k.setAttribute("aria-label",i)}function WH(g7, g5){if(typeof g7!=="string"){return g7}var g6=g7;Dy(g5,function(g9, g8){g6=g6.replace(new RegExp("\\{\\s*"+g8+"\\s*\\}","g"),g9)});return g6}function g1(g9){var g6=Z2.get(g9);if(g6==null){var g8=g9.split(".");var g7=Xb.aria;for(var g5=0; g5<g8.length; ++g5){g7=g7[g8[g5]]}return g7}else{return g6}}function g2(){var g5=e.getModel("title").option;if(g5&&g5.length){g5=g5[0]}return g5&&g5.text}function cc(g5){return Xb.series.typeNames[g5]||""}};var KN=Math.PI;var Jp=function(m,i){i=i||{};IK(i,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var v=new Fm({style:{fill:i.maskColor},zlevel:i.zlevel,z:10000});var Z=new Yz({shape:{startAngle:-KN/2,endAngle:-KN/2+0.1,r:10},style:{stroke:i.color,lineCap:"round",lineWidth:5},zlevel:i.zlevel,z:10001});var k=new Fm({style:{fill:"none",text:i.text,textPosition:"right",textDistance:10,textFill:i.textColor},zlevel:i.zlevel,z:10001});Z.animateShape(true).when(1000,{endAngle:KN*3/2}).start("circularInOut");Z.animateShape(true).when(1000,{startAngle:KN*3/2}).delay(300).start("circularInOut");var e=new U3();e.add(Z);e.add(k);e.add(v);e.resize=function(){var XY=m.getWidth()/2;var PI=m.getHeight()/2;Z.setShape({cx:XY,cy:PI});var WH=Z.shape.r;k.setShape({x:XY-WH,y:PI-WH,width:WH*2,height:WH*2});v.setShape({x:0,y:0,width:m.getWidth(),height:m.getHeight()})};e.resize();return e};function cg(i,k,e,Z){this.ecInstance=i;this.api=k;this.unfinished;this._dataProcessorHandlers=e.slice();this._visualHandlers=Z.slice();this._stageTaskMap=Fj()}var NU=cg.prototype;NU.getPerformArgs=function(k,i){if(!k.__pipeline){return}var e=this._pipelineMap.get(k.__pipeline.id);var Z=e.context;var m=!i&&e.progressiveEnabled&&(!Z||Z.canProgressiveRender)&&k.__idxInPipeline>e.bockIndex;return{step:m?e.step:null}};NU.getPipeline=function(Z){return this._pipelineMap.get(Z)};NU.updateStreamModes=function(Z,i){var k=this._pipelineMap.get(Z.uid);var PI=Z.getData();var e=PI.count();var m=k.progressiveEnabled&&i.incrementalPrepareRender&&e>=k.threshold;var v=Z.get("large")&&e>=Z.get("largeThreshold");Z.pipelineContext=k.context={canProgressiveRender:m,large:v}};NU.restorePipelines=function(e){var Z=this;var i=Z._pipelineMap=Fj();e.eachSeries(function(k){var m=k.getProgressive();var v=k.uid;i.set(v,{id:v,head:null,tail:null,threshold:k.getProgressiveThreshold(),progressiveEnabled:m&&!(k.preventIncremental&&k.preventIncremental()),bockIndex:-1,step:m||700,count:0});at(Z,k,k.dataTask)})};NU.prepareStageTasks=function(){var Z=this._stageTaskMap;var i=this.ecInstance.getModel();var e=this.api;Dy([this._dataProcessorHandlers,this._visualHandlers],function(k){Dy(k,function(m){var v=Z.get(m.uid)||Z.set(m.uid,[]);m.reset&&J8(this,m,v,i,e);m.overallReset&&Aa(this,m,v,i,e)},this)},this)};NU.prepareView=function(k,v,e,m){var i=k.renderTask;var Z=i.context;Z.model=v;Z.ecModel=e;Z.api=m;i.__block=!k.incrementalPrepareRender;at(this,v,i)};NU.performDataProcessorTasks=function(Z,e){Ql(this,this._dataProcessorHandlers,Z,e,{block:true})};NU.performVisualTasks=function(e,i,Z){Ql(this,this._visualHandlers,e,i,Z)};function Ql(Z,v,k,m,i){i=i||{};var e;Dy(v,function(g4,Z2){if(i.visualType&&i.visualType!==g4.visualType){return}var g3=Z._stageTaskMap.get(g4.uid);var g1=g3.seriesTaskMap;var g2=g3.overallTask;if(g2){var cc;var XY=g2.agentStubMap;XY.each(function(g5){if(PI(i,g5)){g5.dirty();cc=true}});cc&&g2.dirty();RT(g2,m);var WH=Z.getPerformArgs(g2,i.block);XY.each(function(g5){g5.perform(WH)});e|=g2.perform(WH)}else{if(g1){g1.each(function(g6,g7){if(PI(i,g6)){g6.dirty()}var g5=Z.getPerformArgs(g6,i.block);g5.skip=!g4.performRawSeries&&k.isSeriesFiltered(g6.context.model);RT(g6,m);e|=g6.perform(g5)})}}});function PI(WH,XY){return WH.setDirty&&(!WH.dirtyMap||WH.dirtyMap.get(XY.__pipeline.id))}Z.unfinished|=e}NU.performSeriesTasks=function(e){var Z;e.eachSeries(function(i){Z|=i.dataTask.perform()});this.unfinished|=Z};NU.plan=function(){this._pipelineMap.each(function(Z){var e=Z.tail;do{if(e.__block){Z.bockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var RT=NU.updatePayload=function(e,Z){Z!=="remain"&&(e.context.payload=Z)};function J8(Z2,XY,k,Z,WH){var m=k.seriesTaskMap||(k.seriesTaskMap=Fj());var PI=XY.seriesType;var v=XY.getTargetSeries;if(XY.createOnAllSeries){Z.eachRawSeries(e)}else{if(PI){Z.eachRawSeriesByType(PI,e)}else{if(v){v(Z,WH).each(e)}}}function e(cc){var g2=cc.uid;var g1=m.get(g2)||m.set(g2,GG({plan:QR,reset:Zd,count:Gd}));g1.context={model:cc,ecModel:Z,api:WH,useClearVisual:XY.isVisual&&!XY.isLayout,plan:XY.plan,reset:XY.reset,scheduler:Z2};at(Z2,cc,g1)}var i=Z2._pipelineMap;m.each(function(cc,g1){if(!i.get(g1)){cc.dispose();m.removeKey(g1)}})}function Aa(g2,g1,PI,Z,cc){var Z2=PI.overallTask=PI.overallTask||GG({reset:KT});Z2.context={ecModel:Z,api:cc,overallReset:g1.overallReset,scheduler:g2};var k=Z2.agentStubMap=Z2.agentStubMap||Fj();var e=g1.seriesType;var XY=g1.getTargetSeries;var v=true;var i=g1.isOverallFilter;if(e){Z.eachRawSeriesByType(e,WH)}else{if(XY){XY(Z,cc).each(WH)}else{v=false;Dy(Z.getSeries(),WH)}}function WH(g3){var g5=g3.uid;var g4=k.get(g5)||k.set(g5,GG({reset:Li,onDirty:b}));g4.context={model:g3,overallProgress:v,isOverallFilter:i};g4.agent=Z2;g4.__block=v;at(g2,g3,g4)}var m=g2._pipelineMap;k.each(function(g3,g4){if(!m.get(g4)){g3.dispose();k.removeKey(g4)}})}function KT(Z){Z.overallReset(Z.ecModel,Z.api,Z.payload)}function Li(e,Z){return e.overallProgress&&e7}function e7(){this.agent.dirty();this.getDownstream().dirty()}function b(){this.agent&&this.agent.dirty()}function QR(Z){return Z.plan&&Z.plan(Z.model,Z.ecModel,Z.api,Z.payload)}function Zd(Z){if(Z.useClearVisual){Z.data.clearAllVisual()}var e=Z.resetDefines=Y1(Z.reset(Z.model,Z.ecModel,Z.api,Z.payload));if(e.length){return TC}}function TC(WH,e){var XY=e.data;var PI=e.resetDefines;for(var Z=0;Z<PI.length;Z++){var v=PI[Z];if(v&&v.dataEach){for(var m=WH.start;m<WH.end;m++){v.dataEach(XY,m)}}else{if(v&&v.progress){v.progress(WH,XY)}}}}function Gd(Z){return Z.data.count()}function at(Z,e,k){var m=e.uid;var i=Z._pipelineMap.get(m);!i.head&&(i.head=k);i.tail&&i.tail.pipe(k);i.tail=k;k.__idxInPipeline=i.count++;k.__pipeline=i}cg.wrapStageHandler=function(e,Z){if(Pl(e)){e={overallReset:e,seriesType:y(e)}}e.uid=SC("stageHandler");Z&&(e.visualType=Z);return e};function y(i){LF=null;try{i(V2,XG)}catch(Z){}return LF}var V2={};var XG={};var LF;fy(V2,WB);fy(XG,Nn);V2.eachSeriesByType=V2.eachRawSeriesByType=function(Z){LF=Z};V2.eachComponent=function(Z){if(Z.mainType==="series"&&Z.subType){LF=Z.subType}};function fy(i,e){for(var Z in e.prototype){i[Z]=gw}}var Uk=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];var Cz={color:Uk,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Uk]};var Xn="#eee";var FB=function(){return{axisLine:{lineStyle:{color:Xn}},axisTick:{lineStyle:{color:Xn}},axisLabel:{textStyle:{color:Xn}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Xn}}}};var bA=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"];var V={color:bA,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:Xn},crossStyle:{color:Xn}}},legend:{textStyle:{color:Xn}},textStyle:{color:Xn},title:{textStyle:{color:Xn}},toolbox:{iconStyle:{normal:{borderColor:Xn}}},dataZoom:{textStyle:{color:Xn}},visualMap:{textStyle:{color:Xn}},timeline:{lineStyle:{color:Xn},itemStyle:{normal:{color:bA[1]}},label:{normal:{textStyle:{color:Xn}}},controlStyle:{normal:{color:Xn,borderColor:Xn}}},timeAxis:FB(),logAxis:FB(),valueAxis:FB(),categoryAxis:FB(),line:{symbol:"circle"},graph:{color:bA},gauge:{title:{textStyle:{color:Xn}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};V.categoryAxis.splitLine.show=false;
/*
 * ECharts, a free, powerful charting and visualization library.
 *
 * Copyright (c) 2017, Baidu Inc.
 * All rights reserved.
 *
 * LICENSE
 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
 */
var Si=SR;var O3=Dy;var No=Pl;var R=EJ;var JJ=Dt.parseClassType;var be="4.0.4";var b9={zrender:"4.0.3"};var UH=1;var SM=1000;var Az=5000;var Xi=1000;var JW=2000;var dq=3000;var DH=4000;var FH=5000;var eK={PROCESSOR:{FILTER:SM,STATISTIC:Az},VISUAL:{LAYOUT:Xi,GLOBAL:JW,CHART:dq,COMPONENT:DH,BRUSH:FH}};var RS="__flagInMainProcess";var gS="__optionUpdated";var Ou=/^[a-zA-Z0-9_]+$/;function Sw(Z){return function(k,i,e){k=k&&k.toLowerCase();cx.prototype[Z].call(this,k,i,e)}}function A2(){cx.call(this)}A2.prototype.on=Sw("on");A2.prototype.off=Sw("off");A2.prototype.one=Sw("one");eG(A2,cx);function Hn(Z,e,i){i=i||{};if(typeof e==="string"){e=QM[e]}this.id;this.group;this._dom=Z;var PI="canvas";if(W1){PI=(typeof window==="undefined"?global:window).__ECHARTS__DEFAULT__RENDERER__||PI}var k=this._zr=dA(Z,{renderer:i.renderer||PI,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=bH(ei(k.flush,k),17);var e=fJ(e);e&&G9(e,true);this._theme=e;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new Rn();var v=this._api=AF(this);function m(XY,WH){return XY.__prio-WH.__prio}Sk(b1,m);Sk(OV,m);this._scheduler=new cg(this,v,OV,b1);cx.call(this);this._messageCenter=new A2();this._initEvents();this.resize=ei(this.resize,this);this._pendingActions=[];k.animation.on("frame",this._onframe,this);EM(k,this);QD(this)}var dc=Hn.prototype;dc._onframe=function(){if(this._disposed){return}var Z=this._scheduler;if(this[gS]){var v=this[gS].silent;this[RS]=true;By(this);Wc.update.call(this);this[RS]=false;this[gS]=false;A5.call(this,v);eL.call(this,v)}else{if(Z.unfinished){var e=UH;var i=this._model;var m=this._api;Z.unfinished=false;do{var k=+new Date();Z.performSeriesTasks(i);Z.performDataProcessorTasks(i);Ye(this,i);Z.performVisualTasks(i);d0(this,this._model,m,"remain");e-=(+new Date()-k)}while(e>0&&Z.unfinished);if(!Z.unfinished){this._zr.flush()}}}};dc.getDom=function(){return this._dom};dc.getZr=function(){return this._zr};dc.setOption=function(e,Z,i){if(W1){Si(!this[RS],"`setOption` should not be called during main process.")}var PI;if(R(Z)){i=Z.lazyUpdate;PI=Z.silent;Z=Z.notMerge}this[RS]=true;if(!this._model||Z){var m=new dO(this._api);var v=this._theme;var k=this._model=new WB(null,null,v,m);k.scheduler=this._scheduler;k.init(null,null,v,m)}this._model.setOption(e,A9);if(i){this[gS]={silent:PI};this[RS]=false}else{By(this);Wc.update.call(this);this._zr.flush();this[gS]=false;this[RS]=false;A5.call(this,PI);eL.call(this,PI)}};dc.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};dc.getModel=function(){return this._model};dc.getOption=function(){return this._model&&this._model.getOption()};dc.getWidth=function(){return this._zr.getWidth()};dc.getHeight=function(){return this._zr.getHeight()};dc.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};dc.getRenderedCanvas=function(e){if(!QH.canvasSupported){return}e=e||{};e.pixelRatio=e.pixelRatio||1;e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var Z=this._zr;return Z.painter.getRenderedCanvas(e)};dc.getSvgDataUrl=function(){if(!QH.svgSupported){return}var Z=this._zr;var e=Z.storage.getDisplayList();Dy(e,function(i){i.stopAnimation(true)});return Z.painter.pathToDataUrl()};dc.getDataURL=function(Z){Z=Z||{};var v=Z.excludeComponents;var e=this._model;var i=[];var k=this;O3(v,function(PI){e.eachComponent({mainType:PI},function(WH){var XY=k._componentsMap[WH.__viewId];if(!XY.group.ignore){i.push(XY);XY.group.ignore=true}})});var m=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(Z).toDataURL("image/"+(Z&&Z.type||"png"));O3(i,function(PI){PI.group.ignore=false});return m};dc.getConnectedDataURL=function(XY){if(!QH.canvasSupported){return}var k=this.group;var e=Math.min;var Z2=Math.max;var v=Infinity;if(KY[k]){var WH=v;var PI=v;var i=-v;var g1=-v;var g3=[];var g2=(XY&&XY.pixelRatio)||1;Dy(Rj,function(g5,g8){if(g5.group===k){var g6=g5.getRenderedCanvas(fJ(XY));var g7=g5.getDom().getBoundingClientRect();WH=e(g7.left,WH);PI=e(g7.top,PI);i=Z2(g7.right,i);g1=Z2(g7.bottom,g1);g3.push({dom:g6,left:g7.left,top:g7.top})}});WH*=g2;PI*=g2;i*=g2;g1*=g2;var cc=i-WH;var g4=g1-PI;var Z=gi();Z.width=cc;Z.height=g4;var m=dA(Z);O3(g3,function(g5){var g6=new Hv({style:{x:g5.left*g2-WH,y:g5.top*g2-PI,image:g5.dom}});m.add(g6)});m.refreshImmediately();return Z.toDataURL("image/"+(XY&&XY.type||"png"))}else{return this.getDataURL(XY)}};dc.convertToPixel=c3(HD,"convertToPixel");dc.convertFromPixel=c3(HD,"convertFromPixel");function HD(XY,WH,v){var e=this._model;var Z=this._coordSysMgr.getCoordinateSystems();var m;WH=Jh(e,WH);for(var PI=0;PI<Z.length;PI++){var k=Z[PI];if(k[XY]&&(m=k[XY](e,WH,v))!=null){return m}}if(W1){console.warn("No coordinate system that supports "+XY+" found by the given finder.")}}dc.containPixel=function(k,i){var e=this._model;var Z;k=Jh(e,k);Dy(k,function(v,m){m.indexOf("Models")>=0&&Dy(v,function(XY){var PI=XY.coordinateSystem;if(PI&&PI.containPoint){Z|=!!PI.containPoint(i)}else{if(m==="seriesModels"){var WH=this._chartsMap[XY.__viewId];if(WH&&WH.containPoint){Z|=WH.containPoint(i,XY)}else{if(W1){console.warn(m+": "+(WH?"The found component do not support containPoint.":"No view mapping to the found component."))}}}else{if(W1){console.warn(m+": containPoint is not supported")}}}},this)},this);return !!Z};dc.getVisual=function(k,e){var m=this._model;k=Jh(m,k,{defaultMainType:"series"});var Z=k.seriesModel;if(W1){if(!Z){console.warn("There is no specified seires model")}}var v=Z.getData();var i=k.hasOwnProperty("dataIndexInside")?k.dataIndexInside:k.hasOwnProperty("dataIndex")?v.indexOfRawIndex(k.dataIndex):null;return i!=null?v.getItemVisual(i,e):v.getVisual(e)};dc.getViewOfComponentModel=function(Z){return this._componentsMap[Z.__viewId]};dc.getViewOfSeriesModel=function(Z){return this._chartsMap[Z.__viewId]};var Wc={prepareAndUpdate:function(Z){By(this);Wc.update.call(this,Z)},update:function(e){var Z=this._model;var PI=this._api;var m=this._zr;var k=this._coordSysMgr;var WH=this._scheduler;if(!Z){return}Z.restoreData(e);WH.performSeriesTasks(Z);k.create(Z,PI);WH.performDataProcessorTasks(Z,e);Ye(this,Z);k.update(Z,PI);L6(Z);WH.performVisualTasks(Z,e);MZ(this,Z,PI,e);var i=Z.get("backgroundColor")||"transparent";if(!QH.canvasSupported){var v=dl(i);i=Pq(v,"rgb");if(v[3]===0){i="transparent"}}else{m.setBackgroundColor(i)}Ui(Z,PI)},updateTransform:function(k){var e=this._model;var i=this;var v=this._api;if(!e){return}var Z=[];e.eachComponent(function(PI,WH){var Z2=i.getViewOfComponentModel(WH);if(Z2&&Z2.__alive){if(Z2.updateTransform){var XY=Z2.updateTransform(WH,e,v,k);XY&&XY.update&&Z.push(Z2)}else{Z.push(Z2)}}});var m=Fj();e.eachSeries(function(PI){var XY=i._chartsMap[PI.__viewId];if(XY.updateTransform){var WH=XY.updateTransform(PI,e,v,k);WH&&WH.update&&m.set(PI.uid,1)}else{m.set(PI.uid,1)}});L6(e);this._scheduler.performVisualTasks(e,k,{setDirty:true,dirtyMap:m});d0(i,e,v,k,m);Ui(e,this._api)},updateView:function(e){var Z=this._model;if(!Z){return}MQ.markUpdateMethod(e,"updateView");L6(Z);this._scheduler.performVisualTasks(Z,e,{setDirty:true});MZ(this,this._model,this._api,e);Ui(Z,this._api)},updateVisual:function(Z){Wc.update.call(this,Z)},updateLayout:function(Z){Wc.update.call(this,Z)}};function By(i){var e=i._model;var Z=i._scheduler;Z.restorePipelines(e);Z.prepareStageTasks();Sr(i,"component",e,Z);Sr(i,"chart",e,Z);Z.plan()}function Vt(k,PI,e,XY,Z){var WH=k._model;if(!XY){O3(k._componentsViews.concat(k._chartsViews),v);return}var m={};m[XY+"Id"]=e[XY+"Id"];m[XY+"Index"]=e[XY+"Index"];m[XY+"Name"]=e[XY+"Name"];var i={mainType:XY,query:m};Z&&(i.subType=Z);WH&&WH.eachComponent(i,function(cc,Z2){v(k[XY==="series"?"_chartsMap":"_componentsMap"][cc.__viewId])},k);function v(Z2){Z2&&Z2.__alive&&Z2[PI]&&Z2[PI](Z2.__model,WH,k._api,e)}}dc.resize=function(Z){if(W1){Si(!this[RS],"`resize` should not be called during main process.")}this._zr.resize(Z);var e=this._model;this._loadingFX&&this._loadingFX.resize();if(!e){return}var i=e.resetOption("media");var k=Z&&Z.silent;this[RS]=true;i&&By(this);Wc.update.call(this);this[RS]=false;A5.call(this,k);eL.call(this,k)};function Ye(i,e){var Z=i._chartsMap;var k=i._scheduler;e.eachSeries(function(m){k.updateStreamModes(m,Z[m.__viewId])})}dc.showLoading=function(i,k){if(R(i)){k=i;i=""}i=i||"default";this.hideLoading();if(!LT[i]){if(W1){console.warn("Loading effects "+i+" not exists.")}return}var Z=LT[i](this._api,k);var e=this._zr;this._loadingFX=Z;e.add(Z)};dc.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};dc.makeActionFromEvent=function(Z){var e=XN({},Z);e.type=TZ[Z.type];return e};dc.dispatchAction=function(e,Z){if(!R(Z)){Z={silent:!!Z}}if(!XJ[e.type]){return}if(!this._model){return}if(this[RS]){this._pendingActions.push(e);return}aI.call(this,e,Z.silent);if(Z.flush){this._zr.flush(true)}else{if(Z.flush!==false&&QH.browser.weChat){this._throttledZrFlush()}}A5.call(this,Z.silent);eL.call(this,Z.silent)};function aI(k,g2){var v=k.type;var WH=k.escapeConnect;var Z=XJ[v];var Z2=Z.actionInfo;var i=(Z2.update||"update").split(":");var cc=i.pop();i=i[0]!=null&&JJ(i[0]);this[RS]=true;var m=[k];var XY=false;if(k.batch){XY=true;m=QL(k.batch,function(g3){g3=IK(XN({},g3),k);g3.batch=null;return g3})}var PI=[];var e;var g1=v==="highlight"||v==="downplay";O3(m,function(g3){e=Z.action(g3,this._model,this._api);e=e||XN({},g3);e.type=Z2.event||e.type;PI.push(e);if(g1){Vt(this,cc,g3,"series")}else{if(i){Vt(this,cc,g3,i.main,i.sub)}}},this);if(cc!=="none"&&!g1&&!i){if(this[gS]){By(this);Wc.update.call(this,k);this[gS]=false}else{Wc[cc].call(this,k)}}if(XY){e={type:Z2.event||v,escapeConnect:WH,batch:PI}}else{e=PI[0]}this[RS]=false;!g2&&this._messageCenter.trigger(e.type,e)}function A5(i){var Z=this._pendingActions;while(Z.length){var e=Z.shift();aI.call(this,e,i)}}function eL(Z){!Z&&this.trigger("updated")}function EM(Z,e){Z.on("rendered",function(){e.trigger("rendered");if(Z.animation.isFinished()&&!e[gS]&&!e._scheduler.unfinished&&!e._pendingActions.length){e.trigger("finished")}})}dc.appendData=function(k){var i=k.seriesIndex;var e=this.getModel();var Z=e.getSeriesByIndex(i);if(W1){Si(k.data&&Z)}Z.appendData(k);this._scheduler.unfinished=true};dc.on=Sw("on");dc.off=Sw("off");dc.one=Sw("one");function Sr(v,cc,e,g2){var m=cc==="component";var PI=m?v._componentsViews:v._chartsViews;var Z2=m?v._componentsMap:v._chartsMap;var k=v._zr;var g1=v._api;for(var XY=0;XY<PI.length;XY++){PI[XY].__alive=false}m?e.eachComponent(function(i,g3){i!=="series"&&WH(g3)}):e.eachSeries(WH);function WH(g6){var g4="_ec_"+g6.id+"_"+g6.type;var g3=Z2[g4];if(!g3){var i=JJ(g6.type);var g5=m?Pd.getClass(i.main,i.sub):MQ.getClass(i.sub);if(W1){Si(g5,i.sub+" does not exist.")}g3=new g5();g3.init(e,g1);Z2[g4]=g3;PI.push(g3);k.add(g3.group)}g6.__viewId=g3.__id=g4;g3.__alive=true;g3.__model=g6;g3.group.__ecComponentInfo={mainType:g6.mainType,index:g6.componentIndex};!m&&g2.prepareView(g3,g6,e,g1)}for(var XY=0;XY<PI.length;){var Z=PI[XY];if(!Z.__alive){!m&&Z.renderTask.dispose();k.remove(Z.group);Z.dispose(e,g1);PI.splice(XY,1);delete Z2[Z.__id];Z.__id=Z.group.__ecComponentInfo=null}else{XY++}}}function L6(Z){Z.clearColorPalette();Z.eachSeries(function(e){e.clearColorPalette()})}function MZ(i,e,k,Z){V0(i,e,k,Z);O3(i._chartsViews,function(m){m.__alive=false});d0(i,e,k,Z);O3(i._chartsViews,function(m){if(!m.__alive){m.remove(e,k)}})}function V0(i,e,m,Z,k){O3(k||i._componentsViews,function(PI){var v=PI.__model;PI.render(v,e,m,Z);El(v,PI)})}function d0(m,k,PI,Z,e){var v=m._scheduler;var i;k.eachSeries(function(WH){var Z2=m._chartsMap[WH.__viewId];Z2.__alive=true;var XY=Z2.renderTask;v.updatePayload(XY,Z);if(e&&e.get(WH.uid)){XY.dirty()}i|=XY.perform(v.getPerformArgs(XY));Z2.group.silent=!!WH.get("silent");El(WH,Z2);F3(WH,Z2)});v.unfinished|=i;YG(m._zr,k);SN(m._zr.dom,k)}function Ui(Z,e){O3(Wp,function(i){i(Z,e)})}var CI=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];dc._initEvents=function(){O3(CI,function(Z){this._zr.on(Z,function(k){var m=this.getModel();var i=k.target;var PI;if(Z==="globalout"){PI={}}else{if(i&&i.dataIndex!=null){var v=i.dataModel||m.getSeriesByIndex(i.seriesIndex);PI=v&&v.getDataParams(i.dataIndex,i.dataType)||{}}else{if(i&&i.eventData){PI=XN({},i.eventData)}}}if(PI){PI.event=k;PI.type=Z;this.trigger(Z,PI)}},this)},this);O3(TZ,function(e,Z){this._messageCenter.on(Z,function(i){this.trigger(Z,i)},this)},this)};dc.isDisposed=function(){return this._disposed};dc.clear=function(){this.setOption({series:[]},true)};dc.dispose=function(){if(this._disposed){if(W1){console.warn("Instance "+this.id+" has been disposed")}return}this._disposed=true;H1(this.getDom(),SQ,"");var e=this._api;var Z=this._model;O3(this._componentsViews,function(i){i.dispose(Z,e)});O3(this._chartsViews,function(i){i.dispose(Z,e)});this._zr.dispose();delete Rj[this.id]};eG(Hn,cx);function YG(e,i){var Z=e.storage;var k=0;Z.traverse(function(m){if(!m.isGroup){k++}});if(k>i.get("hoverLayerThreshold")&&!QH.node){Z.traverse(function(m){if(!m.isGroup){m.useHoverLayer=true}})}}function F3(Z,e){var i=Z.get("blendMode")||null;if(W1){if(!QH.canvasSupported&&i&&i!=="source-over"){console.warn("Only canvas support blendMode")}}e.group.traverse(function(k){if(!k.isGroup){if(k.style.blend!==i){k.setStyle("blend",i)}}if(k.eachPendingDisplayable){k.eachPendingDisplayable(function(m){m.setStyle("blend",i)})}})}function El(k,e){var Z=k.get("z");var i=k.get("zlevel");e.group.traverse(function(m){if(m.type!=="group"){Z!=null&&(m.z=Z);i!=null&&(m.zlevel=i)}})}function AF(Z){var e=Z._coordSysMgr;return XN(new Nn(Z),{getCoordinateSystems:ei(e.getCoordinateSystems,e),getComponentByElement:function(i){while(i){var k=i.__ecComponentInfo;if(k!=null){return Z._model.getComponent(k.mainType,k.index)}i=i.parent}}})}var XJ={};var TZ={};var OV=[];var A9=[];var Wp=[];var b1=[];var QM={};var LT={};var Rj={};var KY={};var Xu=new Date()-0;var Ym=new Date()-0;var SQ="_echarts_instance_";var FC={};function Vp(Z){var m=0;var k=1;var v=2;var e="__connectUpdateStatus";function i(PI,Z2){for(var WH=0;WH<PI.length;WH++){var XY=PI[WH];XY[e]=Z2}}O3(TZ,function(WH,PI){Z._messageCenter.on(PI,function(cc){if(KY[Z.group]&&Z[e]!==m){if(cc&&cc.escapeConnect){return}var XY=Z.makeActionFromEvent(cc);var Z2=[];O3(Rj,function(g1){if(g1!==Z&&g1.group===Z.group){Z2.push(g1)}});i(Z2,m);O3(Z2,function(g1){if(g1[e]!==k){g1.dispatchAction(XY)}});i(Z2,v)}})})}function G1(Z,e,i){if(W1){if((UJ.replace(".","")-0)<(b9.zrender.replace(".","")-0)){throw new Error("zrender/src "+UJ+" is too old for ECharts "+be+". Current version need ZRender "+b9.zrender+"+")}if(!Z){throw new Error("Initialize failed: invalid dom.")}}var m=BT(Z);if(m){if(W1){console.warn("There is a chart instance already initialized on the dom.")}return m}if(W1){if(Zp(Z)&&Z.nodeName.toUpperCase()!=="CANVAS"&&((!Z.clientWidth&&(!i||i.width==null))||(!Z.clientHeight&&(!i||i.height==null)))){console.warn("Can't get dom width or height")}}var k=new Hn(Z,e,i);k.id="ec_"+Xu++;Rj[k.id]=k;H1(Z,SQ,k.id);Vp(k);return k}function Fz(e){if(cW(e)){var Z=e;e=null;O3(Z,function(i){if(i.group!=null){e=i.group}});e=e||("g_"+Ym++);O3(Z,function(i){i.group=e})}KY[e]=true;return e}function Lg(Z){KY[Z]=false}var As=Lg;function Wd(Z){if(typeof Z==="string"){Z=Rj[Z]}else{if(!(Z instanceof Hn)){Z=BT(Z)}}if((Z instanceof Hn)&&!Z.isDisposed()){Z.dispose()}}function BT(Z){return Rj[p(Z,SQ)]}function UI(Z){return Rj[Z]}function Ua(e,Z){QM[e]=Z}function Jo(Z){A9.push(Z)}function dU(e,Z){IM(OV,e,Z,SM)}function Q0(Z){Wp.push(Z)}function S9(k,i,Z){if(typeof i==="function"){Z=i;i=""}var e=R(k)?k.type:([k,k={event:i}][0]);k.event=(k.event||e).toLowerCase();i=k.event;Si(Ou.test(e)&&Ou.test(i));if(!XJ[e]){XJ[e]={action:Z,actionInfo:k}}TZ[i]=e}function R1(Z,e){Rn.register(Z,e)}function J4(Z){var e=Rn.get(Z);if(e){return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}}function gH(Z,e){IM(b1,Z,e,Xi,"layout")}function Ao(e,Z){IM(b1,e,Z,dq,"visual")}function IM(m,k,v,e,i){if(No(k)||R(k)){v=k;k=e}if(W1){if(isNaN(k)||k==null){throw new Error("Illegal priority")}O3(m,function(PI){Si(PI.__raw!==v)})}var Z=cg.wrapStageHandler(v,i);Z.__prio=k;Z.__raw=v;m.push(Z);return Z}function dQ(e,Z){LT[e]=Z}function Hl(Z){return Dt.extend(Z)}function ec(Z){return Pd.extend(Z)}function Sa(Z){return S7.extend(Z)}function YB(Z){return MQ.extend(Z)}function Vz(Z){CN("createCanvas",Z)}function MB(i,Z,e){if(Z.geoJson&&!Z.features){e=Z.specialAreas;Z=Z.geoJson}if(typeof Z==="string"){Z=(typeof JSON!=="undefined"&&JSON.parse)?JSON.parse(Z):(new Function("return ("+Z+");"))()}FC[i]={geoJson:Z,specialAreas:e}}function Ai(Z){return FC[Z]}Ao(JW,TW);Jo(G9);dU(Az,Pk);dQ("default",Jp);S9({type:"highlight",event:"highlight",update:"highlight"},gw);S9({type:"downplay",event:"downplay",update:"downplay"},gw);Ua("light",Cz);Ua("dark",V);var Vr={};function Kq(Z){return Z}function WG(i,m,k,e,Z){this._old=i;this._new=m;this._oldKeyGetter=k||Kq;this._newKeyGetter=e||Kq;this.context=Z}WG.prototype={constructor:WG,add:function(Z){this._add=Z;return this},update:function(Z){this._update=Z;return this},remove:function(Z){this._remove=Z;return this},execute:function(){var WH=this._old;var g1=this._new;var PI={};var Z2={};var v=[];var k=[];var XY;KR(WH,PI,v,"_oldKeyGetter",this);KR(g1,Z2,k,"_newKeyGetter",this);for(XY=0;XY<WH.length;XY++){var cc=v[XY];var m=Z2[cc];if(m!=null){var e=m.length;if(e){e===1&&(Z2[cc]=null);m=m.unshift()}else{Z2[cc]=null}this._update&&this._update(m,XY)}else{this._remove&&this._remove(XY)}}for(var XY=0;XY<k.length;XY++){var cc=k[XY];if(Z2.hasOwnProperty(cc)){var m=Z2[cc];if(m==null){continue}if(!m.length){this._add&&this._add(m)}else{for(var Z=0,e=m.length;Z<e;Z++){this._add&&this._add(m[Z])}}}}}};function KR(v,WH,m,e,XY){for(var k=0;k<v.length;k++){var PI="_ec_"+XY[e](v[k],k);var Z=WH[PI];if(Z==null){m.push(PI);WH[PI]=k}else{if(!Z.length){WH[PI]=Z=[Z]}Z.push(k)}}}var Au=Fj(["tooltip","label","itemName","itemId","seriesName"]);function cY(k){var XY={};var v=XY.encode={};var Z=Fj();var m=[];Dy(k.dimensions,function(g2){var g1=k.getDimensionInfo(g2);var g3=g1.coordDim;if(g3){if(W1){SR(Au.get(g3)==null)}var cc=v[g3];if(!v.hasOwnProperty(g3)){cc=v[g3]=[]}cc[g1.coordDimIndex]=g2;if(!g1.isExtraCoord){Z.set(g3,1);if(B0(g1.type)){m[0]=g2}}}Au.each(function(g6,g7){var g4=v[g7];if(!v.hasOwnProperty(g7)){g4=v[g7]=[]}var g5=g1.otherDims[g7];if(g5!=null&&g5!==false){g4[g5]=g1.name}})});var i=[];var WH={};Z.each(function(g1,g2){var cc=v[g2];WH[g2]=cc[0];i=i.concat(cc)});XY.dataDimsOnCoord=i;XY.encodeFirstDimNotExtra=WH;var PI=v.label;if(PI&&PI.length){m=PI.slice()}var Z2=m.slice();var e=v.tooltip;if(e&&e.length){Z2=e.slice()}v.defaultedLabel=m;v.defaultedTooltip=Z2;return XY}function Tl(Z){return Z==="category"?"ordinal":Z==="time"?"time":"float"}function B0(Z){return !(Z==="ordinal"||Z==="time")}var IW=EJ;var fK="undefined";var gd=typeof window===fK?global:window;var Ug="e\0\0";var TS={"float":typeof gd.Float64Array===fK?Array:gd.Float64Array,"int":typeof gd.Int32Array===fK?Array:gd.Int32Array,"ordinal":Array,"number":Array,"time":Array};var c6=typeof gd.Uint32Array===fK?Array:gd.Uint32Array;var QB=typeof gd.Uint16Array===fK?Array:gd.Uint16Array;function UK(Z){return Z._rawCount>65535?c6:QB}function Wv(Z){var e=Z.constructor;return e===Array?Z.slice():new e(Z)}var Lu=["hasItemOption","_nameList","_idList","_calculationInfo","_invertedIndicesMap","_rawData","_rawExtent","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"];function OE(e,Z){Dy(Lu.concat(Z.__wrappedMethods||[]),function(i){if(Z.hasOwnProperty(i)){e[i]=Z[i]}});e.__wrappedMethods=Z.__wrappedMethods}var Mh=function(XY,k){XY=XY||["x","y"];var Z={};var WH=[];var PI={};for(var v=0;v<XY.length;v++){var m=XY[v];if(Ei(m)){m={name:m}}var e=m.name;m.type=m.type||"float";if(!m.coordDim){m.coordDim=e;m.coordDimIndex=0}m.otherDims=m.otherDims||{};WH.push(e);Z[e]=m;m.index=v;if(m.createInvertedIndices){PI[e]=[]}}this.dimensions=WH;this._dimensionInfos=Z;this.hostModel=k;this.dataType;this._indices=null;this._count=0;this._rawCount=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=[];this._chunkSize=100000;this._chunkCount=0;this._rawData;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=cY(this);this._invertedIndicesMap=PI;this._calculationInfo={}};var gy=Mh.prototype;gy.type="list";gy.hasItemOption=true;gy.getDimension=function(Z){if(!isNaN(Z)){Z=this.dimensions[Z]||Z}return Z};gy.getDimensionInfo=function(Z){return this._dimensionInfos[this.getDimension(Z)]};gy.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};gy.mapDimension=function(e,i){var k=this._dimensionsSummary;if(i==null){return k.encodeFirstDimNotExtra[e]}var Z=k.encode[e];return i===true?(Z||[]).slice():(Z&&Z[i])};gy.initData=function(k,e,i){var Z=ZD.isInstance(k)||Lr(k);if(Z){k=new az(k,this.dimensions.length)}if(W1){if(!Z&&(typeof k.getItem!="function"||typeof k.count!="function")){throw new Error("Inavlid data provider.")}}this._rawData=k;this._storage={};this._indices=null;this._nameList=e||[];this._idList=[];this._nameRepeatCount={};if(!i){this.hasItemOption=false}this.defaultDimValueGetter=Y3[this._rawData.getSource().sourceFormat];this._dimValueGetter=i=i||this.defaultDimValueGetter;this._rawExtent={};this._initDataFromProvider(0,k.count());if(k.pure){this.hasItemOption=false}};gy.getProvider=function(){return this._rawData};gy.appendData=function(k){if(W1){SR(!this._indices,"appendData can only be called on raw data.")}var e=this._rawData;var i=this.count();e.appendData(k);var Z=e.count();if(!e.persistent){Z+=i}this._initDataFromProvider(i,Z)};gy._initDataFromProvider=function(hl,g4){if(hl>=g4){return}var g5=this._chunkSize;var hi=this._rawData;var XY=this._storage;var ha=this.dimensions;var g2=this._dimensionInfos;var v=this._nameList;var g7=this._idList;var g3=this._rawExtent;var hk=this._nameRepeatCount={};var g9;var m=this._chunkCount;var hc=m-1;for(var Z2=0;Z2<ha.length;Z2++){var g6=ha[Z2];if(!g3[g6]){g3[g6]=P5()}var cc=g2[g6];if(cc.otherDims.itemName===0){g9=this._nameDimIdx=Z2}if(cc.otherDims.itemId===0){this._idDimIdx=Z2}var he=TS[cc.type];if(!XY[g6]){XY[g6]=[]}var hh=XY[g6][hc];if(hh&&hh.length<g5){var Z=new he(Math.min(g4-hc*g5,g5));for(var PI=0;PI<hh.length;PI++){Z[PI]=hh[PI]}XY[g6][hc]=Z}for(var WH=m*g5;WH<g4;WH+=g5){XY[g6].push(new he(Math.min(g4-WH,g5)))}this._chunkCount=XY[g6].length}for(var hj=hl;hj<g4;hj++){var g1=hi.getItem(hj);var e=Math.floor(hj/g5);var hb=hj%g5;for(var WH=0;WH<ha.length;WH++){var g6=ha[WH];var hd=XY[g6][e];var g8=this._dimValueGetter(g1,g6,hj,WH);hd[hb]=g8;if(g8<g3[g6][0]){g3[g6][0]=g8}if(g8>g3[g6][1]){g3[g6][1]=g8}}if(!hi.pure){var hg=v[hj];if(g1&&!hg){if(g9!=null){hg=this._getNameFromStore(hj)}else{if(g1.name!=null){v[hj]=hg=g1.name}}}var hf=g1==null?null:g1.id;if(hf==null&&hg!=null){hk[hg]=hk[hg]||0;hf=hg;if(hk[hg]>0){hf+="__ec__"+hk[hg]}hk[hg]++}hf!=null&&(g7[hj]=hf)}}if(!hi.persistent&&hi.clean){hi.clean()}this._rawCount=this._count=g4;this._extent={};Ps(this)};function Ps(Z){var e=Z._invertedIndicesMap;Dy(e,function(m,PI){var v=Z._dimensionInfos[PI];var WH=v.ordinalMeta;if(WH){m=e[PI]=new c6(WH.categories.length);for(var k=0;k<m.length;k++){m[k]=NaN}for(var k=0;k<Z._count;k++){m[Z.get(PI,k)]=k}}})}gy._getNameFromStore=function(Z){var i=this._nameDimIdx;if(i!=null){var PI=this._chunkSize;var e=Math.floor(Z/PI);var k=Z%PI;var v=this.dimensions[i];var WH=this._dimensionInfos[v].ordinalMeta;if(WH){return WH.categories[Z]}else{var m=this._storage[v][e];return m&&m[k]}}};gy._getIdFromStore=function(Z){var m=this._idDimIdx;if(m!=null){var PI=this._chunkSize;var e=Math.floor(Z/PI);var k=Z%PI;var i=this.dimensions[m];var WH=this._dimensionInfos[i].ordinalMeta;if(WH){return WH.categories[Z]}else{var v=this._storage[i][e];return v&&v[k]}}};gy.count=function(){return this._count};gy.getIndices=function(){if(this._indices){var k=this._indices.constructor;return new k(this._indices.buffer,0,this._count)}var k=UK(this);var e=new k(this.count());for(var Z=0;Z<e.length;Z++){e[Z]=Z}return e};gy.get=function(m,e){if(!(e>=0&&e<this._count)){return NaN}var Z=this._storage;if(!Z[m]){return NaN}e=this.getRawIndex(e);var PI=Math.floor(e/this._chunkSize);var k=e%this._chunkSize;var v=Z[m][PI];var i=v[k];return i};gy.getByRawIndex=function(k,Z){if(!(Z>=0&&Z<this._rawCount)){return NaN}var i=this._storage[k];if(!i){return NaN}var e=Math.floor(Z/this._chunkSize);var v=Z%this._chunkSize;var m=i[e];return m[v]};gy._getFast=function(i,Z){var e=Math.floor(Z/this._chunkSize);var m=Z%this._chunkSize;var k=this._storage[i][e];return k[m]};gy.getValues=function(e,k){var m=[];if(!cW(e)){k=e;e=this.dimensions}for(var Z=0,v=e.length;Z<v;Z++){m.push(this.get(e[Z],k))}return m};gy.hasValue=function(m){var e=this._dimensionsSummary.dataDimsOnCoord;var v=this._dimensionInfos;for(var Z=0,k=e.length;Z<k;Z++){if(v[e[Z]].type!=="ordinal"&&isNaN(this.get(e[Z],m))){return false}}return true};gy.getDataExtent=function(WH){WH=this.getDimension(WH);var Z=this._storage[WH];var Z2=P5();if(!Z){return Z2}var PI=this.count();var cc=!this._indices;var e;if(cc){return this._rawExtent[WH].slice()}e=this._extent[WH];if(e){return e.slice()}e=Z2;var k=e[0];var m=e[1];for(var XY=0;XY<PI;XY++){var v=this._getFast(WH,this.getRawIndex(XY));v<k&&(k=v);v>m&&(m=v)}e=[k,m];this._extent[WH]=e;return e};gy.getApproximateExtent=function(Z){Z=this.getDimension(Z);return this._approximateExtent[Z]||this.getDataExtent(Z)};gy.setApproximateExtent=function(Z,e){e=this.getDimension(e);this._approximateExtent[e]=Z.slice()};gy.getCalculationInfo=function(Z){return this._calculationInfo[Z]};gy.setCalculationInfo=function(Z,e){IW(Z)?XN(this._calculationInfo,Z):(this._calculationInfo[Z]=e)};gy.getSum=function(v){var k=this._storage[v];var PI=0;if(k){for(var e=0,m=this.count();e<m;e++){var Z=this.get(v,e);if(!isNaN(Z)){PI+=Z}}}return PI};gy.rawIndexOf=function(k,Z){var e=k&&this._invertedIndicesMap[k];if(W1){if(!e){throw new Error("Do not supported yet")}}var i=e[Z];if(i==null||isNaN(i)){return -1}return i};gy.indexOfName=function(e){for(var Z=0,k=this.count();Z<k;Z++){if(this.getName(Z)===e){return Z}}return -1};gy.indexOfRawIndex=function(k){if(!this._indices){return k}if(k>=this._rawCount||k<0){return -1}var Z=this._indices;var e=Z[k];if(e!=null&&e<this._count&&e===k){return k}var i=0;var v=this._count-1;while(i<=v){var m=(i+v)/2|0;if(Z[m]<k){i=m+1}else{if(Z[m]>k){v=m-1}else{return m}}}return -1};gy.indicesOfNearest=function(WH,m,g1){var Z=this._storage;var k=Z[WH];var PI=[];if(!k){return PI}if(g1==null){g1=Infinity}var Z2=Number.MAX_VALUE;var g2=-1;for(var XY=0,v=this.count();XY<v;XY++){var e=m-this.get(WH,XY);var cc=Math.abs(e);if(e<=g1&&cc<=Z2){if(cc<Z2||(e>=0&&g2<0)){Z2=cc;g2=e;PI.length=0}PI.push(XY)}}return PI};gy.getRawIndex=HM;function HM(Z){return Z}function RV(Z){if(Z<this._count&&Z>=0){return this._indices[Z]}return -1}gy.getRawDataItem=function(k){if(!this._rawData.persistent){var m=[];for(var Z=0;Z<this.dimensions.length;Z++){var e=this.dimensions[Z];m.push(this.get(e,k))}return m}else{return this._rawData.getItem(this.getRawIndex(k))}};gy.getName=function(e){var Z=this.getRawIndex(e);return this._nameList[Z]||this._getNameFromStore(Z)||""};gy.getId=function(Z){return J6(this,this.getRawIndex(Z))};function J6(e,Z){var i=e._idList[Z];if(i==null){i=e._getIdFromStore(Z)}if(i==null){i=Ug+Z}return i}function eu(Z){if(!cW(Z)){Z=[Z]}return Z}function gD(k,e){for(var Z=0;Z<e.length;Z++){if(!k._dimensionInfos[e[Z]]){console.error("Unkown dimension "+e[Z])}}}gy.each=function(m,XY,e,PI){if(!this._count){return}if(typeof m==="function"){PI=e;e=XY;XY=m;m=[]}e=e||PI||this;m=QL(eu(m),this.getDimension,this);if(W1){gD(this,m)}var Z2=m.length;for(var WH=0;WH<this.count();WH++){switch(Z2){case 0:XY.call(e,WH);break;case 1:XY.call(e,this.get(m[0],WH),WH);break;case 2:XY.call(e,this.get(m[0],WH),this.get(m[1],WH),WH);break;default:var v=0;var Z=[];for(;v<Z2;v++){Z[v]=this.get(m[v],WH)}Z[v]=WH;XY.apply(e,Z)}}};gy.filterSelf=function(Z,g3,g7,Z2){if(!this._count){return}if(typeof Z==="function"){Z2=g7;g7=g3;g3=Z;Z=[]}g7=g7||Z2||this;Z=QL(eu(Z),this.getDimension,this);if(W1){gD(this,Z)}var g4=this.count();var PI=UK(this);var XY=new PI(g4);var WH=[];var g6=Z.length;var v=0;var m=Z[0];for(var cc=0;cc<g4;cc++){var e;var g2=this.getRawIndex(cc);if(g6===0){e=g3.call(g7,cc)}else{if(g6===1){var g5=this._getFast(m,g2);e=g3.call(g7,g5,cc)}else{for(var g1=0;g1<g6;g1++){WH[g1]=this._getFast(m,g2)}WH[g1]=cc;e=g3.apply(g7,WH)}}if(e){XY[v++]=g2}}if(v<g4){this._indices=XY}this._count=v;this._extent={};this.getRawIndex=this._indices?RV:HM;return this};gy.selectRange=function(PI){if(!this._count){return}var g8=[];for(var he in PI){if(PI.hasOwnProperty(he)){g8.push(he)}}if(W1){gD(this,g8)}var hb=g8.length;if(!hb){return}var hd=this.count();var Z=UK(this);var WH=new Z(hd);var g6=0;var hg=g8[0];var g5=PI[hg][0];var hf=PI[hg][1];var XY=false;if(!this._indices){var hh=0;if(hb===1){var g4=this._storage[g8[0]];for(var Z2=0;Z2<this._chunkCount;Z2++){var cc=g4[Z2];var v=Math.min(this._count-Z2*this._chunkSize,this._chunkSize);for(var g1=0;g1<v;g1++){var ha=cc[g1];if(ha>=g5&&ha<=hf){WH[g6++]=hh}hh++}}XY=true}else{if(hb===2){var g4=this._storage[hg];var g9=this._storage[g8[1]];var g7=PI[g8[1]][0];var m=PI[g8[1]][1];for(var Z2=0;Z2<this._chunkCount;Z2++){var cc=g4[Z2];var g3=g9[Z2];var v=Math.min(this._count-Z2*this._chunkSize,this._chunkSize);for(var g1=0;g1<v;g1++){var ha=cc[g1];var hc=g3[g1];if(ha>=g5&&ha<=hf&&hc>=g7&&hc<=m){WH[g6++]=hh}hh++}}XY=true}}}if(!XY){if(hb===1){for(var g1=0;g1<hd;g1++){var g2=this.getRawIndex(g1);var ha=this._getFast(hg,g2);if(ha>=g5&&ha<=hf){WH[g6++]=g2}}}else{for(var g1=0;g1<hd;g1++){var e=true;var g2=this.getRawIndex(g1);for(var Z2=0;Z2<hb;Z2++){var hi=g8[Z2];var ha=this._getFast(he,g2);if(ha<PI[hi][0]||ha>PI[hi][1]){e=false}}if(e){WH[g6++]=this.getRawIndex(g1)}}}}if(g6<hd){this._indices=WH}this._count=g6;this._extent={};this.getRawIndex=this._indices?RV:HM;return this};gy.mapArray=function(m,Z,e,k){if(typeof m==="function"){k=e;e=Z;Z=m;m=[]}e=e||k||this;var i=[];this.each(m,function(){i.push(Z&&Z.apply(this,arguments))},e);return i};function Im(Z,XY){var Z2=Z.dimensions;var k=new Mh(QL(Z2,Z.getDimensionInfo,Z),Z.hostModel);OE(k,Z);var e=k._storage={};var m=Z._storage;var WH=XN({},Z._rawExtent);for(var PI=0;PI<Z2.length;PI++){var v=Z2[PI];if(m[v]){if(FT(XY,v)>=0){e[v]=H6(m[v]);WH[v]=P5()}else{e[v]=m[v]}}}return k}function H6(e){var Z=new Array(e.length);for(var i=0;i<e.length;i++){Z[i]=Wv(e[i])}return Z}function P5(){return[Infinity,-Infinity]}gy.map=function(g6,k,g7,ha){g7=g7||ha||this;g6=QL(eu(g6),this.getDimension,this);if(W1){gD(this,g6)}var Z=Im(this,g6);Z._indices=this._indices;Z.getRawIndex=Z._indices?RV:HM;var PI=Z._storage;var cc=[];var g2=this._chunkSize;var hb=g6.length;var e=this.count();var g9=[];var g1=Z._rawExtent;for(var hc=0;hc<e;hc++){for(var g4=0;g4<hb;g4++){g9[g4]=this.get(g6[g4],hc)}g9[hb]=hc;var m=k&&k.apply(g7,g9);if(m!=null){if(typeof m!=="object"){cc[0]=m;m=cc}var g5=this.getRawIndex(hc);var Z2=Math.floor(g5/g2);var hd=g5%g2;for(var WH=0;WH<m.length;WH++){var g3=g6[WH];var XY=m[WH];var v=g1[g3];var g8=PI[g3];if(g8){g8[Z2][hd]=XY}if(XY<v[0]){v[0]=XY}if(XY>v[1]){v[1]=XY}}}}return Z};gy.downSample=function(hb,hd,g7,g6){var Z=Im(this,[hb]);var g3=Z._storage;var cc=[];var g2=Math.floor(1/hd);var g1=g3[hb];var e=this.count();var g4=this._chunkSize;var m=Z._rawExtent[hb];var v=new (UK(this))(e);var g5=0;for(var Z2=0;Z2<e;Z2+=g2){if(g2>e-Z2){g2=e-Z2;cc.length=g2}for(var WH=0;WH<g2;WH++){var XY=this.getRawIndex(Z2+WH);var hc=Math.floor(XY/g4);var ha=XY%g4;cc[WH]=g1[hc][ha]}var he=g7(cc);var g8=this.getRawIndex(Math.min(Z2+g6(cc,he)||0,e-1));var g9=Math.floor(g8/g4);var PI=g8%g4;g1[g9][PI]=he;if(he<m[0]){m[0]=he}if(he>m[1]){m[1]=he}v[g5++]=g8}Z._count=g5;Z._indices=v;Z.getRawIndex=RV;return Z};gy.getItemModel=function(e){var Z=this.hostModel;return new fx(this.getRawDataItem(e),Z,Z&&Z.ecModel)};gy.diff=function(Z){var e=this;return new WG(Z?Z.getIndices():[],this.getIndices(),function(i){return J6(Z,i)},function(i){return J6(e,i)})};gy.getVisual=function(Z){var e=this._visual;return e&&e[Z]};gy.setVisual=function(Z,i){if(IW(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){this.setVisual(e,Z[e])}}return}this._visual=this._visual||{};this._visual[Z]=i};gy.setLayout=function(Z,i){if(IW(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){this.setLayout(e,Z[e])}}return}this._layout[Z]=i};gy.getLayout=function(Z){return this._layout[Z]};gy.getItemLayout=function(Z){return this._itemLayouts[Z]};gy.setItemLayout=function(e,i,Z){this._itemLayouts[e]=Z?XN(this._itemLayouts[e]||{},i):i};gy.clearItemLayouts=function(){this._itemLayouts.length=0};gy.getItemVisual=function(k,Z,m){var i=this._itemVisuals[k];var e=i&&i[Z];if(e==null&&!m){return this.getVisual(Z)}return e};gy.setItemVisual=function(v,e,Z){var i=this._itemVisuals[v]||{};var k=this.hasItemVisual;this._itemVisuals[v]=i;if(IW(e)){for(var m in e){if(e.hasOwnProperty(m)){i[m]=e[m];k[m]=true}}return}i[e]=Z;k[e]=true};gy.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};var P6=function(Z){Z.seriesIndex=this.seriesIndex;Z.dataIndex=this.dataIndex;Z.dataType=this.dataType};gy.setItemGraphicEl=function(i,Z){var e=this.hostModel;if(Z){Z.dataIndex=i;Z.dataType=this.dataType;Z.seriesIndex=e&&e.seriesIndex;if(Z.type==="group"){Z.traverse(P6,Z)}}this._graphicEls[i]=Z};gy.getItemGraphicEl=function(Z){return this._graphicEls[Z]};gy.eachItemGraphicEl=function(Z,e){Dy(this._graphicEls,function(i,k){if(i){Z&&Z.call(e,i,k)}})};gy.cloneShallow=function(Z){if(!Z){var e=QL(this.dimensions,this.getDimensionInfo,this);Z=new Mh(e,this.hostModel)}Z._storage=this._storage;OE(Z,this);if(this._indices){var i=this._indices.constructor;Z._indices=new i(this._indices)}else{Z._indices=null}Z.getRawIndex=Z._indices?RV:HM;Z._extent=fJ(this._extent);Z._approximateExtent=fJ(this._approximateExtent);return Z};gy.wrapMethod=function(e,i){var Z=this[e];if(typeof Z!=="function"){return}this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var k=Z.apply(this,arguments);return i.apply(this,[k].concat(Ca(arguments)))}};gy.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];gy.CHANGABLE_METHODS=["filterSelf","selectRange"];function B(Z2,g4,PI){if(!ZD.isInstance(g4)){g4=ZD.seriesDataToSource(g4)}PI=PI||{};Z2=(Z2||[]).slice();var g9=(PI.dimsDef||[]).slice();var g8=Fj(PI.encodeDef);var g2=Fj();var g3=Fj();var e=[];var g1=fn(g4,Z2,g9,PI.dimCount);for(var k=0;k<g1;k++){var g6=g9[k]=XN({},EJ(g9[k])?g9[k]:{name:g9[k]});var XY=g6.name;var cc=e[k]={otherDims:{}};if(XY!=null&&g2.get(XY)==null){cc.name=cc.displayName=XY;g2.set(XY,k)}g6.type!=null&&(cc.type=g6.type);g6.displayName!=null&&(cc.displayName=g6.displayName)}g8.each(function(i,hc){i=Y1(i).slice();var hd=g8.set(hc,[]);Dy(i,function(he,hf){Ei(he)&&(he=g2.get(he));if(he!=null&&he<g1){hd[hf]=he;ha(e[he],hc,hf)}})});var v=0;Dy(Z2,function(hh,he){var hd;var hh;var hc;var hi;if(Ei(hh)){hd=hh;hh={}}else{hd=hh.name;var hg=hh.ordinalMeta;hh.ordinalMeta=null;hh=fJ(hh);hh.ordinalMeta=hg;hc=hh.dimsDef;hi=hh.otherDims;hh.name=hh.coordDim=hh.coordDimIndex=hh.dimsDef=hh.otherDims=null}var hj=Y1(g8.get(hd));if(!hj.length){for(var hf=0;hf<(hc&&hc.length||1);hf++){while(v<e.length&&e[v].coordDim!=null){v++}v<e.length&&hj.push(v++)}}Dy(hj,function(i,hk){var hl=e[i];ha(IK(hl,hh),hd,hk);if(hl.name==null&&hc){hl.name=hl.displayName=hc[hk]}hi&&IK(hl.otherDims,hi)})});function ha(hd,hc,i){if(Au.get(hc)!=null){hd.otherDims[hc]=i}else{hd.coordDim=hc;hd.coordDimIndex=i;g3.set(hc,true)}}var g7=PI.generateCoord;var hb=PI.generateCoordCount;var Z=hb!=null;hb=g7?(hb||1):0;var m=g7||"value";for(var WH=0;WH<g1;WH++){var cc=e[WH]=e[WH]||{};var g5=cc.coordDim;if(g5==null){cc.coordDim=bS(m,g3,Z);cc.coordDimIndex=0;if(!g7||hb<=0){cc.isExtraCoord=true}hb--}cc.name==null&&(cc.name=bS(cc.coordDim,g2));if(cc.type==null&&V6(g4,WH,cc.name)){cc.type="ordinal"}}return e}function fn(e,i,k,m){var Z=Math.max(e.dimensionsDetectCount||1,i.length,k.length,m||0);Dy(i,function(v){var PI=v.dimsDef;PI&&(Z=Math.max(Z,PI.length))});return Z}function bS(e,m,k){if(k||m.get(e)!=null){var Z=0;while(m.get(e+Z)!=null){Z++}e+=Z}m.set(e,true);return e}var F0=function(e,Z){Z=Z||{};return B(Z.coordDimensions||[],e,{dimsDef:Z.dimensionsDefine||e.dimensionsDefine,encodeDef:Z.encodeDefine||e.encodeDefine,dimCount:Z.dimensionsCount,generateCoord:Z.generateCoord,generateCoordCount:Z.generateCoordCount})};function LH(g2,Z2,e){e=e||{};var WH=e.byIndex;var v=e.stackedCoordDimension;var i=!!(g2&&g2.get("stack"));var XY;var g1;var PI;var cc;Dy(Z2,function(g3,g4){if(Ei(g3)){Z2[g4]=g3={name:g3}}if(i&&!g3.isExtraCoord){if(!WH&&!XY&&g3.ordinalMeta){XY=g3}if(!g1&&g3.type!=="ordinal"&&g3.type!=="time"&&(!v||v===g3.coordDim)){g1=g3}}});if(g1&&(WH||XY)){PI="__\0ecstackresult";cc="__\0ecstackedover";if(XY){XY.createInvertedIndices=true}var k=g1.coordDim;var m=g1.type;var Z=0;Dy(Z2,function(g3){if(g3.coordDim===k){Z++}});Z2.push({name:PI,coordDim:k,coordDimIndex:Z,type:m,isExtraCoord:true,isCalculationCoord:true});Z++;Z2.push({name:cc,coordDim:cc,coordDimIndex:Z,type:m,isExtraCoord:true,isCalculationCoord:true})}return{stackedDimension:g1&&g1.name,stackedByDimension:XY&&XY.name,isStackedByIndex:WH,stackedOverDimension:cc,stackResultDimension:PI}}function ah(i,e,Z){return e&&e===i.getCalculationInfo("stackedDimension")&&(Z!=null?Z===i.getCalculationInfo("stackedByDimension"):i.getCalculationInfo("isStackedByIndex"))}function VR(i,g1,k){k=k||{};if(!ZD.isInstance(i)){i=ZD.seriesDataToSource(i)}var e=g1.get("coordinateSystem");var XY=Rn.get(e);var g2=Q6(g1);var v;if(g2){v=QL(g2.coordSysDims,function(g5){var g4={name:g5};var g3=g2.axisMap.get(g5);if(g3){var g6=g3.get("type");g4.type=Tl(g6)}return g4})}if(!v){v=(XY&&(XY.getDimensionsInfo?XY.getDimensionsInfo():XY.dimensions.slice()))||["x","y"]}var Z=F0(i,{coordDimensions:v,generateCoord:k.generateCoord});var PI;var cc;g2&&Dy(Z,function(g5,g3){var g4=g5.coordDim;var g6=g2.categoryAxisMap.get(g4);if(g6){if(PI==null){PI=g3}g5.ordinalMeta=g6.getOrdinalMeta()}if(g5.otherDims.itemName!=null){cc=true}});if(!cc&&PI!=null){Z[PI].otherDims.itemName=0}var WH=LH(g1,Z);var Z2=new Mh(Z,g1);Z2.setCalculationInfo(WH);var m=(PI!=null&&Y4(i))?function(g5,g6,g3,g4){return g4===PI?g3:this.defaultDimValueGetter(g5,g6,g3,g4)}:null;Z2.hasItemOption=false;Z2.initData(i,null,m);return Z2}function Y4(e){if(e.sourceFormat===Rx){var Z=BD(e.data||[]);return Z!=null&&!cW(XZ(Z))}}function BD(e){var Z=0;while(Z<e.length&&e[Z]==null){Z++}return e[Z]}function HV(Z){this._setting=Z||{};this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}HV.prototype.parse=function(Z){return Z};HV.prototype.getSetting=function(Z){return this._setting[Z]};HV.prototype.contain=function(e){var Z=this._extent;return e>=Z[0]&&e<=Z[1]};HV.prototype.normalize=function(e){var Z=this._extent;if(Z[1]===Z[0]){return 0.5}return(e-Z[0])/(Z[1]-Z[0])};HV.prototype.scale=function(e){var Z=this._extent;return e*(Z[1]-Z[0])+Z[0]};HV.prototype.unionExtent=function(e){var Z=this._extent;e[0]<Z[0]&&(Z[0]=e[0]);e[1]>Z[1]&&(Z[1]=e[1])};HV.prototype.unionExtentFromData=function(e,Z){this.unionExtent(e.getApproximateExtent(Z))};HV.prototype.getExtent=function(){return this._extent.slice()};HV.prototype.setExtent=function(i,e){var Z=this._extent;if(!isNaN(i)){Z[0]=i}if(!isNaN(e)){Z[1]=e}};HV.prototype.getTicksLabels=function(){var e=[];var k=this.getTicks();for(var Z=0;Z<k.length;Z++){e.push(this.getLabel(k[Z]))}return e};HV.prototype.isBlank=function(){return this._isBlank},HV.prototype.setBlank=function(Z){this._isBlank=Z};AZ(HV);YR(HV,{registerWhenExtend:true});function E9(Z){this.categories=Z.categories||[];this._needCollect=Z.needCollect;this._deduplication=Z.deduplication;this._map}E9.createByAxisModel=function(e){var Z=e.option;var k=Z.data;var i=k&&QL(k,X2);return new E9({categories:i,needCollect:!i,deduplication:Z.dedplication!==false})};var EH=E9.prototype;EH.getOrdinal=function(Z){return Ro(this).get(Z)};EH.parseAndCollect=function(Z){var i;var e=this._needCollect;if(typeof Z!=="string"&&!e){return Z}if(e&&!this._deduplication){i=this.categories.length;this.categories[i]=Z;return i}var k=Ro(this);i=k.get(Z);if(i==null){if(e){i=this.categories.length;this.categories[i]=Z;k.set(Z,i)}else{i=NaN}}return i};function Ro(Z){return Z._map||(Z._map=Fj(Z.categories))}function X2(Z){if(EJ(Z)&&Z.value!=null){return Z.value}else{return Z+""}}var TK=HV.prototype;var QI=HV.extend({type:"ordinal",init:function(e,Z){if(!e||cW(e)){e=new E9({categories:e})}this._ordinalMeta=e;this._extent=Z||[0,e.categories.length-1]},parse:function(Z){return typeof Z==="string"?this._ordinalMeta.getOrdinal(Z):Math.round(Z)},contain:function(Z){Z=this.parse(Z);return TK.contain.call(this,Z)&&this._ordinalMeta.categories[Z]!=null},normalize:function(Z){return TK.normalize.call(this,this.parse(Z))},scale:function(Z){return Math.round(TK.scale.call(this,Z))},getTicks:function(){var i=[];var Z=this._extent;var e=Z[0];while(e<=Z[1]){i.push(e);e++}return i},getLabel:function(Z){return this._ordinalMeta.categories[Z]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,Z){this.unionExtent(e.getApproximateExtent(Z))},niceTicks:gw,niceExtent:gw});QI.create=function(){return new QI()};var bJ=Gu;function PE(m,k,Z,i){var e={};var PI=m[1]-m[0];var WH=e.interval=bW(PI/k,true);if(Z!=null&&WH<Z){WH=e.interval=Z}if(i!=null&&WH>i){WH=e.interval=i}var XY=e.intervalPrecision=Y8(WH);var v=e.niceTickExtent=[bJ(Math.ceil(m[0]/WH)*WH,XY),bJ(Math.floor(m[1]/WH)*WH,XY)];Ga(v,m);return e}function Y8(Z){return Nc(Z)+2}function IY(i,e,Z){i[e]=Math.max(Math.min(i[e],Z[1]),Z[0])}function Ga(e,Z){!isFinite(e[0])&&(e[0]=Z[0]);!isFinite(e[1])&&(e[1]=Z[1]);IY(e,0,Z);IY(e,1,Z);if(e[0]>e[1]){e[0]=e[1]}}function Cc(e,k,v,PI){var Z=[];if(!e){return Z}var i=10000;if(k[0]<v[0]){Z.push(k[0])}var m=v[0];while(m<=v[1]){Z.push(m);m=bJ(m+e,PI);if(m===Z[Z.length-1]){break}if(Z.length>i){return[]}}if(k[1]>(Z.length?Z[Z.length-1]:v[1])){Z.push(k[1])}return Z}var fZ=Gu;var Ko=HV.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(i,e){var Z=this._extent;if(!isNaN(i)){Z[0]=parseFloat(i)}if(!isNaN(e)){Z[1]=parseFloat(e)}},unionExtent:function(e){var Z=this._extent;e[0]<Z[0]&&(Z[0]=e[0]);e[1]>Z[1]&&(Z[1]=e[1]);Ko.prototype.setExtent.call(this,Z[0],Z[1])},getInterval:function(){return this._interval},setInterval:function(Z){this._interval=Z;this._niceExtent=this._extent.slice();this._intervalPrecision=Y8(Z)},getTicks:function(){return Cc(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){var e=[];var k=this.getTicks();for(var Z=0;Z<k.length;Z++){e.push(this.getLabel(k[Z]))}return e},getLabel:function(i,Z){if(i==null){return""}var e=Z&&Z.precision;if(e==null){e=Nc(i)||0}else{if(e==="auto"){e=this._intervalPrecision}}i=fZ(i,e,true);return M9(i)},niceTicks:function(Z,m,k){Z=Z||5;var v=this._extent;var e=v[1]-v[0];if(!isFinite(e)){return}if(e<0){e=-e;v.reverse()}var i=PE(v,Z,m,k);this._intervalPrecision=i.intervalPrecision;this._interval=i.interval;this._niceExtent=i.niceTickExtent},niceExtent:function(Z){var i=this._extent;if(i[0]===i[1]){if(i[0]!==0){var k=i[0];if(!Z.fixMax){i[1]+=k/2;i[0]-=k/2}else{i[0]-=k/2}}else{i[1]=1}}var m=i[1]-i[0];if(!isFinite(m)){i[0]=0;i[1]=1}this.niceTicks(Z.splitNumber,Z.minInterval,Z.maxInterval);var e=this._interval;if(!Z.fixMin){i[0]=fZ(Math.floor(i[0]/e)*e)}if(!Z.fixMax){i[1]=fZ(Math.ceil(i[1]/e)*e)}}});Ko.create=function(){return new Ko()};var Lv="__ec_stack_";function Wg(Z){return Z.get("stack")||Lv+Z.seriesIndex}function bd(Z){return Z.dim+Z.index}function Np(k,XY){var v=[];var WH=k.axis;var Z2="axis0";if(WH.type!=="category"){return}var Z=WH.getBandWidth();for(var m=0;m<k.count||0;m++){v.push(IK({bandWidth:Z,axisKey:Z2,stackId:Lv+m},k))}var PI=CJ(v,XY);var e=[];for(var m=0;m<k.count;m++){var cc=PI[Z2][Lv+m];cc.offsetCenter=cc.offset+cc.width/2;e.push(cc)}return e}function AI(e,i){var Z=QL(e,function(g2){var m=g2.getData();var WH=g2.coordinateSystem;var cc=WH.getBaseAxis();var XY=cc.getExtent();var k=cc.type==="category"?cc.getBandWidth():(Math.abs(XY[1]-XY[0])/m.count());var v=Pw(g2.get("barWidth"),k);var Z2=Pw(g2.get("barMaxWidth"),k);var PI=g2.get("barGap");var g1=g2.get("barCategoryGap");return{bandWidth:k,barWidth:v,barMaxWidth:Z2,barGap:PI,barCategoryGap:g1,axisKey:bd(cc),stackId:Wg(g2)}});return CJ(Z,i)}function CJ(e,k){var i={};Dy(e,function(XY,WH){var g4=XY.axisKey;var m=XY.bandWidth;var g2=i[g4]||{bandWidth:m,remainedWidth:m,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var cc=g2.stacks;i[g4]=g2;var Z2=XY.stackId;if(!cc[Z2]){g2.autoWidthCount++}cc[Z2]=cc[Z2]||{width:0,maxWidth:0};var PI=XY.barWidth;if(PI&&!cc[Z2].width){cc[Z2].width=PI;PI=Math.min(g2.remainedWidth,PI);g2.remainedWidth-=PI}var v=XY.barMaxWidth;v&&(cc[Z2].maxWidth=v);var g1=XY.barGap;(g1!=null)&&(g2.gap=g1);var g3=XY.barCategoryGap;(g3!=null)&&(g2.categoryGap=g3)});var Z={};Dy(i,function(g2,PI){Z[PI]={};var cc=g2.stacks;var m=g2.bandWidth;var WH=Pw(g2.categoryGap,m);var v=Pw(g2.gap,1);var XY=g2.remainedWidth;var Z2=g2.autoWidthCount;var g4=(XY-WH)/(Z2+(Z2-1)*v);g4=Math.max(g4,0);Dy(cc,function(g8,g6){var g7=g8.maxWidth;if(g7&&g7<g4){g7=Math.min(g7,XY);if(g8.width){g7=Math.min(g7,g8.width)}XY-=g7;g8.width=g7;Z2--}});g4=(XY-WH)/(Z2+(Z2-1)*v);g4=Math.max(g4,0);var g3=0;var g5;Dy(cc,function(g7,g6){if(!g7.width){g7.width=g4}g5=g7;g3+=g7.width*(1+v)});if(g5){g3-=g5.width*v}var g1=-g3/2;Dy(cc,function(g7,g6){Z[PI][g6]=Z[PI][g6]||{offset:g1,width:g7.width};g1+=g7.width*(1+v)})});return Z}function I6(k,e,m){var i=[];e.eachSeriesByType(k,function(PI){if(PI.coordinateSystem&&PI.coordinateSystem.type==="cartesian2d"){i.push(PI)}});var v=AI(i);var Z={};Dy(i,function(g3){var he=g3.getData();var hk=g3.coordinateSystem;var WH=hk.getBaseAxis();var g5=Wg(g3);var g9=v[bd(WH)][g5];var hf=g9.offset;var hl=g9.width;var g6=hk.getOtherAxis(WH);var hc=g3.get("barMinHeight")||0;Z[g5]=Z[g5]||[];he.setLayout({offset:hf,size:hl});var g4=he.mapDimension(g6.dim);var PI=he.mapDimension(WH.dim);var g1=ah(he,g4,PI);var cc=g6.isHorizontal();var g8=(WH.onZero||g1)?g6.toGlobalCoord(g6.dataToCoord(0)):g6.getGlobalExtent()[0];for(var hi=0,XY=he.count();hi<XY;hi++){var hg=he.get(g4,hi);var hj=he.get(PI,hi);if(isNaN(hg)){continue}var g2=hg>=0?"p":"n";var ha=g8;if(g1){if(!Z[g5][hj]){Z[g5][hj]={p:g8,n:g8}}ha=Z[g5][hj][g2]}var Z2;var hh;var hb;var hd;if(cc){var g7=hk.dataToPoint([hg,hj]);Z2=ha;hh=g7[1]+hf;hb=g7[0]-g8;hd=hl;if(Math.abs(hb)<hc){hb=(hb<0?-1:1)*hc}g1&&(Z[g5][hj][g2]+=hb)}else{var g7=hk.dataToPoint([hj,hg]);Z2=g7[0]+hf;hh=ha;hb=hl;hd=g7[1]-g8;if(Math.abs(hd)<hc){hd=(hd<=0?-1:1)*hc}g1&&(Z[g5][hj][g2]+=hd)}he.setItemLayout(hi,{x:Z2,y:hh,width:hb,height:hd})}},this)}var Db=Ko.prototype;var Kk=Math.ceil;var G8=Math.floor;var W7=1000;var Dv=W7*60;var Jt=Dv*60;var M8=Jt*24;var Nr=function(m,k,Z,e){while(Z<e){var i=Z+e>>>1;if(m[i][1]<k){Z=i+1}else{e=i}}return Z};var Di=Ko.extend({type:"time",getLabel:function(e){var Z=this._stepLvl;var i=new Date(e);return c5(Z[0],i,this.getSetting("useUTC"))},niceExtent:function(e){var k=this._extent;if(k[0]===k[1]){k[0]-=M8;k[1]+=M8}if(k[1]===-Infinity&&k[0]===Infinity){var Z=new Date();k[1]=+new Date(Z.getFullYear(),Z.getMonth(),Z.getDate());k[0]=k[1]-M8}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var i=this._interval;if(!e.fixMin){k[0]=Gu(G8(k[0]/i)*i)}if(!e.fixMax){k[1]=Gu(Kk(k[1]/i)*i)}},niceTicks:function(g2,Z,k){g2=g2||10;var v=this._extent;var PI=v[1]-v[0];var WH=PI/g2;if(Z!=null&&WH<Z){WH=Z}if(k!=null&&WH>k){WH=k}var i=Ct.length;var e=Nr(Ct,WH,0,i);var Z2=Ct[Math.min(e,i-1)];var XY=Z2[1];if(Z2[0]==="year"){var g3=PI/XY;var g1=bW(g3/g2,true);XY*=g1}var cc=this.getSetting("useUTC")?0:(new Date(+v[0]||+v[1])).getTimezoneOffset()*60*1000;var m=[Math.round(Kk((v[0]-cc)/XY)*XY+cc),Math.round(G8((v[1]-cc)/XY)*XY+cc)];Ga(m,v);this._stepLvl=Z2;this._interval=XY;this._niceExtent=m},parse:function(Z){return +A0(Z)}});Dy(["contain","normalize"],function(Z){Di.prototype[Z]=function(e){return Db[Z].call(this,this.parse(e))}});var Ct=[["hh:mm:ss",W7],["hh:mm:ss",W7*5],["hh:mm:ss",W7*10],["hh:mm:ss",W7*15],["hh:mm:ss",W7*30],["hh:mm\nMM-dd",Dv],["hh:mm\nMM-dd",Dv*5],["hh:mm\nMM-dd",Dv*10],["hh:mm\nMM-dd",Dv*15],["hh:mm\nMM-dd",Dv*30],["hh:mm\nMM-dd",Jt],["hh:mm\nMM-dd",Jt*2],["hh:mm\nMM-dd",Jt*6],["hh:mm\nMM-dd",Jt*12],["MM-dd\nyyyy",M8],["MM-dd\nyyyy",M8*2],["MM-dd\nyyyy",M8*3],["MM-dd\nyyyy",M8*4],["MM-dd\nyyyy",M8*5],["MM-dd\nyyyy",M8*6],["week",M8*7],["MM-dd\nyyyy",M8*10],["week",M8*14],["week",M8*21],["month",M8*31],["week",M8*42],["month",M8*62],["week",M8*42],["quarter",M8*380/4],["month",M8*31*4],["month",M8*31*5],["half-year",M8*380/2],["month",M8*31*8],["month",M8*31*10],["year",M8*380]];Di.create=function(Z){return new Di({useUTC:Z.ecModel.get("useUTC")})};var Yk=HV.prototype;var T9=Ko.prototype;var RR=Nc;var WV=Gu;var Fw=Math.floor;var XF=Math.ceil;var Ta=Math.pow;var UY=Math.log;var Ny=HV.extend({type:"log",base:10,$constructor:function(){HV.apply(this,arguments);this._originalScale=new Ko()},getTicks:function(){var Z=this._originalScale;var i=this._extent;var e=Z.getExtent();return QL(T9.getTicks.call(this),function(m){var k=Gu(Ta(this.base,m));k=(m===i[0]&&Z.__fixMin)?Nv(k,e[0]):k;k=(m===i[1]&&Z.__fixMax)?Nv(k,e[1]):k;return k},this)},getLabel:T9.getLabel,scale:function(Z){Z=Yk.scale.call(this,Z);return Ta(this.base,Z)},setExtent:function(i,e){var Z=this.base;i=UY(i)/UY(Z);e=UY(e)/UY(Z);T9.setExtent.call(this,i,e)},getExtent:function(){var k=this.base;var i=Yk.getExtent.call(this);i[0]=Ta(k,i[0]);i[1]=Ta(k,i[1]);var Z=this._originalScale;var e=Z.getExtent();Z.__fixMin&&(i[0]=Nv(i[0],e[0]));Z.__fixMax&&(i[1]=Nv(i[1],e[1]));return i},unionExtent:function(Z){this._originalScale.unionExtent(Z);var e=this.base;Z[0]=UY(Z[0])/UY(e);Z[1]=UY(Z[1])/UY(e);Yk.unionExtent.call(this,Z)},unionExtentFromData:function(e,Z){this.unionExtent(e.getApproximateExtent(Z))},niceTicks:function(Z){Z=Z||10;var k=this._extent;var e=k[1]-k[0];if(e===Infinity||e<=0){return}var i=Rs(e);var v=Z/e*i;if(v<=0.5){i*=10}while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0){i*=10}var m=[Gu(XF(k[0]/i)*i),Gu(Fw(k[1]/i)*i)];this._interval=i;this._niceExtent=m},niceExtent:function(e){T9.niceExtent.call(this,e);var Z=this._originalScale;Z.__fixMin=e.fixMin;Z.__fixMax=e.fixMax}});Dy(["contain","normalize"],function(Z){Ny.prototype[Z]=function(e){e=UY(e)/UY(this.base);return Yk[Z].call(this,e)}});Ny.create=function(){return new Ny()};function Nv(e,Z){return WV(e,RR(Z))}function RM(e,g4){var XY=e.type;var k=g4.getMin();var m=g4.getMax();var WH=k!=null;var g1=m!=null;var Z2=e.getExtent();var g2;var Z;var cc;if(XY==="ordinal"){g2=g4.getCategories().length}else{Z=g4.get("boundaryGap");if(!cW(Z)){Z=[Z||0,Z||0]}if(typeof Z[0]==="boolean"){if(W1){console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.')}Z=[0,0]}Z[0]=Pw(Z[0],1);Z[1]=Pw(Z[1],1);cc=(Z2[1]-Z2[0])||Math.abs(Z2[0])}if(k==null){k=XY==="ordinal"?(g2?0:NaN):Z2[0]-Z[0]*cc}if(m==null){m=XY==="ordinal"?(g2?g2-1:NaN):Z2[1]+Z[1]*cc}if(k==="dataMin"){k=Z2[0]}else{if(typeof k==="function"){k=k({min:Z2[0],max:Z2[1]})}}if(m==="dataMax"){m=Z2[1]}else{if(typeof m==="function"){m=m({min:Z2[0],max:Z2[1]})}}(k==null||!isFinite(k))&&(k=NaN);(m==null||!isFinite(m))&&(m=NaN);e.setBlank(gA(k)||gA(m));if(g4.getNeedCrossZero()){if(k>0&&m>0&&!WH){k=0}if(k<0&&m<0&&!g1){m=0}}var i=g4.ecModel;if(i&&(XY==="time")){var g3=[];var PI;i.eachSeriesByType("bar",function(g5){if(g5.coordinateSystem&&g5.coordinateSystem.type==="cartesian2d"){g3.push(g5);PI|=g5.getBaseAxis()===g4.axis}});if(PI){var v=G3(k,m,g4,g3);k=v.min;m=v.max}}return[k,m]}function G3(g4,k,g3,WH){var Z=g3.axis.getExtent();var cc=Z[1]-Z[0];var i=AI(WH);var PI=g3.axis.dim+g3.axis.index;var m=i[PI];if(m===undefined){return{min:g4,max:k}}var XY=Infinity;Dy(m,function(g5){XY=Math.min(g5.offset,XY)});var v=-Infinity;Dy(m,function(g5){v=Math.max(g5.offset+g5.width,v)});XY=Math.abs(XY);v=Math.abs(v);var e=XY+v;var g2=k-g4;var g1=(1-(XY+v)/cc);var Z2=((g2/g1)-g2);k+=Z2*(v/e);g4-=Z2*(XY/e);return{min:g4,max:k}}function WA(e,WH){var i=RM(e,WH);var k=WH.getMin()!=null;var PI=WH.getMax()!=null;var v=WH.get("splitNumber");if(e.type==="log"){e.base=WH.get("logBase")}var m=e.type;e.setExtent(i[0],i[1]);e.niceExtent({splitNumber:v,fixMin:k,fixMax:PI,minInterval:(m==="interval"||m==="time")?WH.get("minInterval"):null,maxInterval:(m==="interval"||m==="time")?WH.get("maxInterval"):null});var Z=WH.get("interval");if(Z!=null){e.setInterval&&e.setInterval(Z)}}function Zo(e,Z){Z=Z||e.get("type");if(Z){switch(Z){case"category":return new QI(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[Infinity,-Infinity]);case"value":return new Ko();default:return(HV.getClass(Z)||Ko).create(e)}}}function Ii(k){var i=k.scale.getExtent();var Z=i[0];var e=i[1];return !((Z>0&&e>0)||(Z<0&&e<0))}function S6(g2,g3,cc,WH,PI){var Z;var Z2=0;var g1=0;var m=(WH-PI)/180*Math.PI;var v=1;if(g3.length>40){v=Math.floor(g3.length/40)}for(var XY=0;XY<g2.length;XY+=v){var k=g2[XY];var e=HY(g3[XY],cc,"center","top");e.x+=k*Math.cos(m);e.y+=k*Math.sin(m);e.width*=1.3;e.height*=1.3;if(!Z){Z=e.clone()}else{if(Z.intersect(e)){g1++;Z2=Math.max(Z2,g1)}else{Z.union(e);g1=0}}}if(Z2===0&&v>1){return v}return(Z2+1)*v-1}function d(m,e){var i=m.scale;var k=i.getTicksLabels();var Z=i.getTicks();if(typeof e==="string"){e=(function(v){return function(PI){return v.replace("{value}",PI!=null?PI:"")}})(e);return QL(k,e)}else{if(typeof e==="function"){return QL(Z,function(v,PI){return e(AX(m,v),PI)},this)}else{return k}}}function AX(e,Z){return e.type==="category"?e.scale.getLabel(Z):Z}var Mm={getFormattedLabels:function(){return d(this.axis,this.get("axisLabel.formatter"))},getMin:function(i){var e=this.option;var Z=(!i&&e.rangeStart!=null)?e.rangeStart:e.min;if(this.axis&&Z!=null&&Z!=="dataMin"&&typeof Z!=="function"&&!gA(Z)){Z=this.axis.scale.parse(Z)}return Z},getMax:function(e){var Z=this.option;var i=(!e&&Z.rangeEnd!=null)?Z.rangeEnd:Z.max;if(this.axis&&i!=null&&i!=="dataMax"&&typeof i!=="function"&&!gA(i)){i=this.axis.scale.parse(i)}return i},getNeedCrossZero:function(){var Z=this.option;return(Z.rangeStart!=null||Z.rangeEnd!=null)?false:!Z.scale},getCoordSysModel:gw,setRange:function(e,Z){this.option.rangeStart=e;this.option.rangeEnd=Z},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};var Kv=Ck({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,Z){var m=Z.cx;var k=Z.cy;var e=Z.width/2;var i=Z.height/2;v.moveTo(m,k-i);v.lineTo(m+e,k+i);v.lineTo(m-e,k+i);v.closePath()}});var Ep=Ck({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(v,Z){var m=Z.cx;var k=Z.cy;var e=Z.width/2;var i=Z.height/2;v.moveTo(m,k-i);v.lineTo(m+e,k);v.lineTo(m,k+i);v.lineTo(m-e,k);v.closePath()}});var Tr=Ck({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(Z2,WH){var g1=WH.x;var g2=WH.y;var i=WH.width/5*3;var PI=Math.max(i,WH.height);var Z=i/2;var XY=Z*Z/(PI-Z);var m=g2-PI+Z+XY;var cc=Math.asin(XY/Z);var k=Math.cos(cc)*Z;var g3=Math.sin(cc);var e=Math.cos(cc);var v=Z*0.6;var g4=Z*0.7;Z2.moveTo(g1-k,m+XY);Z2.arc(g1,m,Z,Math.PI-cc,Math.PI*2+cc);Z2.bezierCurveTo(g1+k-g3*v,m+XY+e*v,g1,g2-g4,g1,g2);Z2.bezierCurveTo(g1,g2-g4,g1-k+g3*v,m+XY+e*v,g1-k,m+XY);Z2.closePath()}});var J5=Ck({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(v,PI){var Z=PI.height;var i=PI.width;var k=PI.x;var m=PI.y;var e=i/3*2;v.moveTo(k,m);v.lineTo(k+e,m+Z);v.lineTo(k,m+Z/4*3);v.lineTo(k-e,m+Z);v.lineTo(k,m);v.closePath()}});var J1={line:Ut,rect:Fm,roundRect:Fm,square:Fm,circle:cE,diamond:Ep,pin:Tr,arrow:J5,triangle:Kv};var eQ={line:function(e,i,k,Z,m){m.x1=e;m.y1=i+Z/2;m.x2=e+k;m.y2=i+Z/2},rect:function(e,i,k,Z,m){m.x=e;m.y=i;m.width=k;m.height=Z},roundRect:function(e,i,k,Z,m){m.x=e;m.y=i;m.width=k;m.height=Z;m.r=Math.min(k,Z)/4},square:function(i,k,m,Z,v){var e=Math.min(m,Z);v.x=i;v.y=k;v.width=e;v.height=e},circle:function(e,i,k,Z,m){m.cx=e+k/2;m.cy=i+Z/2;m.r=Math.min(k,Z)/2},diamond:function(e,i,k,Z,m){m.cx=e+k/2;m.cy=i+Z/2;m.width=k;m.height=Z},pin:function(e,i,k,Z,m){m.x=e+k/2;m.y=i+Z/2;m.width=k;m.height=Z},arrow:function(e,i,k,Z,m){m.x=e+k/2;m.y=i+Z/2;m.width=k;m.height=Z},triangle:function(e,i,k,Z,m){m.cx=e+k/2;m.cy=i+Z/2;m.width=k;m.height=Z}};var Tz={};Dy(J1,function(e,Z){Tz[Z]=new e()});var AR=Ck({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var Z=this.style;var e=this.shape;if(e.symbolType==="pin"&&Z.textPosition==="inside"){Z.textPosition=["50%","40%"];Z.textAlign="center";Z.textVerticalAlign="middle"}},buildPath:function(k,m,i){var Z=m.symbolType;var e=Tz[Z];if(m.symbolType!=="none"){if(!e){Z="rect";e=Tz[Z]}eQ[Z](m.x,m.y,m.width,m.height,e.shape);e.buildPath(k,e.shape,i)}}});function Id(i,Z){if(this.type!=="image"){var e=this.style;var k=this.shape;if(k&&k.symbolType==="line"){e.stroke=i}else{if(this.__isEmptyBrush){e.stroke=i;e.fill=Z||"#fff"}else{e.fill&&(e.fill=i);e.stroke&&(e.stroke=i)}}this.dirty(false)}}function FK(v,WH,XY,e,k,i,PI){var m=v.indexOf("empty")===0;if(m){v=v.substr(5,1).toLowerCase()+v.substr(6)}var Z;if(v.indexOf("image://")===0){Z=A7(v.slice(8),new FY(WH,XY,e,k),PI?"center":"cover")}else{if(v.indexOf("path://")===0){Z=JC(v.slice(7),{},new FY(WH,XY,e,k),PI?"center":"cover")}else{Z=new AR({shape:{symbolType:v,x:WH,y:XY,width:e,height:k}})}}Z.__isEmptyBrush=m;Z.setColor=Id;Z.setColor(i);return Z}function FN(Z){return VR(Z.getSource(),Z)}var X0={isDimensionStacked:ah,enableDataStack:LH};function I3(k,Z){var e=Z;if(!fx.isInstance(Z)){e=new fx(Z);eG(e,Mm)}var i=Zo(e);i.setExtent(k[0],k[1]);WA(i,e);return i}function Eh(Z){eG(Z,Mm)}var VZ=(Object.freeze||Object)({createList:FN,getLayoutRect:CU,dataStack:X0,createScale:I3,mixinAxisModelCommonMethods:Eh,completeDimensions:B,createDimensions:F0,createSymbol:FK});var Tt=1e-08;function YO(e,Z){return Math.abs(e-Z)<Tt}function Q5(k,WH,XY){var m=0;var e=k[0];if(!e){return false}for(var v=1;v<k.length;v++){var PI=k[v];m+=Yj(e[0],e[1],PI[0],PI[1],WH,XY);e=PI}var Z=k[0];if(!YO(e[0],Z[0])||!YO(e[1],Z[1])){m+=Yj(e[0],e[1],Z[0],Z[1],WH,XY)}return m!==0}function bz(e,i,k){this.name=e;this.geometries=i;if(!k){var Z=this.getBoundingRect();k=[Z.x+Z.width/2,Z.y+Z.height/2]}else{k=[k[0],k[1]]}this.center=k}bz.prototype={constructor:bz,properties:null,getBoundingRect:function(){var k=this._rect;if(k){return k}var m=Number.MAX_VALUE;var Z2=[m,m];var e=[-m,-m];var XY=[];var WH=[];var PI=this.geometries;for(var v=0;v<PI.length;v++){if(PI[v].type!=="polygon"){continue}var Z=PI[v].exterior;AJ(Z,XY,WH);fw(Z2,Z2,XY);QO(e,e,WH)}if(v===0){Z2[0]=Z2[1]=e[0]=e[1]=0}return(this._rect=new FY(Z2[0],Z2[1],e[0]-Z2[0],e[1]-Z2[1]))},contain:function(PI){var Z=this.getBoundingRect();var WH=this.geometries;if(!Z.contain(PI[0],PI[1])){return false}loopGeo:for(var m=0,v=WH.length;m<v;m++){if(WH[m].type!=="polygon"){continue}var XY=WH[m].exterior;var Z2=WH[m].interiors;if(Q5(XY,PI[0],PI[1])){for(var e=0;e<(Z2?Z2.length:0);e++){if(Q5(Z2[e])){continue loopGeo}}return true}}return false},transformTo:function(g1,g2,Z2,e){var k=this.getBoundingRect();var m=k.width/k.height;if(!Z2){Z2=m*e}else{if(!e){e=Z2/m}}var cc=new FY(g1,g2,Z2,e);var WH=k.calculateTransform(cc);var XY=this.geometries;for(var PI=0;PI<XY.length;PI++){if(XY[PI].type!=="polygon"){continue}var g3=XY[PI].exterior;var g4=XY[PI].interiors;for(var Z=0;Z<g3.length;Z++){Ip(g3[Z],g3[Z],WH)}for(var v=0;v<(g4?g4.length:0);v++){for(var Z=0;Z<g4[v].length;Z++){Ip(g4[v][Z],g4[v][Z],WH)}}}k=this._rect;k.copy(cc);this.center=[k.x+k.width/2,k.y+k.height/2]}};function cR(i){if(!i.UTF8Encoding){return i}var Z2=i.UTF8Scale;if(Z2==null){Z2=1024}var e=i.features;for(var cc=0;cc<e.length;cc++){var g1=e[cc];var m=g1.geometry;var Z=m.coordinates;var WH=m.encodeOffsets;for(var XY=0;XY<Z.length;XY++){var v=Z[XY];if(m.type==="Polygon"){Z[XY]=Vj(v,WH[XY],Z2)}else{if(m.type==="MultiPolygon"){for(var k=0;k<v.length;k++){var PI=v[k];v[k]=Vj(PI,WH[XY][k],Z2)}}}}}i.UTF8Encoding=false;return i}function Vj(e,k,WH){var Z=[];var Z2=k[0];var XY=k[1];for(var m=0;m<e.length;m+=2){var v=e.charCodeAt(m)-64;var PI=e.charCodeAt(m+1)-64;v=(v>>1)^(-(v&1));PI=(PI>>1)^(-(PI&1));v+=Z2;PI+=XY;Z2=v;XY=PI;Z.push([v/WH,PI/WH])}return Z}var aC=function(Z){cR(Z);return QL(bs(Z.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(v){var i=v.properties;var PI=v.geometry;var m=PI.coordinates;var e=[];if(PI.type==="Polygon"){e.push({type:"polygon",exterior:m[0],interiors:m.slice(1)})}if(PI.type==="MultiPolygon"){Dy(m,function(WH){if(WH[0]){e.push({type:"polygon",exterior:WH[0],interiors:WH.slice(1)})}})}var k=new bz(i.name,e,i.cp);k.properties=i;return k})};var Wk=Yv;function Er(i,m){var Z=i[1]-i[0];var k=m;var e=Z/k/2;i[0]+=e;i[1]-=e}var W0=[0,1];var Vs=function(e,i,Z){this.dim=e;this.scale=i;this._extent=Z||[0,0];this.inverse=false;this.onBand=false;this._labelInterval};Vs.prototype={constructor:Vs,contain:function(i){var e=this._extent;var Z=Math.min(e[0],e[1]);var k=Math.max(e[0],e[1]);return i>=Z&&i<=k},containData:function(Z){return this.contain(this.dataToCoord(Z))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(Z){return di(Z||this.scale.getExtent(),this._extent)},setExtent:function(i,e){var Z=this._extent;Z[0]=i;Z[1]=e},dataToCoord:function(k,Z){var i=this._extent;var e=this.scale;k=e.normalize(k);if(this.onBand&&e.type==="ordinal"){i=i.slice();Er(i,e.count())}return Wk(k,W0,i,Z)},coordToData:function(e,Z){var m=this._extent;var k=this.scale;if(this.onBand&&k.type==="ordinal"){m=m.slice();Er(m,k.count())}var i=Wk(e,m,W0,Z);return this.scale.scale(i)},pointToData:function(Z,e){},getTicksCoords:function(m){if(this.onBand&&!m){var k=this.getBands();var e=[];for(var Z=0;Z<k.length;Z++){e.push(k[Z][0])}if(k[Z-1]){e.push(k[Z-1][1])}return e}else{return QL(this.scale.getTicks(),this.dataToCoord,this)}},getLabelsCoords:function(){return QL(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var m=this.getExtent();var k=[];var v=this.scale.count();var WH=m[0];var PI=m[1];var e=PI-WH;for(var Z=0;Z<v;Z++){k.push([e*Z/v+WH,e*(Z+1)/v+WH])}return k},getBandWidth:function(){var e=this._extent;var k=this.scale.getExtent();var i=k[1]-k[0]+(this.onBand?1:0);i===0&&(i=1);var Z=Math.abs(e[1]-e[0]);return Math.abs(Z)/i},isHorizontal:null,getRotate:null,getLabelInterval:function(){var Z=this._labelInterval;if(!Z){var i=this.model;var e=i.getModel("axisLabel");Z=e.get("interval");if(this.type==="category"&&(Z==null||Z==="auto")){Z=S6(QL(this.scale.getTicks(),this.dataToCoord,this),i.getFormattedLabels(),e.getFont(),this.getRotate?this.getRotate():(this.isHorizontal&&!this.isHorizontal())?90:0,e.get("rotate"))}this._labelInterval=Z}return Z}};var F2=aC;var Sl={};Dy(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(Z){Sl[Z]=dM[Z]});var VL=Hl({type:"dataset",defaultOption:{seriesLayoutBy:Jl,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){NJ(this)}});ec({type:"dataset"});S7.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(Z,e){if(W1){var i=Z.coordinateSystem;if(i!=="polar"&&i!=="cartesian2d"){throw new Error("Line not support coordinateSystem besides cartesian and polar")}}return VR(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,clipOverflow:true,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:false,smooth:false,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:true,showAllSymbol:false,connectNulls:false,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}});function TE(WH,Z){var v=WH.mapDimension("defaultedLabel",true);var m=v.length;if(m===1){return Nd(WH,Z,v[0])}else{if(m){var PI=[];for(var e=0;e<v.length;e++){var k=Nd(WH,Z,v[e]);PI.push(k)}return PI.join(" ")}}}function bg(i,Z){var e=i.getItemVisual(Z,"symbolSize");return e instanceof Array?e.slice():[+e,+e]}function Fh(Z){return[Z[0]/2,Z[1]/2]}function S0(i,Z,e){U3.call(this);this.updateData(i,Z,e)}var LC=S0.prototype;function ga(Z,e){this.parent.drift(Z,e)}LC._createSymbol=function(Z,v,i,k){this.removeAll();var m=v.getItemVisual(i,"color");var e=FK(Z,-1,-1,2,2,m);e.attr({z2:100,culling:true,scale:Fh(k)});e.drift=ga;this._symbolType=Z;this.add(e)};LC.stopSymbolAnimation=function(Z){this.childAt(0).stopAnimation(Z)};LC.getSymbolPath=function(){return this.childAt(0)};LC.getScale=function(){return this.childAt(0).scale};LC.highlight=function(){this.childAt(0).trigger("emphasis")};LC.downplay=function(){this.childAt(0).trigger("normal")};LC.setZ=function(i,e){var Z=this.childAt(0);Z.zlevel=i;Z.z=e};LC.setDraggable=function(Z){var e=this.childAt(0);e.draggable=Z;e.cursor=Z?"move":"pointer"};LC.updateData=function(i,k,PI){this.silent=false;var XY=i.getItemVisual(k,"symbol")||"circle";var Z2=i.hostModel;var Z=bg(i,k);var e=XY!==this._symbolType;if(e){this._createSymbol(XY,i,k,Z)}else{var m=this.childAt(0);m.silent=false;Qr(m,{scale:Fh(Z)},Z2,k)}this._updateCommon(i,k,Z,PI);if(e){var m=this.childAt(0);var v=PI&&PI.fadeIn;var WH={scale:m.scale.slice()};v&&(WH.style={opacity:m.style.opacity});m.scale=[0,0];v&&(m.style.opacity=0);ef(m,WH,Z2,k)}this._seriesModel=Z2};var eq=["itemStyle"];var GO=["emphasis","itemStyle"];var WK=["label"];var Pa=["emphasis","label"];LC._updateCommon=function(ha,hc,g8,g3){var Z2=this.childAt(0);var WH=ha.hostModel;var k=ha.getItemVisual(hc,"color");if(Z2.type!=="image"){Z2.useStyle({strokeNoScale:true})}var g6=g3&&g3.itemStyle;var cc=g3&&g3.hoverItemStyle;var g7=g3&&g3.symbolRotate;var XY=g3&&g3.symbolOffset;var e=g3&&g3.labelModel;var i=g3&&g3.hoverLabelModel;var Z=g3&&g3.hoverAnimation;var g9=g3&&g3.cursorStyle;if(!g3||ha.hasItemOption){var hb=(g3&&g3.itemModel)?g3.itemModel:ha.getItemModel(hc);g6=hb.getModel(eq).getItemStyle(["color"]);cc=hb.getModel(GO).getItemStyle();g7=hb.getShallow("symbolRotate");XY=hb.getShallow("symbolOffset");e=hb.getModel(WK);i=hb.getModel(Pa);Z=hb.getShallow("hoverAnimation");g9=hb.getShallow("cursor")}else{cc=XN({},cc)}var g1=Z2.style;Z2.attr("rotation",(g7||0)*Math.PI/180||0);if(XY){Z2.attr("position",[Pw(XY[0],g8[0]),Pw(XY[1],g8[1])])}g9&&Z2.attr("cursor",g9);Z2.setColor(k,g3&&g3.symbolInnerColor);Z2.setStyle(g6);var m=ha.getItemVisual(hc,"opacity");if(m!=null){g1.opacity=m}var PI=g3&&g3.useNameLabel;HB(g1,cc,e,i,{labelFetcher:WH,labelDataIndex:hc,defaultText:g5,isRectText:true,autoColor:k});function g5(he,hd){return PI?ha.getName(he):TE(ha,he)}Z2.off("mouseover").off("mouseout").off("emphasis").off("normal");Z2.hoverStyle=cc;N7(Z2);var g4=Fh(g8);if(Z&&WH.isAnimationEnabled()){var g2=function(){if(this.incremental){return}var hd=g4[1]/g4[0];this.animateTo({scale:[Math.max(g4[0]*1.1,g4[0]+3),Math.max(g4[1]*1.1,g4[1]+3*hd)]},400,"elasticOut")};var v=function(){if(this.incremental){return}this.animateTo({scale:g4},400,"elasticOut")};Z2.on("mouseover",g2).on("mouseout",v).on("emphasis",g2).on("normal",v)}};LC.fadeOut=function(Z,e){var i=this.childAt(0);this.silent=i.silent=true;!(e&&e.keepLabel)&&(i.style.text=null);Qr(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,Z)};K8(S0,U3);function gu(Z){this.group=new U3();this._symbolCtor=Z||S0}var Vn=gu.prototype;function Tp(k,e,i,Z){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(Z.isIgnore&&Z.isIgnore(i))&&!(Z.clipShape&&!Z.clipShape.contain(e[0],e[1]))&&k.getItemVisual(i,"symbol")!=="none"}Vn.updateData=function(PI,e){e=T0(e);var Z=this.group;var i=PI.hostModel;var m=this._data;var k=this._symbolCtor;var v=UG(PI);if(!m){Z.removeAll()}PI.diff(m).add(function(XY){var Z2=PI.getItemLayout(XY);if(Tp(PI,Z2,XY,e)){var WH=new k(PI,XY,v);WH.attr("position",Z2);PI.setItemGraphicEl(XY,WH);Z.add(WH)}}).update(function(XY,cc){var Z2=m.getItemGraphicEl(cc);var WH=PI.getItemLayout(XY);if(!Tp(PI,WH,XY,e)){Z.remove(Z2);return}if(!Z2){Z2=new k(PI,XY);Z2.attr("position",WH)}else{Z2.updateData(PI,XY,v);Qr(Z2,{position:WH},i)}Z.add(Z2);PI.setItemGraphicEl(XY,Z2)}).remove(function(XY){var WH=m.getItemGraphicEl(XY);WH&&WH.fadeOut(function(){Z.remove(WH)})}).execute();this._data=PI};Vn.isPersistent=function(){return true};Vn.updateLayout=function(){var Z=this._data;if(Z){Z.eachItemGraphicEl(function(e,k){var i=Z.getItemLayout(k);e.attr("position",i)})}};Vn.incrementalPrepareUpdate=function(Z){this._seriesScope=UG(Z);this._data=null;this.group.removeAll()};Vn.incrementalUpdate=function(k,PI,i){i=T0(i);function m(WH){if(!WH.isGroup){WH.incremental=WH.useHoverLayer=true}}for(var v=k.start;v<k.end;v++){var e=PI.getItemLayout(v);if(Tp(PI,e,v,i)){var Z=new this._symbolCtor(PI,v,this._seriesScope);Z.traverse(m);Z.attr("position",e);this.group.add(Z);PI.setItemGraphicEl(v,Z)}}};function T0(Z){if(Z!=null&&!EJ(Z)){Z={isIgnore:Z}}return Z||{}}Vn.remove=function(e){var Z=this.group;var i=this._data;if(i&&e){i.eachItemGraphicEl(function(k){k.fadeOut(function(){Z.remove(k)})})}else{Z.removeAll()}};function UG(e){var Z=e.hostModel;return{itemStyle:Z.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:Z.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:Z.get("symbolRotate"),symbolOffset:Z.get("symbolOffset"),hoverAnimation:Z.get("hoverAnimation"),labelModel:Z.getModel("label"),hoverLabelModel:Z.getModel("emphasis.label"),cursorStyle:Z.get("cursor")}}function fj(i,m,PI){var g2=i.getBaseAxis();var Z=i.getOtherAxis(g2);var k=eb(Z,PI);var WH=g2.dim;var v=Z.dim;var XY=m.mapDimension(v);var g1=m.mapDimension(WH);var e=v==="x"||v==="radius"?1:0;var cc=ah(m,XY,g1);var Z2=QL(i.dimensions,function(g3){return m.mapDimension(g3)});return{dataDimsForPoint:Z2,valueStart:k,valueAxisDim:v,baseAxisDim:WH,stacked:cc,valueDim:XY,baseDim:g1,baseDataOffset:e,stackedOverDimension:m.getCalculationInfo("stackedOverDimension")}}function eb(Z,k){var e=0;var i=Z.scale.getExtent();if(k==="start"){e=i[0]}else{if(k==="end"){e=i[1]}else{if(i[0]>0){e=i[0]}else{if(i[1]<0){e=i[1]}}}}return e}function OA(k,v,PI,m){var Z=NaN;if(k.stacked){Z=PI.get(PI.getCalculationInfo("stackedOverDimension"),m)}if(isNaN(Z)){Z=k.valueStart}var e=k.baseDataOffset;var i=[];i[e]=PI.get(k.baseDim,m);i[1-e]=Z;return v.dataToPoint(i)}function SU(e,Z){var i=[];Z.diff(e).add(function(k){i.push({cmd:"+",idx:k})}).update(function(k,m){i.push({cmd:"=",idx:m,idx1:k})}).remove(function(k){i.push({cmd:"-",idx:k})}).execute();return i}var Y9=function(hc,ha,PI,g4,hd,e,cc,k){var XY=SU(hc,ha);var g2=[];var hb=[];var m=[];var WH=[];var he=[];var g1=[];var hi=[];var hj=fj(hd,ha,cc);var hh=fj(e,hc,k);for(var Z2=0;Z2<XY.length;Z2++){var g5=XY[Z2];var v=true;switch(g5.cmd){case"=":var Z=hc.getItemLayout(g5.idx);var g9=ha.getItemLayout(g5.idx1);if(isNaN(Z[0])||isNaN(Z[1])){Z=g9.slice()}g2.push(Z);hb.push(g9);m.push(PI[g5.idx]);WH.push(g4[g5.idx1]);hi.push(ha.getRawIndex(g5.idx1));break;case"+":var g6=g5.idx;g2.push(hd.dataToPoint([ha.get(hj.dataDimsForPoint[0],g6),ha.get(hj.dataDimsForPoint[1],g6)]));hb.push(ha.getItemLayout(g6).slice());m.push(OA(hj,hd,ha,g6));WH.push(g4[g6]);hi.push(ha.getRawIndex(g6));break;case"-":var g6=g5.idx;var g8=hc.getRawIndex(g6);if(g8!==g6){g2.push(hc.getItemLayout(g6));hb.push(e.dataToPoint([hc.get(hh.dataDimsForPoint[0],g6),hc.get(hh.dataDimsForPoint[1],g6)]));m.push(PI[g6]);WH.push(OA(hh,e,hc,g6));hi.push(g8)}else{v=false}}if(v){he.push(g5);g1.push(g1.length)}}g1.sort(function(hl,i){return hi[hl]-hi[i]});var hg=[];var hf=[];var g3=[];var g7=[];var hk=[];for(var Z2=0;Z2<g1.length;Z2++){var g6=g1[Z2];hg[Z2]=g2[g6];hf[Z2]=hb[g6];g3[Z2]=m[g6];g7[Z2]=WH[g6];hk[Z2]=he[g6]}return{current:hg,next:hf,stackedOnCurrent:g3,stackedOnNext:g7,status:hk}};var NH=fw;var B4=QO;var N9=HA;var UO=HF;var PF=[];var x=[];var w=[];function EU(Z){return isNaN(Z[0])||isNaN(Z[1])}function L(v,XY,e,m,Z,PI,WH,i,Z2,cc,k){if(cc==null){if(YW(XY,"x")){return Kl(v,XY,e,m,Z,PI,WH,i,Z2,"x",k)}else{if(YW(XY,"y")){return Kl(v,XY,e,m,Z,PI,WH,i,Z2,"y",k)}else{return MT.apply(this,arguments)}}}else{if(cc!=="none"&&YW(XY,cc)){return Kl.apply(this,arguments)}else{return MT.apply(this,arguments)}}}function YW(k,v){if(k.length<=1){return true}var m=v==="x"?0:1;var WH=k[0][m];var Z=0;for(var e=1;e<k.length;++e){var PI=k[e][m]-WH;if(!isNaN(PI)&&!isNaN(Z)&&PI!==0&&Z!==0&&((PI>=0)!==(Z>=0))){return false}if(!isNaN(PI)&&PI!==0){Z=PI;WH=k[e][m]}}return true}function Kl(v,WH,g8,cc,m,i,Z2,g4,g2,g3,g6){var g1=0;var g7=g8;for(var e=0;e<cc;e++){var Z=WH[g7];if(g7>=m||g7<0){break}if(EU(Z)){if(g6){g7+=i;continue}break}if(g7===g8){v[i>0?"moveTo":"lineTo"](Z[0],Z[1])}else{if(g2>0){var g5=WH[g1];var PI=g3==="y"?1:0;var XY=(Z[PI]-g5[PI])*g2;UO(x,g5);x[PI]=g5[PI]+XY;UO(w,Z);w[PI]=Z[PI]-XY;v.bezierCurveTo(x[0],x[1],w[0],w[1],Z[0],Z[1])}else{v.lineTo(Z[0],Z[1])}}g1=g7;g7+=i}return e}function MT(WH,g1,hb,g3,PI,v,g2,g7,g5,g6,g9){var g4=0;var ha=hb;for(var m=0;m<g3;m++){var Z=g1[ha];if(ha>=PI||ha<0){break}if(EU(Z)){if(g9){ha+=v;continue}break}if(ha===hb){WH[v>0?"moveTo":"lineTo"](Z[0],Z[1]);UO(x,Z)}else{if(g5>0){var hc=ha+v;var XY=g1[hc];if(g9){while(XY&&EU(g1[hc])){hc+=v;XY=g1[hc]}}var e=0.5;var g8=g1[g4];var XY=g1[hc];if(!XY||EU(XY)){UO(w,Z)}else{if(EU(XY)&&!g9){XY=Z}NW(PF,XY,g8);var Z2;var i;if(g6==="x"||g6==="y"){var cc=g6==="x"?0:1;Z2=Math.abs(Z[cc]-g8[cc]);i=Math.abs(Z[cc]-XY[cc])}else{Z2=V1(Z,g8);i=V1(Z,XY)}e=i/(i+Z2);N9(w,Z,PF,-g5*(1-e))}NH(x,x,g7);B4(x,x,g2);NH(w,w,g7);B4(w,w,g2);WH.bezierCurveTo(x[0],x[1],w[0],w[1],Z[0],Z[1]);N9(x,Z,PF,g5*e)}else{WH.lineTo(Z[0],Z[1])}}g4=ha;ha+=v}return m}function BU(m,PI){var e=[Infinity,Infinity];var k=[-Infinity,-Infinity];if(PI){for(var Z=0;Z<m.length;Z++){var v=m[Z];if(v[0]<e[0]){e[0]=v[0]}if(v[1]<e[1]){e[1]=v[1]}if(v[0]>k[0]){k[0]=v[0]}if(v[1]>k[1]){k[1]=v[1]}}}return{min:PI?e:k,max:PI?k:e}}var Yo=Mj.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},style:{fill:null,stroke:"#000"},brush:Um(Mj.prototype.brush),buildPath:function(v,PI){var k=PI.points;var Z=0;var m=k.length;var e=BU(k,PI.smoothConstraint);if(PI.connectNulls){for(;m>0;m--){if(!EU(k[m-1])){break}}for(;Z<m;Z++){if(!EU(k[Z])){break}}}while(Z<m){Z+=L(v,k,Z,m,m,1,e.min,e.max,PI.smooth,PI.smoothMonotone,PI.connectNulls)+1}}});var WP=Mj.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:true,smoothMonotone:null,connectNulls:false},brush:Um(Mj.prototype.brush),buildPath:function(v,Z){var Z2=Z.points;var XY=Z.stackedOnPoints;var WH=0;var PI=Z2.length;var e=Z.smoothMonotone;var cc=BU(Z2,Z.smoothConstraint);var g1=BU(XY,Z.smoothConstraint);if(Z.connectNulls){for(;PI>0;PI--){if(!EU(Z2[PI-1])){break}}for(;WH<PI;WH++){if(!EU(Z2[WH])){break}}}while(WH<PI){var m=L(v,Z2,WH,PI,PI,1,cc.min,cc.max,Z.smooth,e,Z.connectNulls);L(v,XY,WH+m-1,m,PI,-1,g1.min,g1.max,Z.stackedOnSmooth,e,Z.connectNulls);WH+=m+1;v.closePath()}}});function eY(k,e){if(k.length!==e.length){return}for(var Z=0;Z<k.length;Z++){var m=k[Z];var v=e[Z];if(m[0]!==v[0]||m[1]!==v[1]){return}}return true}function M3(Z){return typeof(Z)==="number"?Z:(Z?0.5:0)}function US(k){var i=k.getGlobalExtent();if(k.onBand){var e=k.getBandWidth()/2-1;var Z=i[1]>i[0]?1:-1;i[0]+=Z*e;i[1]-=Z*e}return i}function N2(e,v,i){if(!i.valueDim){return[]}var Z=[];for(var m=0,k=v.count();m<k;m++){Z.push(OA(i,e,v,m))}return Z}function LX(v,m,g2){var Z=US(v.getAxis("x"));var i=US(v.getAxis("y"));var k=v.getBaseAxis().isHorizontal();var Z2=Math.min(Z[0],Z[1]);var cc=Math.min(i[0],i[1]);var XY=Math.max(Z[0],Z[1])-Z2;var WH=Math.max(i[0],i[1])-cc;var PI=g2.get("lineStyle.width")||2;var e=g2.get("clipOverflow")?PI/2:Math.max(XY,WH);if(k){cc-=e;WH+=e*2}else{Z2-=e;XY+=e*2}var g1=new Fm({shape:{x:Z2,y:cc,width:XY,height:WH}});if(m){g1.shape[k?"width":"height"]=0;ef(g1,{shape:{width:XY,height:WH}},g2)}return g1}function gU(Z,v,XY){var e=Z.getAngleAxis();var k=Z.getRadiusAxis();var m=k.getExtent();var PI=e.getExtent();var i=Math.PI/180;var WH=new LA({shape:{cx:Z.cx,cy:Z.cy,r0:m[0],r:m[1],startAngle:-PI[0]*i,endAngle:-PI[1]*i,clockwise:e.inverse}});if(v){WH.shape.endAngle=-PI[0]*i;ef(WH,{shape:{endAngle:-PI[1]*i}},XY)}return WH}function X5(i,e,Z){return i.type==="polar"?gU(i,e,Z):LX(i,e,Z)}function YL(m,k,Z2){var cc=k.getBaseAxis();var PI=cc.dim==="x"||cc.dim==="radius"?0:1;var Z=[];for(var WH=0;WH<m.length-1;WH++){var XY=m[WH+1];var e=m[WH];Z.push(e);var g2=[];switch(Z2){case"end":g2[PI]=XY[PI];g2[1-PI]=e[1-PI];Z.push(g2);break;case"middle":var v=(e[PI]+XY[PI])/2;var g1=[];g2[PI]=g1[PI]=v;g2[1-PI]=e[1-PI];g1[1-PI]=XY[1-PI];Z.push(g2);Z.push(g1);break;default:g2[PI]=e[PI];g2[1-PI]=XY[1-PI];Z.push(g2)}}m[WH]&&Z.push(m[WH]);return Z}function Jb(g8,g2){var g1=g8.getVisual("visualMeta");if(!g1||!g1.length||!g8.count()){return}if(g2.type!=="cartesian2d"){if(W1){console.warn("Visual map on line style is only supported on cartesian2d.")}return}var WH;var PI;for(var v=g1.length-1;v>=0;v--){var Z2=g1[v].dimension;var g5=g8.dimensions[Z2];var g4=g8.getDimensionInfo(g5);WH=g4&&g4.coordDim;if(WH==="x"||WH==="y"){PI=g1[v];break}}if(!PI){if(W1){console.warn("Visual map on line style only support x or y dimension.")}return}var g3=g2.getAxis(WH);var e=QL(PI.stops,function(i){return{coord:g3.toGlobalCoord(g3.dataToCoord(i.value)),color:i.color}});var m=e.length;var Z=PI.outerColors.slice();if(m&&e[0].coord>e[m-1].coord){e.reverse();Z.reverse()}var g6=10;var g7=e[0].coord-g6;var XY=e[m-1].coord+g6;var k=XY-g7;if(k<0.001){return"transparent"}Dy(e,function(i){i.offset=(i.coord-g7)/k});e.push({offset:m?e[m-1].offset:0.5,color:Z[1]||"transparent"});e.unshift({offset:m?e[0].offset:0.5,color:Z[0]||"transparent"});var cc=new dn(0,0,0,0,e,true);cc[WH]=g7;cc[WH+"2"]=XY;return cc}MQ.extend({type:"line",init:function(){var Z=new U3();var e=new gu();this.group.add(e.group);this._symbolDraw=e;this._lineGroup=Z},render:function(Z2,k,g4){var g8=Z2.coordinateSystem;var ha=this.group;var he=Z2.getData();var hd=Z2.getModel("lineStyle");var hc=Z2.getModel("areaStyle");var g6=he.mapArray(he.getItemLayout);var v=g8.type==="polar";var PI=this._coordSys;var m=this._symbolDraw;var g7=this._polyline;var WH=this._polygon;var g2=this._lineGroup;var cc=Z2.get("animation");var hh=!hc.isEmpty();var g9=hc.get("origin");var Z=fj(g8,he,g9);var XY=N2(g8,he,Z);var hi=Z2.get("showSymbol");var g1=hi&&!v&&!Z2.get("showAllSymbol")&&this._getSymbolIgnoreFunc(he,g8);var e=this._data;e&&e.eachItemGraphicEl(function(hj,hk){if(hj.__temp){ha.remove(hj);e.setItemGraphicEl(hk,null)}});if(!hi){m.remove()}ha.add(g2);var hg=!v&&Z2.get("step");if(!(g7&&PI.type===g8.type&&hg===this._step)){hi&&m.updateData(he,{isIgnore:g1,clipShape:X5(g8,false,Z2)});if(hg){g6=YL(g6,g8,hg);XY=YL(XY,g8,hg)}g7=this._newPolyline(g6,g8,cc);if(hh){WH=this._newPolygon(g6,XY,g8,cc)}g2.setClipPath(X5(g8,true,Z2))}else{if(hh&&!WH){WH=this._newPolygon(g6,XY,g8,cc)}else{if(WH&&!hh){g2.remove(WH);WH=this._polygon=null}}var g5=X5(g8,false,Z2);g2.setClipPath(g5);hi&&m.updateData(he,{isIgnore:g1,clipShape:g5});he.eachItemGraphicEl(function(hj){hj.stopAnimation(true)});if(!eY(this._stackedOnPoints,XY)||!eY(this._points,g6)){if(cc){this._updateAnimation(he,XY,g8,g4,hg,g9)}else{if(hg){g6=YL(g6,g8,hg);XY=YL(XY,g8,hg)}g7.setShape({points:g6});WH&&WH.setShape({points:g6,stackedOnPoints:XY})}}}var hb=Jb(he,g8)||he.getVisual("color");g7.useStyle(IK(hd.getLineStyle(),{fill:"none",stroke:hb,lineJoin:"bevel"}));var i=Z2.get("smooth");i=M3(Z2.get("smooth"));g7.setShape({smooth:i,smoothMonotone:Z2.get("smoothMonotone"),connectNulls:Z2.get("connectNulls")});if(WH){var g3=he.getCalculationInfo("stackedOnSeries");var hf=0;WH.useStyle(IK(hc.getAreaStyle(),{fill:hb,opacity:0.7,lineJoin:"bevel"}));if(g3){hf=M3(g3.get("smooth"))}WH.setShape({smooth:i,stackedOnSmooth:hf,smoothMonotone:Z2.get("smoothMonotone"),connectNulls:Z2.get("connectNulls")})}this._data=he;this._coordSys=g8;this._stackedOnPoints=XY;this._points=g6;this._step=hg;this._valueOrigin=g9},dispose:function(){},highlight:function(WH,e,PI,i){var k=WH.getData();var v=Ly(k,i);if(!(v instanceof Array)&&v!=null&&v>=0){var m=k.getItemGraphicEl(v);if(!m){var Z=k.getItemLayout(v);if(!Z){return}m=new S0(k,v);m.position=Z;m.setZ(WH.get("zlevel"),WH.get("z"));m.ignore=isNaN(Z[0])||isNaN(Z[1]);m.__temp=true;k.setItemGraphicEl(v,m);m.stopSymbolAnimation(true);this.group.add(m)}m.highlight()}else{MQ.prototype.highlight.call(this,WH,e,PI,i)}},downplay:function(Z,i,v,m){var PI=Z.getData();var k=Ly(PI,m);if(k!=null&&k>=0){var e=PI.getItemGraphicEl(k);if(e){if(e.__temp){PI.setItemGraphicEl(k,null);this.group.remove(e)}else{e.downplay()}}}else{MQ.prototype.downplay.call(this,Z,i,v,m)}},_newPolyline:function(Z){var e=this._polyline;if(e){this._lineGroup.remove(e)}e=new Yo({shape:{points:Z},silent:true,z2:10});this._lineGroup.add(e);this._polyline=e;return e},_newPolygon:function(Z,i){var e=this._polygon;if(e){this._lineGroup.remove(e)}e=new WP({shape:{points:Z,stackedOnPoints:i},silent:true});this._lineGroup.add(e);this._polygon=e;return e},_getSymbolIgnoreFunc:function(i,e){var Z=e.getAxesByScale("ordinal")[0];if(Z&&Z.isLabelIgnored){return ei(Z.isLabelIgnored,Z)}},_updateAnimation:function(g6,v,g5,Z2,Z,g3){var g1=this._polyline;var m=this._polygon;var PI=g6.hostModel;var k=Y9(this._data,g6,this._stackedOnPoints,v,this._coordSys,g5,this._valueOrigin,g3);var WH=k.current;var g7=k.stackedOnCurrent;var g4=k.next;var XY=k.stackedOnNext;if(Z){WH=YL(k.current,g5,Z);g7=YL(k.stackedOnCurrent,g5,Z);g4=YL(k.next,g5,Z);XY=YL(k.stackedOnNext,g5,Z)}g1.shape.__points=k.current;g1.shape.points=WH;Qr(g1,{shape:{points:g4}},PI);if(m){m.setShape({points:WH,stackedOnPoints:g7});Qr(m,{shape:{points:g4,stackedOnPoints:XY}},PI)}var g2=[];var e=k.status;for(var g8=0;g8<e.length;g8++){var cc=e[g8].cmd;if(cc==="="){var g9=g6.getItemGraphicEl(e[g8].idx1);if(g9){g2.push({el:g9,ptIdx:g8})}}}if(g1.animators&&g1.animators.length){g1.animators[0].during(function(){for(var hb=0;hb<g2.length;hb++){var ha=g2[hb].el;ha.attr("position",g1.shape.__points[g2[hb].ptIdx])}})}},remove:function(e){var Z=this.group;var i=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(true);i&&i.eachItemGraphicEl(function(k,m){if(k.__temp){Z.remove(k);i.setItemGraphicEl(m,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var RB=function(i,Z,e){return{seriesType:i,performRawSeries:true,reset:function(cc,m,Z2){var v=cc.getData();var WH=cc.get("symbol")||Z;var k=cc.get("symbolSize");v.setVisual({legendSymbol:e||WH,symbol:WH,symbolSize:k});if(m.isSeriesFiltered(cc)){return}var PI=typeof k==="function";function XY(g7,g5){if(typeof k==="function"){var g1=cc.getRawValue(g5);var g6=cc.getDataParams(g5);g7.setItemVisual(g5,"symbolSize",k(g1,g6))}if(g7.hasItemOption){var g2=g7.getItemModel(g5);var g3=g2.getShallow("symbol",true);var g4=g2.getShallow("symbolSize",true);if(g3!=null){g7.setItemVisual(g5,"symbol",g3)}if(g4!=null){g7.setItemVisual(g5,"symbolSize",g4)}}}return{dataEach:(v.hasItemOption||PI)?XY:null}}}};var IP=function(Z){return{seriesType:Z,plan:Dq(),reset:function(XY){var k=XY.getData();var i=XY.coordinateSystem;var PI=XY.pipelineContext;var v=PI.large;if(!i){return}var m=QL(i.dimensions,function(Z2){return k.mapDimension(Z2)}).slice(0,2);var e=m.length;if(ah(k,m[0],m[1])){m[0]=k.getCalculationInfo("stackResultDimension")}if(ah(k,m[1],m[0])){m[1]=k.getCalculationInfo("stackResultDimension")}function WH(g3,g1){var g9=g3.end-g3.start;var g4=v&&new Float32Array(g9*e);for(var g2=g3.start,cc=0,Z2=[],g5=[];g2<g3.end;g2++){var g6;if(e===1){var g7=g1.get(m[0],g2,true);g6=!isNaN(g7)&&i.dataToPoint(g7,null,g5)}else{var g7=Z2[0]=g1.get(m[0],g2,true);var g8=Z2[1]=g1.get(m[1],g2,true);g6=!isNaN(g7)&&!isNaN(g8)&&i.dataToPoint(Z2,null,g5)}if(v){g4[cc++]=g6?g6[0]:NaN;g4[cc++]=g6?g6[1]:NaN}else{g1.setItemLayout(g2,(g6&&g6.slice())||[NaN,NaN])}}v&&g1.setLayout("symbolPoints",g4)}return e&&{progress:WH}}}};var cJ={average:function(k){var m=0;var e=0;for(var Z=0;Z<k.length;Z++){if(!isNaN(k[Z])){m+=k[Z];e++}}return e===0?NaN:m/e},sum:function(e){var k=0;for(var Z=0;Z<e.length;Z++){k+=e[Z]||0}return k},max:function(e){var k=-Infinity;for(var Z=0;Z<e.length;Z++){e[Z]>k&&(k=e[Z])}return k},min:function(k){var Z=Infinity;for(var e=0;e<k.length;e++){k[e]<Z&&(Z=k[e])}return Z},nearest:function(Z){return Z[0]}};var Yc=function(e,Z){return Math.round(e.length/2)};var YZ=function(Z){return{seriesType:Z,reset:function(g2,k,cc){var v=g2.getData();var i=g2.get("sampling");var m=g2.coordinateSystem;if(m.type==="cartesian2d"&&i){var Z2=m.getBaseAxis();var e=m.getOtherAxis(Z2);var PI=Z2.getExtent();var WH=PI[1]-PI[0];var XY=Math.round(v.count()/WH);if(XY>1){var g1;if(typeof i==="string"){g1=cJ[i]}else{if(typeof i==="function"){g1=i}}if(g1){g2.setData(v.downSample(e.dim,1/XY,g1,Yc))}}}}}};function WR(Z){return this._axes[Z]}var X6=function(Z){this._axes={};this._dimList=[];this.name=Z||""};X6.prototype={constructor:X6,type:"cartesian",getAxis:function(Z){return this._axes[Z]},getAxes:function(){return QL(this._dimList,WR,this)},getAxesByScale:function(Z){Z=Z.toLowerCase();return bs(this.getAxes(),function(e){return e.scale.type===Z})},addAxis:function(e){var Z=e.dim;this._axes[Z]=e;this._dimList.push(Z)},dataToCoord:function(Z){return this._dataCoordConvert(Z,"dataToCoord")},coordToData:function(Z){return this._dataCoordConvert(Z,"coordToData")},_dataCoordConvert:function(k,PI){var e=this._dimList;var WH=k instanceof Array?[]:{};for(var Z=0;Z<e.length;Z++){var m=e[Z];var v=this._axes[m];WH[m]=v[PI](k[m])}return WH}};function Xp(Z){X6.call(this,Z)}Xp.prototype={constructor:Xp,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var i=this.getAxis("x");var Z=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&Z.contain(Z.toLocalCoord(e[1]))},containData:function(Z){return this.getAxis("x").containData(Z[0])&&this.getAxis("y").containData(Z[1])},dataToPoint:function(m,k,i){var Z=this.getAxis("x");var e=this.getAxis("y");i=i||[];i[0]=Z.toGlobalCoord(Z.dataToCoord(m[0]));i[1]=e.toGlobalCoord(e.dataToCoord(m[1]));return i},clampData:function(k,i){var Z=this.getAxis("x").scale.getExtent();var e=this.getAxis("y").scale.getExtent();i=i||[];i[0]=Math.min(Math.max(Math.min(Z[0],Z[1]),k[0]),Math.max(Z[0],Z[1]));i[1]=Math.min(Math.max(Math.min(e[0],e[1]),k[1]),Math.max(e[0],e[1]));return i},pointToData:function(e,i){var Z=this.getAxis("x");var k=this.getAxis("y");i=i||[];i[0]=Z.coordToData(Z.toLocalCoord(e[0]));i[1]=k.coordToData(k.toLocalCoord(e[1]));return i},getOtherAxis:function(Z){return this.getAxis(Z.dim==="x"?"y":"x")}};K8(Xp,X6);var Nx=function(i,k,e,m,Z){Vs.call(this,i,k,e);this.type=m||"value";this.position=Z||"bottom"};Nx.prototype={constructor:Nx,index:0,onZero:false,model:null,isHorizontal:function(){var Z=this.position;return Z==="top"||Z==="bottom"},getGlobalExtent:function(Z){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);Z&&e[0]>e[1]&&e.reverse();return e},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(e){if(this.type==="category"){var Z=this.getLabelInterval();return((typeof Z==="function")&&!Z(e,this.scale.getLabel(e)))||e%(Z+1)}},pointToData:function(Z,e){return this.coordToData(this.toLocalCoord(Z[this.dim==="x"?0:1]),e)},toLocalCoord:null,toGlobalCoord:null};K8(Nx,Vs);var aj={show:true,zlevel:0,z:0,inverse:false,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:false,triggerEvent:false,tooltip:{show:false},axisPointer:{},axisLine:{show:true,onZero:true,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:true,inside:false,length:5,lineStyle:{width:1}},axisLabel:{show:true,inside:false,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var dt={};dt.categoryAxis=LB({boundaryGap:true,deduplication:null,splitLine:{show:false},axisTick:{alignWithLabel:false,interval:"auto"},axisLabel:{interval:"auto"}},aj);dt.valueAxis=LB({boundaryGap:[0,0],splitNumber:5},aj);dt.timeAxis=IK({scale:true,min:"dataMin",max:"dataMax"},dt.valueAxis);dt.logAxis=IK({scale:true,logBase:10},dt.valueAxis);var Qt=["value","category","time","log"];var P9=function(k,Z,e,i){Dy(Qt,function(m){Z.extend({type:k+"Axis."+m,mergeDefaultAndTheme:function(PI,WH){var Z2=this.layoutMode;var v=Z2?ZT(PI):{};var XY=WH.getTheme();LB(PI,XY.get(m+"Axis"));LB(PI,this.getDefaultOption());PI.type=e(k,PI);if(Z2){c7(PI,v,Z2)}},optionUpdated:function(){var v=this.option;if(v.type==="category"){this.__ordinalMeta=E9.createByAxisModel(this)}},getCategories:function(){if(this.option.type==="category"){return this.__ordinalMeta.categories}},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:F5([{},dt[m+"Axis"],i],true)})});Dt.registerSubTypeDefaulter(k+"Axis",c3(e,k))};var Js=Dt.extend({type:"cartesian2dAxis",axis:null,init:function(){Js.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){Js.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){Js.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function H4(e,Z){return Z.type||(Z.data?"category":"value")}LB(Js.prototype,Mm);var Kw={offset:0};P9("x",Js,H4,Kw);P9("y",Js,H4,Kw);Dt.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:false,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:false,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var eE=Dy;var Th=Ii;var SG=WA;function Bz(i,Z,e){return i.getCoordSysModel()===Z}function a2(i,Z){var PI=Z*Math.PI/180;var k=i.plain();var v=k.width;var XY=k.height;var WH=v*Math.cos(PI)+XY*Math.sin(PI);var m=v*Math.sin(PI)+XY*Math.cos(PI);var e=new FY(k.x,k.y,WH,m);return e}function ey(Z){var m=Z.model;var cc=m.get("axisLabel.show")?m.getFormattedLabels():[];var Z2=m.getModel("axisLabel");var e;var v=1;var XY=cc.length;if(XY>40){v=Math.ceil(XY/40)}for(var WH=0;WH<XY;WH+=v){if(!Z.isLabelIgnored(WH)){var PI=Z2.getTextRect(cc[WH]);var k=a2(PI,Z2.get("rotate")||0);e?e.union(k):(e=k)}}return e}function U7(Z,e,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(Z,e,i);this.model=Z}var DY=U7.prototype;DY.type="grid";DY.axisPointerEnabled=true;DY.getRect=function(){return this._rect};DY.update=function(e,i){var Z=this._axesMap;this._updateScale(e,this.model);eE(Z.x,function(k){SG(k.scale,k.model)});eE(Z.y,function(k){SG(k.scale,k.model)});eE(Z.x,function(k){JX(Z,"y",k)});eE(Z.y,function(k){JX(Z,"x",k)});this.resize(this.model,i)};function JX(e,v,PI){var Z=e[v];if(!PI.onZero){return}var i=PI.onZeroAxisIndex;if(i!=null){var k=Z[i];if(k&&PO(k)){PI.onZero=false}return}for(var m in Z){if(Z.hasOwnProperty(m)){var k=Z[m];if(k&&!PO(k)){i=+m;break}}}if(i==null){PI.onZero=false}PI.onZeroAxisIndex=i}function PO(Z){return Z.type==="category"||Z.type==="time"||!Th(Z)}DY.resize=function(Z,v,m){var i=CU(Z.getBoxLayoutParams(),{width:v.getWidth(),height:v.getHeight()});this._rect=i;var e=this._axesList;k();if(!m&&Z.get("containLabel")){eE(e,function(Z2){if(!Z2.model.get("axisLabel.inside")){var WH=ey(Z2);if(WH){var XY=Z2.isHorizontal()?"height":"width";var PI=Z2.model.get("axisLabel.margin");i[XY]-=WH[XY]+PI;if(Z2.position==="top"){i.y+=WH.height+PI}else{if(Z2.position==="left"){i.x+=WH.width+PI}}}}});k()}function k(){eE(e,function(Z2){var PI=Z2.isHorizontal();var WH=PI?[0,i.width]:[0,i.height];var XY=Z2.inverse?1:0;Z2.setExtent(WH[XY],WH[1-XY]);K6(Z2,PI?i.x:i.y)})}};DY.getAxis=function(i,k){var Z=this._axesMap[i];if(Z!=null){if(k==null){for(var e in Z){if(Z.hasOwnProperty(e)){return Z[e]}}}return Z[k]}};DY.getAxes=function(){return this._axesList.slice()};DY.getCartesian=function(v,Z){if(v!=null&&Z!=null){var e="x"+v+"y"+Z;return this._coordsMap[e]}if(EJ(v)){Z=v.yAxisIndex;v=v.xAxisIndex}for(var k=0,m=this._coordsList;k<m.length;k++){if(m[k].getAxis("x").index===v||m[k].getAxis("y").index===Z){return m[k]}}};DY.getCartesians=function(){return this._coordsList.slice()};DY.convertToPixel=function(Z,k,i){var e=this._findConvertTarget(Z,k);return e.cartesian?e.cartesian.dataToPoint(i):e.axis?e.axis.toGlobalCoord(e.axis.dataToCoord(i)):null};DY.convertFromPixel=function(Z,k,i){var e=this._findConvertTarget(Z,k);return e.cartesian?e.cartesian.pointToData(i):e.axis?e.axis.coordToData(e.axis.toLocalCoord(i)):null};DY._findConvertTarget=function(e,Z){var Z2=Z.seriesModel;var k=Z.xAxisModel||(Z2&&Z2.getReferringComponents("xAxis")[0]);var XY=Z.yAxisModel||(Z2&&Z2.getReferringComponents("yAxis")[0]);var i=Z.gridModel;var WH=this._coordsList;var v;var m;if(Z2){v=Z2.coordinateSystem;FT(WH,v)<0&&(v=null)}else{if(k&&XY){v=this.getCartesian(k.componentIndex,XY.componentIndex)}else{if(k){m=this.getAxis("x",k.componentIndex)}else{if(XY){m=this.getAxis("y",XY.componentIndex)}else{if(i){var PI=i.coordinateSystem;if(PI===this){v=this._coordsList[0]}}}}}}return{cartesian:v,axis:m}};DY.containPoint=function(Z){var e=this._coordsList[0];if(e){return e.containPoint(Z)}};DY._initCartesian=function(Z,i,v){var m={left:false,right:false,top:false,bottom:false};var e={x:{},y:{}};var k={x:0,y:0};i.eachComponent("xAxis",PI("x"),this);i.eachComponent("yAxis",PI("y"),this);if(!k.x||!k.y){this._axesMap={};this._axesList=[];return}this._axesMap=e;eE(e.x,function(WH,XY){eE(e.y,function(g1,Z2){var cc="x"+XY+"y"+Z2;var g2=new Xp(cc);g2.grid=this;g2.model=Z;this._coordsMap[cc]=g2;this._coordsList.push(g2);g2.addAxis(WH);g2.addAxis(g1)},this)},this);function PI(WH){return function(Z2,cc){if(!Bz(Z2,Z,i)){return}var g1=Z2.get("position");if(WH==="x"){if(g1!=="top"&&g1!=="bottom"){g1="bottom";if(m[g1]){g1=g1==="top"?"bottom":"top"}}}else{if(g1!=="left"&&g1!=="right"){g1="left";if(m[g1]){g1=g1==="left"?"right":"left"}}}m[g1]=true;var g2=new Nx(WH,Zo(Z2),[0,0],Z2.get("type"),g1);var XY=g2.type==="category";g2.onBand=XY&&Z2.get("boundaryGap");g2.inverse=Z2.get("inverse");g2.onZero=Z2.get("axisLine.onZero");g2.onZeroAxisIndex=Z2.get("axisLine.onZeroAxisIndex");Z2.axis=g2;g2.model=Z2;g2.grid=this;g2.index=cc;this._axesList.push(g2);e[WH][cc]=g2;k[WH]++}}};DY._updateScale=function(e,Z){Dy(this._axesList,function(k){k.scale.setExtent(Infinity,-Infinity)});e.eachSeries(function(cc){if(d3(cc)){var Z2=VP(cc,e);var v=Z2[0];var XY=Z2[1];if(!Bz(v,Z,e)||!Bz(XY,Z,e)){return}var PI=this.getCartesian(v.componentIndex,XY.componentIndex);var m=cc.getData();var WH=PI.getAxis("x");var k=PI.getAxis("y");if(m.type==="list"){i(m,WH,cc);i(m,k,cc)}}},this);function i(v,m,k){eE(v.mapDimension(m.dim,true),function(PI){m.scale.unionExtentFromData(v,PI)})}};DY.getTooltipAxes=function(e){var i=[];var Z=[];eE(this.getCartesians(),function(v){var m=(e!=null&&e!=="auto")?v.getAxis(e):v.getBaseAxis();var k=v.getOtherAxis(m);FT(i,m)<0&&i.push(m);FT(Z,k)<0&&Z.push(k)});return{baseAxes:i,otherAxes:Z}};function K6(k,i){var Z=k.getExtent();var e=Z[0]+Z[1];k.toGlobalCoord=k.dim==="x"?function(m){return m+i}:function(m){return e-m+i};k.toLocalCoord=k.dim==="x"?function(m){return m-i}:function(m){return e-m+i}}var Wu=["xAxis","yAxis"];function VP(Z,e){return QL(Wu,function(k){var i=Z.getReferringComponents(k)[0];if(W1){if(!i){throw new Error(k+' "'+ER(Z.get(k+"Index"),Z.get(k+"Id"),0)+'" not found')}}return i})}function d3(Z){return Z.get("coordinateSystem")==="cartesian2d"}U7.create=function(e,i){var Z=[];e.eachComponent("grid",function(k,m){var v=new U7(k,e,i);v.name="grid_"+m;v.resize(k,i,true);k.coordinateSystem=v;Z.push(v)});e.eachSeries(function(m){if(!d3(m)){return}var WH=VP(m,e);var PI=WH[0];var k=WH[1];var v=PI.getCoordSysModel();if(W1){if(!v){throw new Error('Grid "'+ER(PI.get("gridIndex"),PI.get("gridId"),0)+'" not found')}if(PI.getCoordSysModel()!==k.getCoordSysModel()){throw new Error("xAxis and yAxis must use the same grid")}}var XY=v.coordinateSystem;m.coordinateSystem=XY.getCartesian(PI.componentIndex,k.componentIndex)});return Z};U7.dimensions=U7.prototype.dimensions=Xp.prototype.dimensions;Rn.register("cartesian2d",U7);var Nm=Math.PI;function RE(Z){var e={componentType:Z.mainType};e[Z.mainType+"Index"]=Z.componentIndex;return e}var YS=function(e,Z){this.opt=Z;this.axisModel=e;IK(Z,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:true});this.group=new U3();var i=new U3({position:Z.position.slice(),rotation:Z.rotation});i.updateTransform();this._transform=i.transform;this._dumbGroup=i};YS.prototype={constructor:YS,hasBuilder:function(Z){return !!fl[Z]},add:function(Z){fl[Z].call(this)},getGroup:function(){return this.group}};var fl={axisLine:function(){var XY=this.opt;var k=this.axisModel;if(!k.get("axisLine.show")){return}var v=this.axisModel.axis.getExtent();var PI=this._transform;var m=[v[0],0];var i=[v[1],0];if(PI){Ip(m,m,PI);Ip(i,i,PI)}var cc=XN({lineCap:"round"},k.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Ut(KZ({anid:"line",shape:{x1:m[0],y1:m[1],x2:i[0],y2:i[1]},style:cc,strokeContainThreshold:XY.strokeContainThreshold||5,silent:true,z2:1})));var WH=k.get("axisLine.symbol");var Z=k.get("axisLine.symbolSize");var Z2=k.get("axisLine.symbolOffset")||0;if(typeof Z2==="number"){Z2=[Z2,Z2]}if(WH!=null){if(typeof WH==="string"){WH=[WH,WH]}if(typeof Z==="string"||typeof Z==="number"){Z=[Z,Z]}var e=Z[0];var g1=Z[1];Dy([{rotate:XY.rotation+Math.PI/2,offset:Z2[0],r:0},{rotate:XY.rotation-Math.PI/2,offset:Z2[1],r:Math.sqrt((m[0]-i[0])*(m[0]-i[0])+(m[1]-i[1])*(m[1]-i[1]))}],function(g4,g6){if(WH[g6]!=="none"&&WH[g6]!=null){var g3=FK(WH[g6],-e/2,-g1/2,e,g1,cc.stroke,true);var g2=g4.r+g4.offset;var g5=[m[0]+g2*Math.cos(XY.rotation),m[1]-g2*Math.sin(XY.rotation)];g3.attr({rotation:g4.rotate,position:g5,silent:true});this.group.add(g3)}},this)}},axisTickLabel:function(){var e=this.axisModel;var Z=this.opt;var i=ZP(this,e,Z);var k=Ob(this,e,Z);CO(e,k,i)},axisName:function(){var v=this.opt;var Z=this.axisModel;var g9=ER(v.axisName,Z.get("name"));if(!g9){return}var e=Z.get("nameLocation");var hb=v.nameDirection;var Z2=Z.getModel("nameTextStyle");var i=Z.get("nameGap")||0;var g2=this.axisModel.axis.getExtent();var WH=g2[0]>g2[1]?-1:1;var g8=[e==="start"?g2[0]-WH*i:e==="end"?g2[1]+WH*i:(g2[0]+g2[1])/2,Av(e)?v.labelOffset+hb*i:0];var g5;var k=Z.get("nameRotate");if(k!=null){k=k*Nm/180}var ha;if(Av(e)){g5=KA(v.rotation,k!=null?k:v.rotation,hb)}else{g5=YX(v,e,k||0,g2);ha=v.axisNameAvailableWidth;if(ha!=null){ha=Math.abs(ha/Math.sin(g5.rotation));!isFinite(ha)&&(ha=null)}}var g6=Z2.getFont();var m=Z.get("nameTruncate",true)||{};var cc=m.ellipsis;var PI=ER(v.nameTruncateMaxWidth,m.maxWidth,ha);var g1=(cc!=null&&PI!=null)?bC(g9,PI,g6,cc,{minChar:2,placeholder:m.placeholder}):g9;var g4=Z.get("tooltip",true);var XY=Z.mainType;var g3={componentType:XY,name:g9,$vars:["name"]};g3[XY+"Index"]=Z.componentIndex;var g7=new FW({anid:"name",__fullText:g9,__truncatedText:g1,position:g8,rotation:g5.rotation,silent:aK(Z),z2:1,tooltip:(g4&&g4.show)?XN({content:g9,formatter:function(){return g9},formatterParams:g3},g4):null});DQ(g7.style,Z2,{text:g1,textFont:g6,textFill:Z2.getTextColor()||Z.get("axisLine.lineStyle.color"),textAlign:g5.textAlign,textVerticalAlign:g5.textVerticalAlign});if(Z.get("triggerEvent")){g7.eventData=RE(Z);g7.eventData.targetType="axisName";g7.eventData.name=g9}this._dumbGroup.add(g7);g7.updateTransform();this.group.add(g7);g7.decomposeTransform()}};var KA=YS.innerTextLayout=function(m,k,Z){var e=XP(k-m);var v;var i;if(WD(e)){i=Z>0?"top":"bottom";v="center"}else{if(WD(e-Nm)){i=Z>0?"bottom":"top";v="center"}else{i="middle";if(e>0&&e<Nm){v=Z>0?"right":"left"}else{v=Z>0?"left":"right"}}}return{rotation:e,textAlign:v,textVerticalAlign:i}};function YX(e,XY,m,i){var WH=XP(m-e.rotation);var Z;var k;var PI=i[0]>i[1];var v=(XY==="start"&&!PI)||(XY!=="start"&&PI);if(WD(WH-Nm/2)){k=v?"bottom":"top";Z="center"}else{if(WD(WH-Nm*1.5)){k=v?"top":"bottom";Z="center"}else{k="middle";if(WH<Nm*1.5&&WH>Nm/2){Z=v?"left":"right"}else{Z=v?"right":"left"}}}return{rotation:WH,textAlign:Z,textVerticalAlign:k}}function aK(e){var Z=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||(Z&&Z.show))}function CO(m,e,g2){var Z=m.get("axisLabel.showMinLabel");var k=m.get("axisLabel.showMaxLabel");e=e||[];g2=g2||[];var Z2=e[0];var cc=e[1];var XY=e[e.length-1];var i=e[e.length-2];var WH=g2[0];var g1=g2[1];var PI=g2[g2.length-1];var v=g2[g2.length-2];if(Z===false){Lw(Z2);Lw(WH)}else{if(Yl(Z2,cc)){if(Z){Lw(cc);Lw(g1)}else{Lw(Z2);Lw(WH)}}}if(k===false){Lw(XY);Lw(PI)}else{if(Yl(i,XY)){if(k){Lw(i);Lw(v)}else{Lw(XY);Lw(PI)}}}}function Lw(Z){Z&&(Z.ignore=true)}function Yl(m,k,e){var v=m&&m.getBoundingRect().clone();var Z=k&&k.getBoundingRect().clone();if(!v||!Z){return}var i=es([]);eX(i,i,-m.rotation);v.applyTransform(PU([],i,m.getLocalTransform()));Z.applyTransform(PU([],i,k.getLocalTransform()));return v.intersect(Z)}function Av(Z){return Z==="middle"||Z==="center"}var Lb=YS.ifIgnoreOnTick=function(Z,v,PI,m,WH,e){if(v===0&&WH||v===m-1&&e){return false}var k;var XY=Z.scale;return XY.type==="ordinal"&&(typeof PI==="function"?(k=XY.getTicks()[v],!PI(k,XY.getLabel(k))):v%(PI+1))};var SK=YS.getInterval=function(i,Z){var e=i.get("interval");if(e==null||e=="auto"){e=Z}return e};function ZP(g2,g1,g9){var g4=g1.axis;if(!g1.get("axisTick.show")||g4.scale.isBlank()){return}var g6=g1.getModel("axisTick");var g8=g6.getModel("lineStyle");var g3=g6.get("length");var m=SK(g6,g9.labelInterval);var e=g4.getTicksCoords(g6.get("alignWithLabel"));var XY=g4.scale.getTicks();var PI=g1.get("axisLabel.showMinLabel");var v=g1.get("axisLabel.showMaxLabel");var cc=[];var WH=[];var g5=g2._transform;var Z2=[];var ha=e.length;for(var k=0;k<ha;k++){if(Lb(g4,k,m,ha,PI,v)){continue}var Z=e[k];cc[0]=Z;cc[1]=0;WH[0]=Z;WH[1]=g9.tickDirection*g3;if(g5){Ip(cc,cc,g5);Ip(WH,WH,g5)}var g7=new Ut(KZ({anid:"tick_"+XY[k],shape:{x1:cc[0],y1:cc[1],x2:WH[0],y2:WH[1]},style:IK(g8.getLineStyle(),{stroke:g1.get("axisLine.lineStyle.color")}),z2:2,silent:true}));g2.group.add(g7);Z2.push(g7)}return Z2}function Ob(cc,g2,g6){var g1=g2.axis;var g3=ER(g6.axisLabelShow,g2.get("axisLabel.show"));if(!g3||g1.scale.isBlank()){return}var e=g2.getModel("axisLabel");var i=e.get("margin");var g4=g1.scale.getTicks();var Z=g2.getFormattedLabels();var WH=(ER(g6.labelRotate,e.get("rotate"))||0)*Nm/180;var g5=KA(g6.rotation,WH,g6.labelDirection);var XY=g2.getCategories();var m=[];var Z2=aK(g2);var k=g2.get("triggerEvent");var PI=g2.get("axisLabel.showMinLabel");var v=g2.get("axisLabel.showMaxLabel");Dy(g4,function(hd,g7){if(Lb(g1,g7,g6.labelInterval,g4.length,PI,v)){return}var he=e;if(XY&&XY[hd]&&XY[hd].textStyle){he=new fx(XY[hd].textStyle,e,g2.ecModel)}var g9=he.getTextColor()||g2.get("axisLine.lineStyle.color");var hc=g1.dataToCoord(hd);var ha=[hc,g6.labelOffset+g6.labelDirection*i];var hb=g1.scale.getLabel(hd);var g8=new FW({anid:"label_"+hd,position:ha,rotation:g5.rotation,silent:Z2,z2:10});DQ(g8.style,he,{text:Z[g7],textAlign:he.getShallow("align",true)||g5.textAlign,textVerticalAlign:he.getShallow("verticalAlign",true)||he.getShallow("baseline",true)||g5.textVerticalAlign,textFill:typeof g9==="function"?g9(g1.type==="category"?hb:g1.type==="value"?hd+"":hd,g7):g9});if(k){g8.eventData=RE(g2);g8.eventData.targetType="axisLabel";g8.eventData.value=hb}cc._dumbGroup.add(g8);g8.updateTransform();m.push(g8);cc.group.add(g8);g8.decomposeTransform()});return m}var XR=Dy;var UB=c3;function VK(Z,i){var e={axesInfo:{},seriesInvolved:false,coordSysAxesInfo:{},coordSysMap:{}};RJ(e,Z,i);e.seriesInvolved&&ce(e,Z);return e}function RJ(e,v,k){var m=v.getComponent("tooltip");var Z=v.getComponent("axisPointer");var PI=Z.get("link",true)||[];var i=[];XR(k.getCoordinateSystems(),function(XY){if(!XY.axisPointerEnabled){return}var g3=Ha(XY.model);var g5=e.coordSysAxesInfo[g3]={};e.coordSysMap[g3]=XY;var g2=XY.model;var WH=g2.getModel("tooltip",m);XR(XY.getAxes(),UB(cc,false,null));if(XY.getTooltipAxes&&m&&WH.get("show")){var Z2=WH.get("trigger")==="axis";var g4=WH.get("axisPointer.type")==="cross";var g1=XY.getTooltipAxes(WH.get("axisPointer.axis"));if(Z2||g4){XR(g1.baseAxes,UB(cc,g4?"cross":true,Z2))}if(g4){XR(g1.otherAxes,UB(cc,"cross",false))}}function cc(g9,ha,g7){var g8=g7.model.getModel("axisPointer",Z);var hg=g8.get("show");if(!hg||(hg==="auto"&&!g9&&!N3(g8))){return}if(ha==null){ha=g8.get("triggerTooltip")}g8=g9?KK(g7,WH,Z,v,g9,ha):g8;var hf=g8.get("snap");var he=Ha(g7.model);var hc=ha||hf||g7.type==="category";var hd=e.axesInfo[he]={key:he,axis:g7,coordSys:XY,axisPointerModel:g8,triggerTooltip:ha,involveSeries:hc,snap:hf,useHandle:N3(g8),seriesModels:[]};g5[he]=hd;e.seriesInvolved|=hc;var g6=N8(PI,g7);if(g6!=null){var hb=i[g6]||(i[g6]={axesInfo:{}});hb.axesInfo[he]=hd;hb.mapper=PI[g6].mapper;hd.linkGroup=hb}}})}function KK(e,Z,v,XY,i,m){var k=Z.getModel("axisPointer");var Z2={};XR(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(g1){Z2[g1]=fJ(k.get(g1))});Z2.snap=e.type!=="category"&&!!m;if(k.get("type")==="cross"){Z2.type="line"}var PI=Z2.label||(Z2.label={});PI.show==null&&(PI.show=false);if(i==="cross"){var cc=k.get("label.show");PI.show=cc!=null?cc:true;if(!m){var WH=Z2.lineStyle=k.get("crossStyle");WH&&IK(PI,WH.textStyle)}}return e.model.getModel("axisPointer",new fx(Z2,v,XY))}function ce(Z,e){e.eachSeries(function(i){var m=i.coordinateSystem;var k=i.get("tooltip.trigger",true);var v=i.get("tooltip.show",true);if(!m||k==="none"||k===false||k==="item"||v===false||i.get("axisPointer.show",true)===false){return}XR(Z.coordSysAxesInfo[Ha(m.model)],function(PI){var WH=PI.axis;if(m.getAxis(WH.dim)===WH){PI.seriesModels.push(i);PI.seriesDataCount==null&&(PI.seriesDataCount=0);PI.seriesDataCount+=i.getData().count()}})},this)}function N8(e,PI){var k=PI.model;var m=PI.dim;for(var Z=0;Z<e.length;Z++){var v=e[Z]||{};if(Vq(v[m+"AxisId"],k.id)||Vq(v[m+"AxisIndex"],k.componentIndex)||Vq(v[m+"AxisName"],k.name)){return Z}}}function Vq(Z,e){return Z==="all"||(cW(Z)&&FT(Z,e)>=0)||Z===e}function AW(k){var PI=Bd(k);if(!PI){return}var e=PI.axisPointerModel;var i=PI.axis.scale;var XY=e.option;var WH=e.get("status");var v=e.get("value");if(v!=null){v=i.parse(v)}var Z=N3(e);if(WH==null){XY.status=Z?"show":"hide"}var m=i.getExtent().slice();m[0]>m[1]&&m.reverse();if(v==null||v>m[1]){v=m[1]}if(v<m[0]){v=m[0]}XY.value=v;if(Z){XY.status=PI.axis.scale.isBlank()?"hide":"show"}}function Bd(e){var Z=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return Z&&Z.axesInfo[Ha(e)]}function E8(e){var Z=Bd(e);return Z&&Z.axisPointerModel}function N3(Z){return !!Z.get("handle.show")}function Ha(Z){return Z.type+"||"+Z.id}var O7=ec({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,Z,k,i){this.axisPointerClass&&AW(e);O7.superApply(this,"render",arguments);N1(this,e,Z,k,i,true)},updateAxisPointer:function(e,Z,m,i,k){N1(this,e,Z,m,i,false)},remove:function(Z,i){var e=this._axisPointer;e&&e.remove(i);O7.superApply(this,"remove",arguments)},dispose:function(Z,e){fE(this,e);O7.superApply(this,"dispose",arguments)}});function N1(i,m,Z,PI,e,WH){var v=O7.getAxisPointerClass(i.axisPointerClass);if(!v){return}var k=E8(m);k?(i._axisPointer||(i._axisPointer=new v())).render(m,k,PI,WH):fE(i,PI)}function fE(e,Z,k){var i=e._axisPointer;i&&i.dispose(Z,k);e._axisPointer=null}var LU=[];O7.registerAxisPointerClass=function(Z,e){if(W1){if(LU[Z]){throw new Error("axisPointer "+Z+" exists")}}LU[Z]=e};O7.getAxisPointerClass=function(Z){return Z&&LU[Z]};function Hy(e,Z2,m){m=m||{};var Z=e.coordinateSystem;var g2=Z2.axis;var v={};var k=g2.position;var g4=g2.onZero?"onZero":k;var g5=g2.dim;var WH=Z.getRect();var i=[WH.x,WH.x+WH.width,WH.y,WH.y+WH.height];var g6={left:0,right:1,top:0,bottom:1,onZero:2};var PI=Z2.get("offset")||0;var g3=g5==="x"?[i[2]-PI,i[3]+PI]:[i[0]-PI,i[1]+PI];if(g2.onZero){var g1=Z.getAxis(g5==="x"?"y":"x",g2.onZeroAxisIndex);var XY=g1.toGlobalCoord(g1.dataToCoord(0));g3[g6["onZero"]]=Math.max(Math.min(XY,g3[1]),g3[0])}v.position=[g5==="y"?g3[g6[g4]]:i[0],g5==="x"?g3[g6[g4]]:i[3]];v.rotation=Math.PI/2*(g5==="x"?0:1);var g7={top:-1,bottom:1,left:-1,right:1};v.labelDirection=v.tickDirection=v.nameDirection=g7[k];v.labelOffset=g2.onZero?g3[g6[k]]-g3[g6["onZero"]]:0;if(Z2.get("axisTick.inside")){v.tickDirection=-v.tickDirection}if(ER(m.labelInside,Z2.get("axisLabel.inside"))){v.labelDirection=-v.labelDirection}var cc=Z2.get("axisLabel.rotate");v.labelRotate=g4==="top"?-cc:cc;v.labelInterval=g2.getLabelInterval();v.z2=1;return v}var Gz=YS.ifIgnoreOnTick;var BX=YS.getInterval;var AL=["axisLine","axisTickLabel","axisName"];var f8=["splitArea","splitLine"];var aN=O7.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(k,Z,WH,e){this.group.removeAll();var m=this._axisGroup;this._axisGroup=new U3();this.group.add(this._axisGroup);if(!k.get("show")){return}var i=k.getCoordSysModel();var v=Hy(i,k);var PI=new YS(k,v);Dy(AL,PI.add,PI);this._axisGroup.add(PI.getGroup());Dy(f8,function(XY){if(k.get(XY+".show")){this["_"+XY](k,i,v.labelInterval)}},this);Wq(m,this._axisGroup,k);aN.superCall(this,"render",k,Z,WH,e)},_splitLine:function(g2,e,ha){var g8=g2.axis;if(g8.scale.isBlank()){return}var g7=g2.getModel("splitLine");var g9=g7.getModel("lineStyle");var g3=g9.get("color");var g4=BX(g7,ha);g3=cW(g3)?g3:[g3];var g1=e.coordinateSystem.getRect();var g5=g8.isHorizontal();var g6=0;var k=g8.getTicksCoords();var cc=g8.scale.getTicks();var XY=g2.get("axisLabel.showMinLabel");var WH=g2.get("axisLabel.showMaxLabel");var hb=[];var m=[];var Z2=g9.getLineStyle();for(var PI=0;PI<k.length;PI++){if(Gz(g8,PI,g4,k.length,XY,WH)){continue}var Z=g8.toGlobalCoord(k[PI]);if(g5){hb[0]=Z;hb[1]=g1.y;m[0]=Z;m[1]=g1.y+g1.height}else{hb[0]=g1.x;hb[1]=Z;m[0]=g1.x+g1.width;m[1]=Z}var v=(g6++)%g3.length;this._axisGroup.add(new Ut(KZ({anid:"line_"+cc[PI],shape:{x1:hb[0],y1:hb[1],x2:m[0],y2:m[1]},style:IK({stroke:g3[v]},Z2),silent:true})))}},_splitArea:function(g2,e,ha){var g5=g2.axis;if(g5.scale.isBlank()){return}var g8=g2.getModel("splitArea");var WH=g8.getModel("areaStyle");var he=WH.get("color");var g1=e.coordinateSystem.getRect();var k=g5.getTicksCoords();var g9=g5.scale.getTicks();var g4=g5.toGlobalCoord(k[0]);var g3=g5.toGlobalCoord(k[0]);var PI=0;var g7=BX(g8,ha);var m=WH.getAreaStyle();he=cW(he)?he:[he];var cc=g2.get("axisLabel.showMinLabel");var Z2=g2.get("axisLabel.showMaxLabel");for(var XY=1;XY<k.length;XY++){if(Gz(g5,XY,g7,k.length,cc,Z2)&&(XY<k.length-1)){continue}var Z=g5.toGlobalCoord(k[XY]);var hb;var hc;var g6;var hd;if(g5.isHorizontal()){hb=g4;hc=g1.y;g6=Z-hb;hd=g1.height}else{hb=g1.x;hc=g3;g6=g1.width;hd=Z-hc}var v=(PI++)%he.length;this._axisGroup.add(new Fm({anid:"area_"+g9[XY],shape:{x:hb,y:hc,width:g6,height:hd},style:IK({fill:he[v]},m),silent:true}));g4=hb+g6;g3=hc+hd}}});aN.extend({type:"xAxis"});aN.extend({type:"yAxis"});ec({type:"grid",render:function(Z,e){this.group.removeAll();if(Z.get("show")){this.group.add(new Fm({shape:Z.coordinateSystem.getRect(),style:IK({fill:Z.get("backgroundColor")},Z.getItemStyle()),silent:true,z2:-1}))}}});Jo(function(Z){if(Z.xAxis&&Z.yAxis&&!Z.grid){Z.grid={}}});Ao(RB("line","circle","line"));gH(IP("line"));dU(eK.PROCESSOR.STATISTIC,YZ("line"));var Fb=S7.extend({type:"series.__base_bar__",getInitialData:function(Z,e){return VR(this.getSource(),this)},getMarkerPosition:function(m){var k=this.coordinateSystem;if(k){var i=k.dataToPoint(k.clampData(m));var PI=this.getData();var e=PI.getLayout("offset");var Z=PI.getLayout("size");var v=k.getBaseAxis().isHorizontal()?0:1;i[v]+=e+Z/2;return i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,barMinHeight:0,barMinAngle:0,itemStyle:{},emphasis:{}}});Fb.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});function cT(m,e,Z,i,XY,v,WH){var k=Z.getModel("label");var PI=Z.getModel("emphasis.label");HB(m,e,k,PI,{labelFetcher:XY,labelDataIndex:v,defaultText:TE(XY.getData(),v),isRectText:true,autoColor:i});He(m);He(e)}function He(e,Z){if(e.textPosition==="outside"){e.textPosition=Z}}var EB=C9([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var c8={getBarItemStyle:function(e){var Z=EB(this,e);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(Z.lineDash=i)}return Z}};var by=["itemStyle","barBorderWidth"];XN(fx.prototype,c8);YB({type:"bar",render:function(Z,i,k){var e=Z.get("coordinateSystem");if(e==="cartesian2d"||e==="polar"){this._render(Z,i,k)}else{if(W1){console.warn("Only cartesian2d and polar supported for bar.")}}return this.group},dispose:gw,_render:function(Z2,Z,XY){var m=this.group;var e=Z2.getData();var i=this._data;var v=Z2.coordinateSystem;var WH=v.getBaseAxis();var PI;if(v.type==="cartesian2d"){PI=WH.isHorizontal()}else{if(v.type==="polar"){PI=WH.dim==="angle"}}var k=Z2.isAnimationEnabled()?Z2:null;e.diff(i).add(function(g1){if(!e.hasValue(g1)){return}var g2=e.getItemModel(g1);var g3=NX[v.type](e,g1,g2);var cc=a5[v.type](e,g1,g2,g3,PI,k);e.setItemGraphicEl(g1,cc);m.add(cc);N6(cc,e,g1,g2,g3,Z2,PI,v.type==="polar")}).update(function(g4,g2){var cc=i.getItemGraphicEl(g2);if(!e.hasValue(g4)){m.remove(cc);return}var g1=e.getItemModel(g4);var g3=NX[v.type](e,g4,g1);if(cc){Qr(cc,{shape:g3},k,g4)}else{cc=a5[v.type](e,g4,g1,g3,PI,k,true)}e.setItemGraphicEl(g4,cc);m.add(cc);N6(cc,e,g4,g1,g3,Z2,PI,v.type==="polar")}).remove(function(g1){var cc=i.getItemGraphicEl(g1);if(v.type==="cartesian2d"){cc&&Z4(g1,k,cc)}else{cc&&MK(g1,k,cc)}}).execute();this._data=e},remove:function(e,i){var Z=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(m){if(m.type==="sector"){MK(m.dataIndex,e,m)}else{Z4(m.dataIndex,e,m)}})}}else{Z.removeAll()}}});var a5={cartesian2d:function(k,XY,e,PI,i,v,cc){var m=new Fm({shape:XN({},PI)});if(v){var Z2=m.shape;var WH=i?"height":"width";var Z={};Z2[WH]=0;Z[WH]=PI[WH];S8[cc?"updateProps":"initProps"](m,{shape:Z},v,XY)}return m},polar:function(i,XY,Z,PI,k,v,g1){var m=PI.startAngle<PI.endAngle;var Z2=new LA({shape:IK({clockwise:m},PI)});if(v){var cc=Z2.shape;var WH=k?"r":"endAngle";var e={};cc[WH]=k?0:PI.startAngle;e[WH]=PI[WH];S8[g1?"updateProps":"initProps"](Z2,{shape:e},v,XY)}return Z2}};function Z4(e,i,Z){Z.style.text=null;Qr(Z,{shape:{width:0}},i,e,function(){Z.parent&&Z.parent.remove(Z)})}function MK(e,i,Z){Z.style.text=null;Qr(Z,{shape:{r:Z.shape.r0}},i,e,function(){Z.parent&&Z.parent.remove(Z)})}var NX={cartesian2d:function(PI,Z,e){var m=PI.getItemLayout(Z);var v=D5(e,m);var i=m.width>0?1:-1;var k=m.height>0?1:-1;return{x:m.x+i*v/2,y:m.y+k*v/2,width:m.width-i*v,height:m.height-k*v}},polar:function(k,Z,e){var i=k.getItemLayout(Z);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function N6(XY,m,g1,i,Z2,g3,k,e){var v=m.getItemVisual(g1,"color");var PI=m.getItemVisual(g1,"opacity");var WH=i.getModel("itemStyle");var cc=i.getModel("emphasis.itemStyle").getBarItemStyle();if(!e){XY.setShape("r",WH.get("barBorderRadius")||0)}XY.useStyle(IK({fill:v,opacity:PI},WH.getBarItemStyle()));var Z=i.getShallow("cursor");Z&&XY.attr("cursor",Z);var g2=k?(Z2.height>0?"bottom":"top"):(Z2.width>0?"left":"right");if(!e){cT(XY.style,cc,i,v,g3,g1,g2)}N7(XY,cc)}function D5(Z,i){var e=Z.get(by)||0;return Math.min(e,Math.abs(i.width),Math.abs(i.height))}gH(c3(I6,"bar"));Ao(function(Z){Z.eachSeriesByType("bar",function(e){var i=e.getData();i.setVisual("legendSymbol","roundRect")})});var Fn=function(e,i,v){i=cW(i)&&{coordDimensions:i}||XN({},i);var k=e.getSource();var m=F0(k,i);var Z=new Mh(m,e);Z.initData(k,v);return Z};var QP={updateSelectedMap:function(Z){this._targetList=cW(Z)?Z.slice():[];this._selectTargetMap=Pr(Z||[],function(e,i){e.set(i.name,i);return e},Fj())},select:function(e,k){var i=k!=null?this._targetList[k]:this._selectTargetMap.get(e);var Z=this.get("selectedMode");if(Z==="single"){this._selectTargetMap.each(function(m){m.selected=false})}i&&(i.selected=true)},unSelect:function(Z,i){var e=i!=null?this._targetList[i]:this._selectTargetMap.get(Z);e&&(e.selected=false)},toggleSelected:function(Z,i){var e=i!=null?this._targetList[i]:this._selectTargetMap.get(Z);if(e!=null){this[e.selected?"unSelect":"select"](Z,i);return e.selected}},isSelected:function(Z,i){var e=i!=null?this._targetList[i]:this._selectTargetMap.get(Z);return e&&e.selected}};var AO=Sa({type:"series.pie",init:function(Z){AO.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(Z)},mergeOption:function(Z){AO.superCall(this,"mergeOption",Z);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(Z,e){return Fn(this,["value"])},_createSelectableList:function(){var v=this.getRawData();var Z=v.mapDimension("value");var k=[];for(var e=0,m=v.count();e<m;e++){k.push({name:v.getName(e),value:v.get(Z,e),selected:Hh(v,e,"selected")})}return k},getDataParams:function(Z){var k=this.getData();var i=AO.superCall(this,"getDataParams",Z);var e=[];k.each(k.mapDimension("value"),function(m){e.push(m)});i.percent=FZ(e,Z,k.hostModel.get("percentPrecision"));i.$vars.push("percent");return i},_defaultLabelLine:function(Z){XI(Z,"labelLine",["show"]);var e=Z.labelLine;var i=Z.emphasis.labelLine;e.show=e.show&&Z.label.show;i.show=i.show&&Z.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:true,percentPrecision:2,stillShowZeroSum:true,label:{rotate:false,show:true,position:"outer"},labelLine:{show:true,length:15,length2:15,smooth:false,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});eG(AO,QP);function QV(k,WH,i,PI){var e=WH.getData();var m=this.dataIndex;var Z=e.getName(m);var v=WH.get("selectedOffset");PI.dispatchAction({type:"pieToggleSelect",from:k,name:Z,seriesId:WH.id});e.each(function(XY){Kb(e.getItemGraphicEl(XY),e.getItemLayout(XY),WH.isSelected(e.getName(XY)),v,i)})}function Kb(i,k,Z2,XY,e){var WH=(k.startAngle+k.endAngle)/2;var PI=Math.cos(WH);var m=Math.sin(WH);var Z=Z2?XY:0;var v=[PI*Z,m*Z];e?i.animate().when(200,{position:v}).start("bounceOut"):i.attr("position",v)}function JS(PI,m){U3.call(this);var Z=new LA({z2:2});var k=new JI();var i=new FW();this.add(Z);this.add(k);this.add(i);this.updateData(PI,m,true);function v(){k.ignore=k.hoverIgnore;i.ignore=i.hoverIgnore}function e(){k.ignore=k.normalIgnore;i.ignore=i.normalIgnore}this.on("emphasis",v).on("normal",e).on("mouseover",v).on("mouseout",e)}var Ec=JS.prototype;Ec.updateData=function(i,m,k){var v=this.childAt(0);var g2=i.hostModel;var e=i.getItemModel(m);var PI=i.getItemLayout(m);var XY=XN({},PI);XY.label=null;if(k){v.setShape(XY);var g1=g2.getShallow("animationType");if(g1==="scale"){v.shape.r=PI.r0;ef(v,{shape:{r:PI.r}},g2,m)}else{v.shape.endAngle=PI.startAngle;Qr(v,{shape:{endAngle:PI.endAngle}},g2,m)}}else{Qr(v,{shape:XY},g2,m)}var cc=i.getItemVisual(m,"color");v.useStyle(IK({lineJoin:"bevel",fill:cc},e.getModel("itemStyle").getItemStyle()));v.hoverStyle=e.getModel("emphasis.itemStyle").getItemStyle();var Z=e.getShallow("cursor");Z&&v.attr("cursor",Z);Kb(this,i.getItemLayout(m),g2.isSelected(null,m),g2.get("selectedOffset"),g2.get("animation"));function Z2(){v.stopAnimation(true);v.animateTo({shape:{r:PI.r+g2.get("hoverOffset")}},300,"elasticOut")}function WH(){v.stopAnimation(true);v.animateTo({shape:{r:PI.r}},300,"elasticOut")}v.off("mouseover").off("mouseout").off("emphasis").off("normal");if(e.get("hoverAnimation")&&g2.isAnimationEnabled()){v.on("mouseover",Z2).on("mouseout",WH).on("emphasis",Z2).on("normal",WH)}this._updateLabel(i,m);N7(this)};Ec._updateLabel=function(m,PI){var e=this.childAt(1);var k=this.childAt(2);var g3=m.hostModel;var i=m.getItemModel(PI);var Z2=m.getItemLayout(PI);var v=Z2.label;var g1=m.getItemVisual(PI,"color");Qr(e,{shape:{points:v.linePoints||[[v.x,v.y],[v.x,v.y],[v.x,v.y]]}},g3,PI);Qr(k,{style:{x:v.x,y:v.y}},g3,PI);k.attr({rotation:v.rotation,origin:[v.x,v.y],z2:10});var XY=i.getModel("label");var WH=i.getModel("emphasis.label");var g2=i.getModel("labelLine");var Z=i.getModel("emphasis.labelLine");var g1=m.getItemVisual(PI,"color");HB(k.style,k.hoverStyle={},XY,WH,{labelFetcher:m.hostModel,labelDataIndex:PI,defaultText:m.getName(PI),autoColor:g1,useInsideStyle:!!v.inside},{textAlign:v.textAlign,textVerticalAlign:v.verticalAlign,opacity:m.getItemVisual(PI,"opacity")});k.ignore=k.normalIgnore=!XY.get("show");k.hoverIgnore=!WH.get("show");e.ignore=e.normalIgnore=!g2.get("show");e.hoverIgnore=!Z.get("show");e.setStyle({stroke:g1,opacity:m.getItemVisual(PI,"opacity")});e.setStyle(g2.getModel("lineStyle").getLineStyle());e.hoverStyle=Z.getModel("lineStyle").getLineStyle();var cc=g2.get("smooth");if(cc&&cc===true){cc=0.4}e.setShape({smooth:cc})};K8(JS,U3);var Rm=MQ.extend({type:"pie",init:function(){var Z=new U3();this._sectorGroup=Z},render:function(g4,i,g2,k){if(k&&(k.from===this.uid)){return}var m=g4.getData();var PI=this._data;var XY=this.group;var WH=i.get("animation");var cc=!PI;var g3=g4.get("animationType");var g1=c3(QV,this.uid,g4,WH,g2);var e=g4.get("selectedMode");m.diff(PI).add(function(g5){var g6=new JS(m,g5);if(cc&&g3!=="scale"){g6.eachChild(function(g7){g7.stopAnimation(true)})}e&&g6.on("click",g1);m.setItemGraphicEl(g5,g6);XY.add(g6)}).update(function(g5,g6){var g7=PI.getItemGraphicEl(g6);g7.updateData(m,g5);g7.off("click");e&&g7.on("click",g1);XY.add(g7);m.setItemGraphicEl(g5,g7)}).remove(function(g5){var g6=PI.getItemGraphicEl(g5);XY.remove(g6)}).execute();if(WH&&cc&&m.count()>0&&g3!=="scale"){var Z=m.getItemLayout(0);var v=Math.max(g2.getWidth(),g2.getHeight())/2;var Z2=ei(XY.removeClipPath,XY);XY.setClipPath(this._createClipPath(Z.cx,Z.cy,v,Z.startAngle,Z.clockwise,Z2,g4))}this._data=m},dispose:function(){},_createClipPath:function(v,k,Z,WH,i,e,m){var PI=new LA({shape:{cx:v,cy:k,r0:0,r:Z,startAngle:WH,endAngle:WH,clockwise:i}});ef(PI,{shape:{endAngle:WH+(i?1:-1)*Math.PI*2}},m,e);return PI},containPoint:function(e,Z){var PI=Z.getData();var v=PI.getItemLayout(0);if(v){var i=e[0]-v.cx;var m=e[1]-v.cy;var k=Math.sqrt(i*i+m*m);return k<=v.r&&k>=v.r0}}});var En=function(e,Z){Dy(Z,function(i){i.update="updateView";S9(i,function(m,k){var v={};k.eachComponent({mainType:"series",subType:e,query:m},function(PI){if(PI[i.method]){PI[i.method](m.name,m.dataIndex)}var WH=PI.getData();WH.each(function(Z2){var XY=WH.getName(Z2);v[XY]=PI.isSelected(XY)||false})});return{name:m.name,selected:v}})})};var dz=function(Z){return{getTargetSeries:function(i){var k={};var e=Fj();i.eachSeriesByType(Z,function(m){m.__paletteScope=k;e.set(m.uid,m)});return e},reset:function(e,k){var i=e.getRawData();var m={};var v=e.getData();v.each(function(WH){var PI=v.getRawIndex(WH);m[PI]=WH});i.each(function(PI){var Z2=m[PI];var XY=Z2!=null&&v.getItemVisual(Z2,"color",true);if(!XY){var WH=i.getItemModel(PI);var cc=WH.get("itemStyle.color")||e.getColorFromPalette(i.getName(PI)||(PI+""),e.__paletteScope,i.count());i.setItemVisual(PI,"color",cc);if(Z2!=null){v.setItemVisual(Z2,"color",cc)}}else{i.setItemVisual(PI,"color",XY)}})}}};function FR(m,XY,WH,Z,k,cc,g6){m.sort(function(g7,i){return g7.y-i.y});function g2(g9,g8,g7,i){for(var ha=g9;ha<g8;ha++){m[ha].y+=g7;if(ha>g9&&ha+1<g8&&m[ha+1].y>m[ha].y+m[ha].height){PI(ha,g7/2);return}}PI(g8-1,g7/2)}function PI(g7,i){for(var g8=g7;g8>=0;g8--){m[g8].y-=i;if(g8>0&&m[g8].y>m[g8-1].y+m[g8-1].height){break}}}function g1(ha,hg,he,hc,g7,g9){var hb=g9>0?hg?Number.MAX_VALUE:0:hg?Number.MAX_VALUE:0;for(var hf=0,hh=ha.length;hf<hh;hf++){if(ha[hf].position==="center"){continue}var g8=Math.abs(ha[hf].y-hc);var hd=ha[hf].len;var hi=ha[hf].len2;var hj=(g8<g7+hd)?Math.sqrt((g7+hd+hi)*(g7+hd+hi)-g8*g8):Math.abs(ha[hf].x-he);if(hg&&hj>=hb){hj=hb-10}if(!hg&&hj<=hb){hj=hb+10}ha[hf].x=he+hj*g9;hb=hj}}var g4=0;var g3;var e=m.length;var Z2=[];var v=[];for(var g5=0;g5<e;g5++){g3=m[g5].y-g4;if(g3<0){g2(g5,e,-g3,k)}g4=m[g5].y+m[g5].height}if(g6-g4<0){PI(e-1,g4-g6)}for(var g5=0;g5<e;g5++){if(m[g5].y>=WH){v.push(m[g5])}else{Z2.push(m[g5])}}g1(Z2,false,XY,WH,Z,k);g1(v,true,XY,WH,Z,k)}function IO(e,v,k,Z,WH,g1){var cc=[];var PI=[];for(var Z2=0;Z2<e.length;Z2++){if(e[Z2].x<v){cc.push(e[Z2])}else{PI.push(e[Z2])}}FR(PI,v,k,Z,1,WH,g1);FR(cc,v,k,Z,-1,WH,g1);for(var Z2=0;Z2<e.length;Z2++){var m=e[Z2].linePoints;if(m){var XY=m[1][0]-m[2][0];if(e[Z2].x<v){m[2][0]=e[Z2].x+3}else{m[2][0]=e[Z2].x-3}m[1][1]=m[2][1]=e[Z2].y;m[1][0]=m[2][0]+XY}}}var Gq=function(XY,Z,v,WH){var i=XY.getData();var e=[];var m;var k;var PI=false;i.each(function(hl){var g7=i.getItemLayout(hl);var g3=i.getItemModel(hl);var cc=g3.getModel("label");var Z2=cc.get("position")||g3.get("emphasis.label.position");var hi=g3.getModel("labelLine");var hg=hi.get("length");var hc=hi.get("length2");var hk=(g7.startAngle+g7.endAngle)/2;var g5=Math.cos(hk);var hf=Math.sin(hk);var hj;var hd;var g4;var g8;m=g7.cx;k=g7.cy;var g6=Z2==="inside"||Z2==="inner";if(Z2==="center"){hj=g7.cx;hd=g7.cy;g8="center"}else{var g2=(g6?(g7.r+g7.r0)/2*g5:g7.r*g5)+m;var hh=(g6?(g7.r+g7.r0)/2*hf:g7.r*hf)+k;hj=g2+g5*3;hd=hh+hf*3;if(!g6){var hm=g2+g5*(hg+Z-g7.r);var hn=hh+hf*(hg+Z-g7.r);var he=hm+((g5<0?-1:1)*hc);var g9=hn;hj=he+(g5<0?-5:5);hd=g9;g4=[[g2,hh],[hm,hn],[he,g9]]}g8=g6?"center":(g5>0?"left":"right")}var ho=cc.getFont();var g1=cc.get("rotate")?(g5<0?-hk+Math.PI:-hk):0;var hb=XY.getFormattedLabel(hl,"normal")||i.getName(hl);var ha=HY(hb,ho,g8,"top");PI=!!g1;g7.label={x:hj,y:hd,position:Z2,height:ha.height,len:hg,len2:hc,linePoints:g4,textAlign:g8,verticalAlign:"middle",rotation:g1,inside:g6};if(!g6){e.push(g7.label)}});if(!PI&&XY.get("avoidLabelOverlap")){IO(e,m,k,Z,v,WH)}};var fr=Math.PI*2;var gg=Math.PI/180;var Nq=function(i,Z,k,e){Z.eachSeriesByType(i,function(g1){var hf=g1.getData();var g6=hf.mapDimension("value");var hi=g1.get("center");var Z2=g1.get("radius");if(!cW(Z2)){Z2=[0,Z2]}if(!cW(hi)){hi=[hi,hi]}var ha=k.getWidth();var hh=k.getHeight();var XY=Math.min(ha,hh);var WH=Pw(hi[0],ha);var hb=Pw(hi[1],hh);var g5=Pw(Z2[0],XY/2);var m=Pw(Z2[1],XY/2);var g3=-g1.get("startAngle")*gg;var hd=g1.get("minAngle")*gg;var v=0;hf.each(g6,function(hk){!isNaN(hk)&&v++});var g4=hf.getSum(g6);var g2=Math.PI/(g4||v)*2;var PI=g1.get("clockwise");var hg=g1.get("roseType");var g9=g1.get("stillShowZeroSum");var hc=hf.getDataExtent(g6);hc[0]=0;var he=fr;var cc=0;var g8=g3;var g7=PI?1:-1;hf.each(g6,function(hm,hl){var hn;if(isNaN(hm)){hf.setItemLayout(hl,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:PI,cx:WH,cy:hb,r0:g5,r:hg?NaN:m});return}if(hg!=="area"){hn=(g4===0&&g9)?g2:(hm*g2)}else{hn=fr/v}if(hn<hd){hn=hd;he-=hd}else{cc+=hm}var hk=g8+g7*hn;hf.setItemLayout(hl,{angle:hn,startAngle:g8,endAngle:hk,clockwise:PI,cx:WH,cy:hb,r0:g5,r:hg?Yv(hm,hc,[g5,m]):m});g8=hk});if(he<fr&&v){if(he<=0.001){var hj=fr/v;hf.each(g6,function(hl,hk){if(!isNaN(hl)){var hm=hf.getItemLayout(hk);hm.angle=hj;hm.startAngle=g3+g7*hk*hj;hm.endAngle=g3+g7*(hk+1)*hj}})}else{g2=he/cc;g8=g3;hf.each(g6,function(hm,hk){if(!isNaN(hm)){var hn=hf.getItemLayout(hk);var hl=hn.angle===hd?hd:hm*g2;hn.startAngle=g8;hn.endAngle=g8+g7*hl;g8+=g7*hl}})}}Gq(g1,m,ha,hh)})};var EG=function(Z){return{seriesType:Z,reset:function(e,i){var k=i.findComponents({mainType:"legend"});if(!k||!k.length){return}var m=e.getData();m.filterSelf(function(WH){var PI=m.getName(WH);for(var v=0;v<k.length;v++){if(!k[v].isSelected(PI)){return false}}return true})}}};En("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);Ao(dz("pie"));gH(c3(Nq,"pie"));dU(EG("pie"));S7.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(Z,e){return VR(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var Z=this.option.progressive;if(Z==null){return this.option.large?5000:this.get("progressive")}return Z},getProgressiveThreshold:function(){var Z=this.option.progressiveThreshold;if(Z==null){return this.option.large?10000:this.get("progressiveThreshold")}return Z},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,symbolSize:10,large:false,largeThreshold:2000,itemStyle:{opacity:0.8},progressive:null}});var Ki=4;var dN=Ck({shape:{points:null},symbolProxy:null,buildPath:function(WH,e){var XY=e.points;var m=e.size;var k=this.symbolProxy;var v=k.shape;var cc=WH.getContext?WH.getContext():WH;var Z=cc&&m[0]<Ki;if(Z){return}for(var PI=0;PI<XY.length;){var g1=XY[PI++];var Z2=XY[PI++];if(isNaN(g1)||isNaN(Z2)){continue}v.x=g1-m[0]/2;v.y=Z2-m[1]/2;v.width=m[0];v.height=m[1];k.buildPath(WH,v,true)}},afterBrush:function(v){var k=this.shape;var e=k.points;var m=k.size;var Z=m[0]<Ki;if(!Z){return}this.setTransform(v);for(var PI=0;PI<e.length;){var WH=e[PI++];var XY=e[PI++];if(isNaN(WH)||isNaN(XY)){continue}v.fillRect(WH-m[0]/2,XY-m[1]/2,m[0],m[1])}this.restoreTransform(v)},findDataIndex:function(Z2,cc){var e=this.shape;var Z=e.points;var g1=e.size;var v=Math.max(g1[0],4);var PI=Math.max(g1[1],4);for(var k=Z.length/2-1;k>=0;k--){var WH=k*2;var m=Z[WH]-v/2;var XY=Z[WH+1]-PI/2;if(Z2>=m&&cc>=XY&&Z2<=m+v&&cc<=XY+PI){return k}}return -1}});function S1(){this.group=new U3()}var FI=S1.prototype;FI.isPersistent=function(){return !this._incremental};FI.updateData=function(e){this.group.removeAll();var Z=new dN({rectHover:true,cursor:"default"});Z.setShape({points:e.getLayout("symbolPoints")});this._setCommon(Z,e);this.group.add(Z);this._incremental=null};FI.updateLayout=function(e){if(this._incremental){return}var Z=e.getLayout("symbolPoints");this.group.eachChild(function(k){if(k.startIndex!=null){var m=(k.endIndex-k.startIndex)*2;var i=k.startIndex*4*2;Z=new Float32Array(Z.buffer,i,m)}k.setShape("points",Z)})};FI.incrementalPrepareUpdate=function(Z){this.group.removeAll();this._clearIncremental();if(Z.count()>2000000){if(!this._incremental){this._incremental=new Oo({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};FI.incrementalUpdate=function(e,i){var Z;if(this._incremental){Z=new dN();this._incremental.addDisplayable(Z,true)}else{Z=new dN({rectHover:true,cursor:"default",startIndex:e.start,endIndex:e.end});Z.incremental=true;this.group.add(Z)}Z.setShape({points:i.getLayout("symbolPoints")});this._setCommon(Z,i,!!this._incremental)};FI._setCommon=function(k,PI,m){var Z=PI.hostModel;var v=PI.getVisual("symbolSize");k.setShape("size",(v instanceof Array)?v:[v,v]);k.symbolProxy=FK(PI.getVisual("symbol"),0,0,0,0);k.setColor=k.symbolProxy.setColor;var i=k.shape.size[0]<Ki;k.useStyle(Z.getModel("itemStyle").getItemStyle(i?["color","shadowBlur","shadowColor"]:["color"]));var e=PI.getVisual("color");if(e){k.setColor(e)}if(!m){k.seriesIndex=Z.seriesIndex;k.on("mousemove",function(XY){k.dataIndex=null;var WH=k.findDataIndex(XY.offsetX,XY.offsetY);if(WH>=0){k.dataIndex=WH+(k.startIndex||0)}})}};FI.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};FI._clearIncremental=function(){var Z=this._incremental;if(Z){Z.clearDisplaybles()}};YB({type:"scatter",render:function(Z,e,k){var m=Z.getData();var i=this._updateSymbolDraw(m,Z);i.updateData(m);this._finished=true},incrementalPrepareRender:function(Z,e,k){var m=Z.getData();var i=this._updateSymbolDraw(m,Z);i.incrementalPrepareUpdate(m);this._finished=false},incrementalRender:function(e,Z,i){this._symbolDraw.incrementalUpdate(e,Z.getData());this._finished=e.end===Z.getData().count()},updateTransform:function(Z,e,k){var m=Z.getData();this.group.dirty();if(!this._finished||m.count()>10000||!this._symbolDraw.isPersistent()){return{update:true}}else{var i=IP().reset(Z);if(i.progress){i.progress({start:0,end:m.count()},m)}this._symbolDraw.updateLayout(m)}},_updateSymbolDraw:function(m,Z){var i=this._symbolDraw;var e=Z.pipelineContext;var k=e.large;if(!i||k!==this._isLargeDraw){i&&i.remove();i=this._symbolDraw=k?new S1():new gu();this._isLargeDraw=k;this.group.removeAll()}this.group.add(i.group);return i},remove:function(Z,e){this._symbolDraw&&this._symbolDraw.remove(true);this._symbolDraw=null},dispose:function(){}});Ao(RB("scatter","circle"));gH(IP("scatter"));function GH(e,i,Z){Vs.call(this,e,i,Z);this.type="value";this.angle=0;this.name="";this.model}K8(GH,Vs);function I1(e,Z,i){this._model=e;this.dimensions=[];this._indicatorAxes=QL(e.getIndicatorModels(),function(PI,v){var m="indicator_"+v;var k=new GH(m,new Ko());k.name=PI.get("name");k.model=PI;PI.axis=k;this.dimensions.push(m);return k},this);this.resize(e,i);this.cx;this.cy;this.r;this.startAngle}I1.prototype.getIndicatorAxes=function(){return this._indicatorAxes};I1.prototype.dataToPoint=function(e,i){var Z=this._indicatorAxes[i];return this.coordToPoint(Z.dataToCoord(e),i)};I1.prototype.coordToPoint=function(e,m){var Z=this._indicatorAxes[m];var v=Z.angle;var i=this.cx+e*Math.cos(v);var k=this.cy-e*Math.sin(v);return[i,k]};I1.prototype.pointToData=function(Z){var Z2=Z[0]-this.cx;var PI=Z[1]-this.cy;var WH=Math.sqrt(Z2*Z2+PI*PI);Z2/=WH;PI/=WH;var m=Math.atan2(-PI,Z2);var e=Infinity;var g1;var cc=-1;for(var v=0;v<this._indicatorAxes.length;v++){var XY=this._indicatorAxes[v];var k=Math.abs(m-XY.angle);if(k<e){g1=XY;cc=v;e=k}}return[cc,+(g1&&g1.coodToData(WH))]};I1.prototype.resize=function(m,v){var e=m.get("center");var k=v.getWidth();var Z=v.getHeight();var i=Math.min(k,Z)/2;this.cx=Pw(e[0],k);this.cy=Pw(e[1],Z);this.startAngle=m.get("startAngle")*Math.PI/180;this.r=Pw(m.get("radius"),i);Dy(this._indicatorAxes,function(PI,WH){PI.setExtent(0,this.r);var XY=(this.startAngle+WH*Math.PI*2/this._indicatorAxes.length);XY=Math.atan2(Math.sin(XY),Math.cos(XY));PI.angle=XY},this)};I1.prototype.update=function(e,v){var Z=this._indicatorAxes;var i=this._model;Dy(Z,function(PI){PI.scale.setExtent(Infinity,-Infinity)});e.eachSeriesByType("radar",function(PI,WH){if(PI.get("coordinateSystem")!=="radar"||e.getComponent("radar",PI.get("radarIndex"))!==i){return}var XY=PI.getData();Dy(Z,function(Z2){Z2.scale.unionExtentFromData(XY,XY.mapDimension(Z2.dim))})},this);var k=i.get("splitNumber");function m(PI){var WH=Math.pow(10,Math.floor(Math.log(PI)/Math.LN10));var XY=PI/WH;if(XY===2){XY=5}else{XY*=2}return XY*WH}Dy(Z,function(WH,g2){var PI=RM(WH.scale,WH.model);WA(WH.scale,WH.model);var cc=WH.model;var Z2=WH.scale;var g7=cc.getMin();var g4=cc.getMax();var g5=Z2.getInterval();if(g7!=null&&g4!=null){Z2.setExtent(+g7,+g4);Z2.setInterval((g4-g7)/k)}else{if(g7!=null){var g8;do{g8=g7+g5*k;Z2.setExtent(+g7,g8);Z2.setInterval(g5);g5=m(g5)}while(g8<PI[1]&&isFinite(g8)&&isFinite(PI[1]))}else{if(g4!=null){var XY;do{XY=g4-g5*k;Z2.setExtent(XY,+g4);Z2.setInterval(g5);g5=m(g5)}while(XY>PI[0]&&isFinite(XY)&&isFinite(PI[0]))}else{var g1=Z2.getTicks().length-1;if(g1>k){g5=m(g5)}var g6=Math.round((PI[0]+PI[1])/2/g5)*g5;var g3=Math.round(k/2);Z2.setExtent(Gu(g6-g3*g5),Gu(g6+(k-g3)*g5));Z2.setInterval(g5)}}}})};I1.dimensions=[];I1.create=function(e,i){var Z=[];e.eachComponent("radar",function(k){var m=new I1(k,e,i);Z.push(m);k.coordinateSystem=m});e.eachSeriesByType("radar",function(k){if(k.get("coordinateSystem")==="radar"){k.coordinateSystem=Z[k.get("radarIndex")||0]}});return Z};Rn.register("radar",I1);var V4=dt.valueAxis;function Gv(Z,e){return IK({show:e},Z)}var MU=Hl({type:"radar",optionUpdated:function(){var v=this.get("boundaryGap");var WH=this.get("splitNumber");var e=this.get("scale");var Z2=this.get("axisLine");var k=this.get("axisTick");var m=this.get("axisLabel");var Z=this.get("name");var XY=this.get("name.show");var i=this.get("name.formatter");var cc=this.get("nameGap");var g1=this.get("triggerEvent");var PI=QL(this.get("indicator")||[],function(g2){if(g2.max!=null&&g2.max>0&&!g2.min){g2.min=0}else{if(g2.min!=null&&g2.min<0&&!g2.max){g2.max=0}}var g4=Z;if(g2.color!=null){g4=IK({color:g2.color},Z)}g2=LB(fJ(g2),{boundaryGap:v,splitNumber:WH,scale:e,axisLine:Z2,axisTick:k,axisLabel:m,name:g2.text,nameLocation:"end",nameGap:cc,nameTextStyle:g4,triggerEvent:g1},false);if(!XY){g2.name=""}if(typeof i==="string"){var g3=g2.name;g2.name=i.replace("{value}",g3!=null?g3:"")}else{if(typeof i==="function"){g2.name=i(g2.name,g2)}}var g5=XN(new fx(g2,null,this.ecModel),Mm);g5.mainType="radar";g5.componentIndex=this.componentIndex;return g5},this);this.getIndicatorModels=function(){return PI}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:true},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:false,shape:"polygon",axisLine:LB({lineStyle:{color:"#bbb"}},V4.axisLine),axisLabel:Gv(V4.axisLabel,false),axisTick:Gv(V4.axisTick,false),splitLine:Gv(V4.splitLine,true),splitArea:Gv(V4.splitArea,true),indicator:[]}});var GB=["axisLine","axisTickLabel","axisName"];ec({type:"radar",render:function(i,e,k){var Z=this.group;Z.removeAll();this._buildAxes(i);this._buildSplitLineAndArea(i)},_buildAxes:function(i){var k=i.coordinateSystem;var e=k.getIndicatorAxes();var Z=QL(e,function(m){var v=new YS(m.model,{position:[k.cx,k.cy],rotation:m.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return v});Dy(Z,function(m){Dy(GB,m.add,m);this.group.add(m.getGroup())},this)},_buildSplitLineAndArea:function(hg){var Z=hg.coordinateSystem;var g6=Z.getIndicatorAxes();if(!g6.length){return}var g5=hg.get("shape");var cc=hg.getModel("splitLine");var hd=hg.getModel("splitArea");var e=cc.getModel("lineStyle");var hc=hd.getModel("areaStyle");var hf=cc.get("show");var he=hd.get("show");var k=e.get("color");var g7=hc.get("color");k=cW(k)?k:[k];g7=cW(g7)?g7:[g7];var PI=[];var g9=[];function ha(i,hi,hj){var hk=hj%hi.length;i[hk]=i[hk]||[];return hk}if(g5==="circle"){var m=g6[0].getTicksCoords();var WH=Z.cx;var hb=Z.cy;for(var Z2=0;Z2<m.length;Z2++){if(hf){var g2=ha(PI,k,Z2);PI[g2].push(new cE({shape:{cx:WH,cy:hb,r:m[Z2]}}))}if(he&&Z2<m.length-1){var g2=ha(g9,g7,Z2);g9[g2].push(new PJ({shape:{cx:WH,cy:hb,r0:m[Z2],r:m[Z2+1]}}))}}}else{var g3;var XY=QL(g6,function(i,hj){var hi=i.getTicksCoords();g3=g3==null?hi.length-1:Math.min(hi.length-1,g3);return QL(hi,function(hk){return Z.coordToPoint(hk,hj)})});var hh=[];for(var Z2=0;Z2<=g3;Z2++){var g8=[];for(var g4=0;g4<g6.length;g4++){g8.push(XY[g4][Z2])}if(g8[0]){g8.push(g8[0].slice())}else{if(W1){console.error("Can't draw value axis "+Z2)}}if(hf){var g2=ha(PI,k,Z2);PI[g2].push(new JI({shape:{points:g8}}))}if(he&&hh){var g2=ha(g9,g7,Z2-1);g9[g2].push(new Hd({shape:{points:g8.concat(hh)}}))}hh=g8.slice().reverse()}}var g1=e.getLineStyle();var v=hc.getAreaStyle();Dy(g9,function(hi,i){this.group.add(HX(hi,{style:IK({stroke:"none",fill:g7[i%g7.length]},v),silent:true}))},this);Dy(PI,function(hi,i){this.group.add(HX(hi,{style:IK({fill:"none",stroke:k[i%k.length]},g1),silent:true}))},this)}});var Og=S7.extend({type:"series.radar",dependencies:["radar"],init:function(Z){Og.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(Z,e){return Fn(this,{generateCoord:"indicator_",generateCoordCount:Infinity})},formatTooltip:function(Z){var m=this.getData();var i=this.coordinateSystem;var e=i.getIndicatorAxes();var k=this.getData().getName(Z);return Qp(k===""?this.name:k)+"<br/>"+QL(e,function(WH,v){var PI=m.get(m.mapDimension(WH.dim),Z);return Qp(WH.name+" : "+PI)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:true,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});function G0(Z){if(!cW(Z)){Z=[+Z,+Z]}return Z}YB({type:"radar",render:function(Z2,i,XY){var e=Z2.coordinateSystem;var WH=this.group;var k=Z2.getData();var m=this._data;function v(g5,g2){var cc=g5.getItemVisual(g2,"symbol")||"circle";var g4=g5.getItemVisual(g2,"color");if(cc==="none"){return}var g3=G0(g5.getItemVisual(g2,"symbolSize"));var g1=FK(cc,-1,-1,2,2,g4);g1.attr({style:{strokeNoScale:true},z2:100,scale:[g3[0]/2,g3[1]/2]});return g1}function PI(g6,g3,g7,g2,g4,g1){g7.removeAll();for(var g5=0;g5<g3.length-1;g5++){var cc=v(g2,g4);if(cc){cc.__dimIdx=g5;if(g6[g5]){cc.attr("position",g6[g5]);S8[g1?"initProps":"updateProps"](cc,{position:g3[g5]},Z2,g4)}else{cc.attr("position",g3[g5])}g7.add(cc)}}}function Z(cc){return QL(cc,function(g1){return[e.cx,e.cy]})}k.diff(m).add(function(g4){var g2=k.getItemLayout(g4);if(!g2){return}var g5=new Hd();var g3=new JI();var g1={shape:{points:g2}};g5.shape.points=Z(g2);g3.shape.points=Z(g2);ef(g5,g1,Z2,g4);ef(g3,g1,Z2,g4);var cc=new U3();var g6=new U3();cc.add(g3);cc.add(g5);cc.add(g6);PI(g3.shape.points,g2,g6,k,g4,true);k.setItemGraphicEl(g4,cc)}).update(function(g1,g3){var g6=m.getItemGraphicEl(g3);var g4=g6.childAt(0);var cc=g6.childAt(1);var g5=g6.childAt(2);var g2={shape:{points:k.getItemLayout(g1)}};if(!g2.shape.points){return}PI(g4.shape.points,g2.shape.points,g5,k,g1,false);Qr(g4,g2,Z2);Qr(cc,g2,Z2);k.setItemGraphicEl(g1,g6)}).remove(function(cc){WH.remove(m.getItemGraphicEl(cc))}).execute();k.eachItemGraphicEl(function(hc,hg){var g2=k.getItemModel(hg);var ha=hc.childAt(0);var g4=hc.childAt(1);var g8=hc.childAt(2);var g1=k.getItemVisual(hg,"color");WH.add(hc);ha.useStyle(IK(g2.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:g1}));ha.hoverStyle=g2.getModel("emphasis.lineStyle").getLineStyle();var g3=g2.getModel("areaStyle");var g7=g2.getModel("emphasis.areaStyle");var he=g3.isEmpty()&&g3.parentModel.isEmpty();var hb=g7.isEmpty()&&g7.parentModel.isEmpty();hb=hb&&he;g4.ignore=he;g4.useStyle(IK(g3.getAreaStyle(),{fill:g1,opacity:0.7}));g4.hoverStyle=g7.getAreaStyle();var hf=g2.getModel("itemStyle").getItemStyle(["color"]);var hd=g2.getModel("emphasis.itemStyle").getItemStyle();var cc=g2.getModel("label");var g9=g2.getModel("emphasis.label");g8.eachChild(function(hh){hh.setStyle(hf);hh.hoverStyle=fJ(hd);HB(hh.style,hh.hoverStyle,cc,g9,{labelFetcher:k.hostModel,labelDataIndex:hg,labelDimIndex:hh.__dimIdx,defaultText:k.get(k.dimensions[hh.__dimIdx],hg),autoColor:g1,isRectText:true})});function g5(){g4.attr("ignore",hb)}function g6(){g4.attr("ignore",he)}hc.off("mouseover").off("mouseout").off("normal").off("emphasis");hc.on("emphasis",g5).on("mouseover",g5).on("normal",g6).on("mouseout",g6);N7(hc)});this._data=k},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});var Qe=function(Z){Z.eachSeriesByType("radar",function(k){var XY=k.getData();var PI=[];var v=k.coordinateSystem;if(!v){return}function WH(Z2,i){PI[i]=PI[i]||[];PI[i][m]=v.dataToPoint(Z2,m)}var e=v.getIndicatorAxes();for(var m=0;m<v.getIndicatorAxes().length;m++){XY.each(XY.mapDimension(e[m].dim),WH)}XY.each(function(i){PI[i][0]&&PI[i].push(PI[i][0].slice());XY.setItemLayout(i,PI[i])})})};var Ir=function(Z){var i=Z.polar;if(i){if(!cW(i)){i=[i]}var e=[];Dy(i,function(m,k){if(m.indicator){if(m.type&&!m.shape){m.shape=m.type}Z.radar=Z.radar||[];if(!cW(Z.radar)){Z.radar=[Z.radar]}Z.radar.push(m)}else{e.push(m)}});Z.polar=e}Dy(Z.series,function(k){if(k&&k.type==="radar"&&k.polarIndex){k.radarIndex=k.polarIndex}})};Ao(dz("radar"));Ao(RB("radar","circle"));gH(Qe);dU(EG("radar"));Jo(Ir);var gt=Ip;function Tj(){T2.call(this)}eG(Tj,T2);function Bg(Z){this.name=Z;this.zoomLimit;T2.call(this);this._roamTransformable=new Tj();this._rawTransformable=new Tj();this._center;this._zoom}Bg.prototype={constructor:Bg,type:"view",dimensions:["x","y"],setBoundingRect:function(e,i,k,Z){this._rect=new FY(e,i,k,Z);return this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,i,k,Z){this.transformTo(e,i,k,Z);this._viewRect=new FY(e,i,k,Z)},transformTo:function(i,k,m,Z){var e=this.getBoundingRect();var v=this._rawTransformable;v.transform=e.calculateTransform(new FY(i,k,m,Z));v.decomposeTransform();this._updateTransform()},setCenter:function(Z){if(!Z){return}this._center=Z;this._updateCenterAndZoom()},setZoom:function(e){e=e||1;var Z=this.zoomLimit;if(Z){if(Z.max!=null){e=Math.min(Z.max,e)}if(Z.min!=null){e=Math.max(Z.min,e)}}this._zoom=e;this._updateCenterAndZoom()},getDefaultCenter:function(){var Z=this.getBoundingRect();var i=Z.x+Z.width/2;var e=Z.y+Z.height/2;return[i,e]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var Z=this._rawTransformable.getLocalTransform();var k=this._roamTransformable;var e=this.getDefaultCenter();var i=this.getCenter();var m=this.getZoom();i=Ip([],i,Z);e=Ip([],e,Z);k.origin=i;k.position=[e[0]-i[0],e[1]-i[1]];k.scale=[m,m];this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable;var Z=this._rawTransformable;Z.parent=e;e.updateTransform();Z.updateTransform();dg(this.transform||(this.transform=[]),Z.transform||HZ());this._rawTransform=Z.getLocalTransform();this.invTransform=this.invTransform||[];WL(this.invTransform,this.transform);this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var Z=this.getBoundingRect().clone();Z.applyTransform(this.transform);return Z},dataToPoint:function(k,i,e){var Z=i?this._rawTransform:this.transform;e=e||[];return Z?gt(e,k,Z):HF(e,k)},pointToData:function(Z){var e=this.invTransform;return e?gt([],Z,e):[Z[0],Z[1]]},convertToPixel:c3(GF,"dataToPoint"),convertFromPixel:c3(GF,"pointToData"),containPoint:function(Z){return this.getViewRectAfterRoam().contain(Z[0],Z[1])}};eG(Bg,T2);function GF(i,e,m,k){var Z=m.seriesModel;var v=Z?Z.coordinateSystem:null;return v===this?v[i](k):null}var Dc=[126,25];var K0=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Sn=0;Sn<K0.length;Sn++){for(var PG=0;PG<K0[Sn].length;PG++){K0[Sn][PG][0]/=10.5;K0[Sn][PG][1]/=-10.5/0.75;K0[Sn][PG][0]+=Dc[0];K0[Sn][PG][1]+=Dc[1]}}var Vw=function(Z){if(Z.map==="china"){Z.regions.push(new bz("",QL(K0,function(e){return{type:"polygon",exterior:e}}),Dc))}};var De={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]};var f7=function(Z){Dy(Z.regions,function(e){var i=De[e.name];if(i){var k=e.center;k[0]+=i[0]/10.5;k[1]+=-i[1]/(10.5/0.75)}})};var HJ={"Russia":[100,60],"United States":[-99,38],"United States of America":[-99,38]};var Lt=function(Z){Dy(Z.regions,function(i){var e=HJ[i.name];if(e){var k=i.center;k[0]=e[0];k[1]=e[1]}})};var Mv=[[[123.451652526855,25.7352716440226],[123.497314453125,25.7352716440226],[123.497314453125,25.7507340646009],[123.451652526855,25.7507340646009],[123.451652526855,25.7352716440226]]];var Gt=function(k){if(k.map==="china"){for(var Z=0,e=k.regions.length;Z<e;++Z){if(k.regions[Z].name===""){k.regions[Z].geometries.push({type:"polygon",exterior:Mv[0]})}}}};var Nf=[Vw,f7,Lt,Gt];function Ve(k,m,Z,i,e){Bg.call(this,k);this.map=m;this._nameCoordMap=Fj();this.loadGeoJson(Z,i,e)}Ve.prototype={constructor:Ve,type:"geo",dimensions:["lng","lat"],containCoord:function(k){var Z=this.regions;for(var e=0;e<Z.length;e++){if(Z[e].contain(k)){return true}}return false},loadGeoJson:function(cc,k,PI){try{this.regions=cc?aC(cc):[]}catch(Z){throw"Invalid geoJson format\n"+Z.message}k=k||{};PI=PI||{};var XY=this.regions;var m=Fj();for(var v=0;v<XY.length;v++){var Z2=XY[v].name;Z2=PI.hasOwnProperty(Z2)?PI[Z2]:Z2;XY[v].name=Z2;m.set(Z2,XY[v]);this.addGeoCoord(Z2,XY[v].center);var WH=k[Z2];if(WH){XY[v].transformTo(WH.left,WH.top,WH.width,WH.height)}}this._regionsMap=m;this._rect=null;Dy(Nf,function(e){e(this)},this)},transformTo:function(k,m,v,Z){var i=this.getBoundingRect();i=i.clone();i.y=-i.y-i.height;var PI=this._rawTransformable;PI.transform=i.calculateTransform(new FY(k,m,v,Z));PI.decomposeTransform();var e=PI.scale;e[1]=-e[1];PI.updateTransform();this._updateTransform()},getRegion:function(Z){return this._regionsMap.get(Z)},getRegionByCoord:function(k){var Z=this.regions;for(var e=0;e<Z.length;e++){if(Z[e].contain(k)){return Z[e]}}},addGeoCoord:function(e,Z){this._nameCoordMap.set(e,Z)},getGeoCoord:function(Z){return this._nameCoordMap.get(Z)},getBoundingRect:function(){if(this._rect){return this._rect}var k;var m=this.regions;for(var Z=0;Z<m.length;Z++){var e=m[Z].getBoundingRect();k=k||e.clone();k.union(e)}return(this._rect=k||new FY(0,0,0,0))},dataToPoint:function(i,e,Z){if(typeof i==="string"){i=this.getGeoCoord(i)}if(i){return Bg.prototype.dataToPoint.call(this,i,e,Z)}},convertToPixel:c3(O8,"dataToPoint"),convertFromPixel:c3(O8,"pointToData")};eG(Ve,Bg);function O8(k,i,v,m){var Z=v.geoModel;var e=v.seriesModel;var PI=Z?Z.coordinateSystem:e?(e.coordinateSystem||(e.getReferringComponents("geo")[0]||{}).coordinateSystem):null;return PI===this?PI[k](m):null}function Tv(g4,g2){var Z2=g4.get("boundingCoords");if(Z2!=null){var cc=Z2[0];var g1=Z2[1];if(isNaN(cc[0])||isNaN(cc[1])||isNaN(g1[0])||isNaN(g1[1])){if(W1){console.error("Invalid boundingCoords")}}else{this.setBoundingRect(cc[0],cc[1],g1[0]-cc[0],g1[1]-cc[1])}}var k=this.getBoundingRect();var v;var Z=g4.get("layoutCenter");var XY=g4.get("layoutSize");var PI=g2.getWidth();var e=g2.getHeight();var i=g4.get("aspectScale")||0.75;var WH=k.width/k.height*i;var g3=false;if(Z&&XY){Z=[Pw(Z[0],PI),Pw(Z[1],e)];XY=Pw(XY,Math.min(PI,e));if(!isNaN(Z[0])&&!isNaN(Z[1])&&!isNaN(XY)){g3=true}else{if(W1){console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}}}var m;if(g3){var m={};if(WH>1){m.width=XY;m.height=XY/WH}else{m.height=XY;m.width=XY*WH}m.y=Z[1]-m.height/2;m.x=Z[0]-m.width/2}else{v=g4.getBoxLayoutParams();v.aspect=WH;m=CU(v,{width:PI,height:e})}this.setViewRect(m.x,m.y,m.width,m.height);this.setCenter(g4.get("center"));this.setZoom(g4.get("zoom"))}function Vb(e,Z){Dy(Z.get("geoCoord"),function(i,k){e.addGeoCoord(k,i)})}if(W1){var Al=function(Z){console.error("Map "+Z+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")}}var bh={dimensions:Ve.prototype.dimensions,create:function(e,i){var k=[];e.eachComponent("geo",function(m,WH){var v=m.get("map");var PI=Ai(v);if(W1){if(!PI){Al(v)}}var XY=new Ve(v+WH,v,PI&&PI.geoJson,PI&&PI.specialAreas,m.get("nameMap"));XY.zoomLimit=m.get("scaleLimit");k.push(XY);Vb(XY,m);m.coordinateSystem=XY;XY.model=m;XY.resize=Tv;XY.resize(m,i)});e.eachSeries(function(m){var v=m.get("coordinateSystem");if(v==="geo"){var PI=m.get("geoIndex")||0;m.coordinateSystem=k[PI]}});var Z={};e.eachSeriesByType("map",function(m){if(!m.getHostGeoModel()){var v=m.getMapType();Z[v]=Z[v]||[];Z[v].push(m)}});Dy(Z,function(v,PI){var WH=Ai(PI);if(W1){if(!WH){Al(v[0].get("map"))}}var m=QL(v,function(Z2){return Z2.get("nameMap")});var XY=new Ve(PI,PI,WH&&WH.geoJson,WH&&WH.specialAreas,F5(m));XY.zoomLimit=ER.apply(null,QL(v,function(Z2){return Z2.get("scaleLimit")}));k.push(XY);XY.resize=Tv;XY.resize(v[0],i);Dy(v,function(Z2){Z2.coordinateSystem=XY;Vb(XY,Z2)})});return k},getFilledRegions:function(cc,m,WH){var PI=(cc||[]).slice();WH=WH||{};var k=Ai(m);var Z=k&&k.geoJson;if(!Z){if(W1){Al(m)}return cc}var XY=Fj();var Z2=Z.features;for(var v=0;v<PI.length;v++){XY.set(PI[v].name,PI[v])}for(var v=0;v<Z2.length;v++){var e=Z2[v].properties.name;if(!XY.get(e)){if(WH.hasOwnProperty(e)){e=WH[e]}PI.push({name:e})}}return PI}};R1("geo",bh);var Tk=S7.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:false,seriesGroup:[],init:function(Z){Tk.superApply(this,"init",arguments);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(Z){return Fn(this,["value"])},mergeOption:function(Z){Tk.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){var v=this.getRawData();var Z=v.mapDimension("value");var k=[];for(var e=0,m=v.count();e<m;e++){k.push({name:v.getName(e),value:v.get(Z,e),selected:Hh(v,e,"selected")})}k=bh.getFilledRegions(k,this.getMapType(),this.option.nameMap);return k},getHostGeoModel:function(){var Z=this.option.geoIndex;return Z!=null?this.dependentModels.geo[Z]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(Z,e){},getRawValue:function(Z){var e=this.getData();return e.get(e.mapDimension("value"),Z)},getRegionModel:function(Z){var e=this.getData();return e.getItemModel(e.indexOfName(Z))},formatTooltip:function(Z2){var m=this.getData();var Z=M9(this.getRawValue(Z2));var e=m.getName(Z2);var XY=this.seriesGroup;var v=[];for(var WH=0;WH<XY.length;WH++){var k=XY[WH].originalData.indexOfName(e);var PI=m.mapDimension("value");if(!isNaN(XY[WH].originalData.get(PI,k))){v.push(Qp(XY[WH].name))}}return v.join(", ")+"<br />"+Qp(e+" : "+Z)},getTooltipPosition:function(Z){if(Z!=null){var e=this.getData().getName(Z);var k=this.coordinateSystem;var i=k.getRegion(e);return i&&k.dataToPoint(i.center)}},setZoom:function(Z){this.option.zoom=Z},setCenter:function(Z){this.option.center=Z},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:true,dataRangeHoverLink:true,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});eG(Tk,QP);var D7="\0_ec_interaction_mutex";function Jv(Z,k,e){var i=Bn(Z);i[k]=e}function XU(Z,k,e){var i=Bn(Z);var m=i[k];if(m===e){i[k]=null}}function R3(Z,e){return !!Bn(Z)[e]}function Bn(Z){return Z[D7]||(Z[D7]={})}S9({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});function C7(Z){this.pointerChecker;this._zr=Z;this._opt={};var v=ei;var k=v(AC,this);var i=v(Yb,this);var m=v(WJ,this);var PI=v(Fl,this);var e=v(YJ,this);cx.call(this);this.setPointerChecker=function(WH){this.pointerChecker=WH};this.enable=function(XY,WH){this.disable();this._opt=IK(fJ(WH)||{},{zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true});if(XY==null){XY=true}if(XY===true||(XY==="move"||XY==="pan")){Z.on("mousedown",k);Z.on("mousemove",i);Z.on("mouseup",m)}if(XY===true||(XY==="scale"||XY==="zoom")){Z.on("mousewheel",PI);Z.on("pinch",e)}};this.disable=function(){Z.off("mousedown",k);Z.off("mousemove",i);Z.off("mouseup",m);Z.off("mousewheel",PI);Z.off("pinch",e)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}eG(C7,cx);function AC(Z){if(gb(Z)||(Z.target&&Z.target.draggable)){return}var i=Z.offsetX;var k=Z.offsetY;if(this.pointerChecker&&this.pointerChecker(Z,i,k)){this._x=i;this._y=k;this._dragging=true}}function Yb(i){if(gb(i)||!fQ(this,"moveOnMouseMove",i)||!this._dragging||i.gestureEvent==="pinch"||R3(this._zr,"globalPan")){return}var m=i.offsetX;var v=i.offsetY;var Z=this._x;var PI=this._y;var k=m-Z;var WH=v-PI;this._x=m;this._y=v;this._opt.preventDefaultMouseMove&&GL(i.event);this.trigger("pan",k,WH,Z,PI,m,v)}function WJ(Z){if(!gb(Z)){this._dragging=false}}function Fl(Z){if(!fQ(this,"zoomOnMouseWheel",Z)||Z.wheelDelta===0){return}var i=Z.wheelDelta>0?1.1:1/1.1;Oc.call(this,Z,i,Z.offsetX,Z.offsetY)}function YJ(Z){if(R3(this._zr,"globalPan")){return}var i=Z.pinchScale>1?1.1:1/1.1;Oc.call(this,Z,i,Z.pinchX,Z.pinchY)}function Oc(i,k,Z,m){if(this.pointerChecker&&this.pointerChecker(i,Z,m)){GL(i.event);this.trigger("zoom",k,Z,m)}}function fQ(Z,k,i){var m=Z._opt[k];return m&&(!Ei(m)||i.event[m+"Key"])}function RU(e,Z,i){var k=e.target;var m=k.position;m[0]+=Z;m[1]+=i;k.dirty()}function LR(cc,Z2,v,XY){var WH=cc.target;var i=cc.zoomLimit;var PI=WH.position;var e=WH.scale;var m=cc.zoom=cc.zoom||1;m*=Z2;if(i){var g1=i.min||0;var Z=i.max||Infinity;m=Math.max(Math.min(Z,m),g1)}var k=m/cc.zoom;cc.zoom=m;PI[0]-=(v-PI[0])*(k-1);PI[1]-=(XY-PI[1])*(k-1);e[0]*=k;e[1]*=k;WH.dirty()}var V7={"axisPointer":1,"tooltip":1,"brush":1};function YM(Z,v,k){var m=v.getComponentByElement(Z.topTarget);var i=m&&m.coordinateSystem;return m&&m!==k&&!V7[m.mainType]&&(i&&i.model!==k)}function Fs(k,i){var e=k.getItemStyle();var Z=k.get("areaColor");if(Z!=null){e.fill=Z}return e}function Sx(k,i,Z,m,e){Z.off("click");Z.off("mousedown");if(i.get("selectedMode")){Z.on("mousedown",function(){k._mouseDownFlag=true});Z.on("click",function(PI){if(!k._mouseDownFlag){return}k._mouseDownFlag=false;var v=PI.target;while(!v.__regions){v=v.parent}if(!v){return}var WH={type:(i.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:QL(v.__regions,function(XY){return{name:XY.name,from:e.uid}})};WH[i.mainType+"Id"]=i.id;m.dispatchAction(WH);Y2(i,Z)})}}function Y2(e,Z){Z.eachChild(function(i){Dy(i.__regions,function(k){i.trigger(e.isSelected(k.name)?"emphasis":"normal")})})}function aZ(i,e){var Z=new U3();this._controller=new C7(i.getZr());this._controllerHost={target:e?Z:null};this.group=Z;this._updateGroup=e;this._mouseDownFlag}aZ.prototype={constructor:aZ,draw:function(Z2,i,g2,WH,k){var m=Z2.mainType==="geo";var v=Z2.getData&&Z2.getData();m&&i.eachComponent({mainType:"series",subType:"map"},function(g6){if(!v&&g6.getHostGeoModel()===Z2){v=g6.getData()}});var g3=Z2.coordinateSystem;var cc=this.group;var e=g3.scale;var Z={position:g3.position,scale:e};if(!cc.childAt(0)||k){cc.attr(Z)}else{Qr(cc,Z,Z2)}cc.removeAll();var g1=["itemStyle"];var g4=["emphasis","itemStyle"];var XY=["label"];var g5=["emphasis","label"];var PI=Fj();Dy(g3.regions,function(he){var hh=PI.get(he.name)||PI.set(he.name,new U3());var hg=new KM({shape:{paths:[]}});hh.add(hg);var hi=Z2.getRegionModel(he.name)||Z2;var hp=hi.getModel(g1);var hm=hi.getModel(g4);var ho=Fs(hp,e);var hd=Fs(hm,e);var g6=hi.getModel(XY);var g7=hi.getModel(g5);var ha;if(v){ha=v.indexOfName(he.name);var hl=v.getItemVisual(ha,"color",true);if(hl){ho.fill=hl}}Dy(he.geometries,function(hr){if(hr.type!=="polygon"){return}hg.shape.paths.push(new Hd({shape:{points:hr.exterior}}));for(var hq=0;hq<(hr.interiors?hr.interiors.length:0);hq++){hg.shape.paths.push(new Hd({shape:{points:hr.interiors[hq]}}))}});hg.setStyle(ho);hg.style.strokeNoScale=true;hg.culling=true;var g9=g6.get("show");var g8=g7.get("show");var hc=v&&isNaN(v.get(v.mapDimension("value"),ha));var hk=v&&v.getItemLayout(ha);if((m||hc&&(g9||g8))||(hk&&hk.showLabel)){var hf=!m?ha:he.name;var hb;if(!v||ha>=0){hb=Z2}var hn=new FW({position:he.center.slice(),scale:[1/e[0],1/e[1]],z2:10,silent:true});HB(hn.style,hn.hoverStyle={},g6,g7,{labelFetcher:hb,labelDataIndex:hf,defaultText:he.name,useInsideStyle:false},{textAlign:"center",textVerticalAlign:"middle"});hh.add(hn)}if(v){v.setItemGraphicEl(ha,hh)}else{var hi=Z2.getRegionModel(he.name);hg.eventData={componentType:"geo",geoIndex:Z2.componentIndex,name:he.name,region:(hi&&hi.option)||{}}}var hj=hh.__regions||(hh.__regions=[]);hj.push(he);N7(hh,hd,{hoverSilentOnTouch:!!Z2.get("selectedMode")});cc.add(hh)});this._updateController(Z2,i,g2);Sx(this,Z2,cc,g2,WH);Y2(Z2,cc)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(i,e,v){var WH=i.coordinateSystem;var k=this._controller;var Z=this._controllerHost;Z.zoomLimit=i.get("scaleLimit");Z.zoom=WH.getZoom();k.enable(i.get("roam")||false);var PI=i.mainType;function m(){var XY={type:"geoRoam",componentType:PI};XY[PI+"Id"]=i.id;return XY}k.off("pan").on("pan",function(XY,Z2){this._mouseDownFlag=false;RU(Z,XY,Z2);v.dispatchAction(XN(m(),{dx:XY,dy:Z2}))},this);k.off("zoom").on("zoom",function(g2,Z2,g1){this._mouseDownFlag=false;LR(Z,g2,Z2,g1);v.dispatchAction(XN(m(),{zoom:g2,originX:Z2,originY:g1}));if(this._updateGroup){var XY=this.group;var cc=XY.scale;XY.traverse(function(g3){if(g3.type==="text"){g3.attr("scale",[1/cc[0],1/cc[1]])}})}},this);k.setPointerChecker(function(XY,Z2,cc){return WH.getViewRectAfterRoam().contain(Z2,cc)&&!YM(XY,v,i)})}};YB({type:"map",render:function(Z,e,v,i){if(i&&i.type==="mapToggleSelect"&&i.from===this.uid){return}var m=this.group;m.removeAll();if(Z.getHostGeoModel()){return}if(!(i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===Z.id)){if(Z.needsDrawMap){var k=this._mapDraw||new aZ(v,true);m.add(k.group);k.draw(Z,e,v,this,i);this._mapDraw=k}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}}else{var k=this._mapDraw;k&&m.add(k.group)}Z.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(Z,e,v)},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(Z,e,m){var k=Z.originalData;var i=this.group;k.each(k.mapDimension("value"),function(ha,g1){if(isNaN(ha)){return}var g4=k.getItemLayout(g1);if(!g4||!g4.point){return}var XY=g4.point;var g5=g4.offset;var g7=new cE({style:{fill:Z.getData().getVisual("color")},shape:{cx:XY[0]+g5*9,cy:XY[1],r:3},silent:true,z2:!g5?10:8});if(!g5){var g9=Z.mainSeries.getData();var hb=k.getName(g1);var g8=g9.indexOfName(hb);var g6=k.getItemModel(g1);var cc=g6.getModel("label");var WH=g6.getModel("emphasis.label");var v=g9.getItemGraphicEl(g8);var Z2=Vi(Z.getFormattedLabel(g1,"normal"),hb);var PI=Vi(Z.getFormattedLabel(g1,"emphasis"),Z2);var g2=function(){var hc=DQ({},WH,{text:WH.get("show")?PI:null},{isRectText:true,useInsideStyle:false},true);g7.style.extendFrom(hc);g7.__mapOriginalZ2=g7.z2;g7.z2+=1};var g3=function(){DQ(g7.style,cc,{text:cc.get("show")?Z2:null,textPosition:cc.getShallow("position")||"bottom"},{isRectText:true,useInsideStyle:false});if(g7.__mapOriginalZ2!=null){g7.z2=g7.__mapOriginalZ2;g7.__mapOriginalZ2=null}};v.on("mouseover",g2).on("mouseout",g3).on("emphasis",g2).on("normal",g3);g3()}i.add(g7)})}});function VY(Z2,i,m){var cc=Z2.getZoom();var Z=Z2.getCenter();var k=i.zoom;var v=Z2.dataToPoint(Z);if(i.dx!=null&&i.dy!=null){v[0]-=i.dx;v[1]-=i.dy;var Z=Z2.pointToData(v);Z2.setCenter(Z)}if(k!=null){if(m){var XY=m.min||0;var e=m.max||Infinity;k=Math.max(Math.min(cc*k,e),XY)/cc}Z2.scale[0]*=k;Z2.scale[1]*=k;var WH=Z2.position;var PI=(i.originX-WH[0])*(k-1);var g1=(i.originY-WH[1])*(k-1);WH[0]-=PI;WH[1]-=g1;Z2.updateTransform();var Z=Z2.pointToData(v);Z2.setCenter(Z);Z2.setZoom(k*cc)}return{center:Z2.getCenter(),zoom:Z2.getZoom()}}S9({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,Z){var i=e.componentType||"series";Z.eachComponent({mainType:i,query:e},function(k){var v=k.coordinateSystem;if(v.type!=="geo"){return}var m=VY(v,e,k.get("scaleLimit"));k.setCenter&&k.setCenter(m.center);k.setZoom&&k.setZoom(m.zoom);if(i==="series"){Dy(k.seriesGroup,function(PI){PI.setCenter(m.center);PI.setZoom(m.zoom)})}})});var XK=function(e){var Z={};e.eachSeriesByType("map",function(k){var m=k.getMapType();if(k.getHostGeoModel()||Z[m]){return}var i={};Dy(k.seriesGroup,function(WH){var XY=WH.coordinateSystem;var PI=WH.originalData;if(WH.get("showLegendSymbol")&&e.getComponent("legend")){PI.each(PI.mapDimension("value"),function(g2,cc){var g1=PI.getName(cc);var g3=XY.getRegion(g1);if(!g3||isNaN(g2)){return}var Z2=i[g1]||0;var g4=XY.dataToPoint(g3.center);i[g1]=Z2+1;PI.setItemLayout(cc,{point:g4,offset:Z2})})}});var v=k.getData();v.each(function(WH){var PI=v.getName(WH);var XY=v.getItemLayout(WH)||{};XY.showLabel=!i[PI];v.setItemLayout(WH,XY)});Z[m]=true})};var Jj=function(Z){Z.eachSeriesByType("map",function(e){var k=e.get("color");var m=e.getModel("itemStyle");var i=m.get("areaColor");var v=m.get("color")||k[e.seriesIndex%k.length];e.getData().setVisual({"areaColor":i,"color":v})})};function YI(i,Z){var e={};Dy(i,function(k){k.each(k.mapDimension("value"),function(v,m){var PI="ec-"+k.getName(m);e[PI]=e[PI]||[];if(!isNaN(v)){e[PI].push(v)}})});return i[0].map(i[0].mapDimension("value"),function(WH,PI){var Z2="ec-"+i[0].getName(PI);var XY=0;var m=Infinity;var v=-Infinity;var g1=e[Z2].length;for(var cc=0;cc<g1;cc++){m=Math.min(m,e[Z2][cc]);v=Math.max(v,e[Z2][cc]);XY+=e[Z2][cc]}var k;if(Z==="min"){k=m}else{if(Z==="max"){k=v}else{if(Z==="average"){k=XY/g1}else{k=XY}}}return g1===0?NaN:k})}var JU=function(Z){var e={};Z.eachSeriesByType("map",function(k){var m=k.getHostGeoModel();var i=m?"o"+m.id:"i"+k.getMapType();(e[i]=e[i]||[]).push(k)});Dy(e,function(k,m){var PI=YI(QL(k,function(i){return i.getData()}),k[0].get("mapValueCalculation"));for(var v=0;v<k.length;v++){k[v].originalData=k[v].getData()}for(var v=0;v<k.length;v++){k[v].seriesGroup=k;k[v].needsDrawMap=v===0&&!k[v].getHostGeoModel();k[v].setData(PI.cloneShallow());k[v].mainSeries=k[0]}})};var gp=function(Z){var e=[];Dy(Z.series,function(i){if(i&&i.type==="map"){e.push(i);i.map=i.map||i.mapType;IK(i,i.mapLocation)}})};gH(XK);Ao(Jj);dU(eK.PROCESSOR.STATISTIC,JU);Jo(gp);En("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var ag=Dy;var H0="\0__link_datas";var aG="\0__link_mainData";function L2(Z){var i=Z.mainData;var e=Z.datas;if(!e){e={main:i};Z.datasAttr={main:"data"}}Z.datas=Z.mainData=null;b0(i,e,Z);ag(e,function(k){ag(i.TRANSFERABLE_METHODS,function(m){k.wrapMethod(m,c3(Ad,Z))})});i.wrapMethod("cloneShallow",c3(Bc,Z));ag(i.CHANGABLE_METHODS,function(k){i.wrapMethod(k,c3(g0,Z))});SR(e[i.dataType]===i)}function Ad(e, i){if(W6(this)){var Z=XN({},this[H0]);Z[this.dataType]=i;b0(i,Z,e)}else{RF(i,this.dataType,this[aG],e)}return i}function g0(Z, e){Z.struct&&Z.struct.update(this);return e}function Bc(Z, e){ag(e[H0],function(k, i){k!==e&&RF(k.cloneShallow(),i,e,Z)});return e}function Bh(Z){var e=this[aG];return(Z==null||e==null)?e:e[H0][Z]}function W6(Z){return Z[aG]===Z}function b0(i,e,Z){i[H0]={};ag(e,function(m,k){RF(m,k,i,Z)})}function RF(k,e,i,Z){i[H0][e]=k;k[aG]=i;k.dataType=e;if(Z.struct){k[Z.structAttr]=Z.struct;Z.struct[Z.datasAttr[e]]=k}k.getLinkedData=Bh}var dI=function(e,Z){this.name=e||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=Z};dI.prototype={constructor:dI,isRemoved:function(){return this.dataIndex<0},eachNode:function(v,Z,e){if(typeof v==="function"){e=Z;Z=v;v=null}v=v||{};if(Ei(v)){v={order:v}}var PI=v.order||"preorder";var WH=this[v.attr||"children"];var m;PI==="preorder"&&(m=Z.call(e,this));for(var k=0;!m&&k<WH.length;k++){WH[k].eachNode(v,Z,e)}PI==="postorder"&&Z.call(e,this)},updateDepthAndHeight:function(m){var e=0;this.depth=m;for(var k=0;k<this.children.length;k++){var Z=this.children[k];Z.updateDepthAndHeight(m+1);if(Z.height>e){e=Z.height}}this.height=e+1},getNodeById:function(v){if(this.getId()===v){return this}for(var e=0,Z=this.children,m=Z.length;e<m;e++){var k=Z[e].getNodeById(v);if(k){return k}}},contains:function(e){if(e===this){return true}for(var Z=0,v=this.children,m=v.length;Z<m;Z++){var k=v[Z].contains(e);if(k){return k}}},getAncestors:function(e){var i=[];var Z=e?this:this.parentNode;while(Z){i.push(Z);Z=Z.parentNode}i.reverse();return i},getValue:function(Z){var e=this.hostTree.data;return e.get(e.getDimension(Z||"value"),this.dataIndex)},setLayout:function(e,Z){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,Z)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(m){if(this.dataIndex<0){return}var Z=this.hostTree;var e=Z.data.getItemModel(this.dataIndex);var k=this.getLevelModel();var i;if(!k&&(this.children.length===0||(this.children.length!==0&&this.isExpand===false))){i=this.getLeavesModel()}return e.getModel(m,(k||i||Z.hostModel).getModel(m))},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(Z,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,Z,e)},getVisual:function(Z,e){return this.hostTree.data.getItemVisual(this.dataIndex,Z,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(Z){var e=Z.parentNode;while(e){if(e===this){return true}e=e.parentNode}return false},isDescendantOf:function(Z){return Z!==this&&Z.isAncestorOf(this)}};function SH(e,Z,i){this.root;this.data;this._nodes=[];this.hostModel=e;this.levelModels=QL(Z||[],function(k){return new fx(k,e,e.ecModel)});this.leavesModel=new fx(i||{},e,e.ecModel)}SH.prototype={constructor:SH,type:"tree",eachNode:function(i,Z,e){this.root.eachNode(i,Z,e)},getNodeByDataIndex:function(Z){var e=this.data.getRawIndex(Z);return this._nodes[e]},getNodeByName:function(Z){return this.root.getNodeByName(Z)},update:function(){var m=this.data;var e=this._nodes;for(var Z=0,k=e.length;Z<k;Z++){e[Z].dataIndex=-1}for(var Z=0,k=m.count();Z<k;Z++){e[m.getRawIndex(Z)].dataIndex=Z}},clearLayouts:function(){this.data.clearItemLayouts()}};SH.createTree=function(e,WH,Z){var PI=new SH(WH,Z.levels,Z.leaves);var k=[];var v=1;XY(e);function XY(g2,cc){var g3=g2.value;v=Math.max(v,cW(g3)?g3.length:1);k.push(g2);var g1=new dI(g2.name,PI);cc?Z3(g1,cc):(PI.root=g1);PI._nodes.push(g1);var g4=g2.children;if(g4){for(var Z2=0;Z2<g4.length;Z2++){XY(g4[Z2],g1)}}}PI.root.updateDepthAndHeight(0);var m=F0(k,{coordDimensions:["value"],dimensionsCount:v});var i=new Mh(m,WH);i.initData(k);L2({mainData:i,struct:PI,structAttr:"tree"});PI.update();return PI};function Z3(e,Z){var i=Z.children;if(e.parentNode===Z){return}i.push(e);e.parentNode=Z}S7.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(v){var e={name:v.name,children:v.data};var m=v.leaves||{};var Z={};Z.leaves=m;var PI=SH.createTree(e,this,Z);var k=0;PI.eachNode("preorder",function(XY){if(XY.depth>k){k=XY.depth}});var i=v.expandAndCollapse;var WH=(i&&v.initialTreeDepth>=0)?v.initialTreeDepth:k;PI.root.eachNode("preorder",function(XY){var Z2=XY.hostTree.data.getRawDataItem(XY.dataIndex);XY.isExpand=(Z2&&Z2.collapsed!=null)?!Z2.collapsed:XY.depth<=WH});return PI.data},formatTooltip:function(Z){var e=this.getData().tree;var k=e.root.children[0];var i=e.getNodeByDataIndex(Z);var v=i.getValue();var m=i.name;while(i&&(i!==k)){m=i.parentNode.name+"."+m;i=i.parentNode}return Qp(m+((isNaN(v)||v==null)?"":" : "+v))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:true,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:0.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:true,color:"#555"},leaves:{label:{show:true}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}});function C2(k){k.hierNode={defaultAncestor:null,ancestor:k,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var PI=[k];var v;var WH;while(v=PI.pop()){WH=v.children;if(v.isExpand&&WH.length){var m=WH.length;for(var e=m-1;e>=0;e--){var Z=WH[e];Z.hierNode={defaultAncestor:null,ancestor:Z,prelim:0,modifier:0,change:0,shift:0,i:e,thread:null};PI.push(Z)}}}}function EL(i,k){var v=i.isExpand?i.children:[];var Z=i.parentNode.children;var e=i.hierNode.i?Z[i.hierNode.i-1]:null;if(v.length){Mw(i);var m=(v[0].hierNode.prelim+v[v.length-1].hierNode.prelim)/2;if(e){i.hierNode.prelim=e.hierNode.prelim+k(i,e);i.hierNode.modifier=i.hierNode.prelim-m}else{i.hierNode.prelim=m}}else{if(e){i.hierNode.prelim=e.hierNode.prelim+k(i,e)}}i.parentNode.hierNode.defaultAncestor=dp(i,e,i.parentNode.hierNode.defaultAncestor||Z[0],k)}function E(e){var Z=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:Z},true);e.hierNode.modifier+=e.parentNode.hierNode.modifier}function gh(Z){return arguments.length?Z:bK}function c2(e,i){var Z={};e-=Math.PI/2;Z.x=i*Math.cos(e);Z.y=i*Math.sin(e);return Z}function bY(Z,e){return CU(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Mw(k){var v=k.children;var i=v.length;var m=0;var e=0;while(--i>=0){var Z=v[i];Z.hierNode.prelim+=m;Z.hierNode.modifier+=m;e+=Z.hierNode.change;m+=Z.hierNode.shift+e}}function dp(m,v,i,k){if(v){var e=m;var XY=m;var cc=XY.parentNode.children[0];var Z2=v;var PI=e.hierNode.modifier;var g2=XY.hierNode.modifier;var WH=cc.hierNode.modifier;var g1=Z2.hierNode.modifier;while(Z2=M7(Z2),XY=cF(XY),Z2&&XY){e=M7(e);cc=cF(cc);e.hierNode.ancestor=m;var Z=Z2.hierNode.prelim+g1-XY.hierNode.prelim-g2+k(Z2,XY);if(Z>0){MX(Pv(Z2,m,i),m,Z);g2+=Z;PI+=Z}g1+=Z2.hierNode.modifier;g2+=XY.hierNode.modifier;PI+=e.hierNode.modifier;WH+=cc.hierNode.modifier}if(Z2&&!M7(e)){e.hierNode.thread=Z2;e.hierNode.modifier+=g1-PI}if(XY&&!cF(cc)){cc.hierNode.thread=XY;cc.hierNode.modifier+=g2-WH;i=m}}return i}function M7(Z){var e=Z.children;return e.length&&Z.isExpand?e[e.length-1]:Z.hierNode.thread}function cF(Z){var e=Z.children;return e.length&&Z.isExpand?e[0]:Z.hierNode.thread}function Pv(i,Z,e){return i.hierNode.ancestor.parentNode===Z.parentNode?i.hierNode.ancestor:e}function MX(i,e,k){var Z=k/(e.hierNode.i-i.hierNode.i);e.hierNode.change-=Z;e.hierNode.shift+=k;e.hierNode.modifier+=k;e.hierNode.prelim+=k;i.hierNode.change+=Z}function bK(Z,e){return Z.parentNode===e.parentNode?1:2}YB({type:"tree",init:function(Z,e){this._oldTree;this._mainGroup=new U3();this.group.add(this._mainGroup)},render:function(Z2,Z,XY,e){var i=Z2.getData();var m=Z2.layoutInfo;var v=this._mainGroup;var PI=Z2.get("layout");if(PI==="radial"){v.attr("position",[m.x+m.width/2,m.y+m.height/2])}else{v.attr("position",[m.x,m.y])}var k=this._data;var WH={expandAndCollapse:Z2.get("expandAndCollapse"),layout:PI,orient:Z2.get("orient"),curvature:Z2.get("lineStyle.curveness"),symbolRotate:Z2.get("symbolRotate"),symbolOffset:Z2.get("symbolOffset"),hoverAnimation:Z2.get("hoverAnimation"),useNameLabel:true,fadeIn:true};i.diff(k).add(function(cc){if(Ff(i,cc)){Cy(i,cc,null,v,Z2,WH)}}).update(function(cc,g2){var g1=k.getItemGraphicEl(g2);if(!Ff(i,cc)){g1&&JT(i,cc,g1,v,Z2,WH);return}Cy(i,cc,g1,v,Z2,WH)}).remove(function(g1){var cc=k.getItemGraphicEl(g1);JT(i,g1,cc,v,Z2,WH)}).execute();if(WH.expandAndCollapse===true){i.eachItemGraphicEl(function(cc,g1){cc.off("click").on("click",function(){XY.dispatchAction({type:"treeExpandAndCollapse",seriesId:Z2.id,dataIndex:g1})})})}this._data=i},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});function Ff(i,Z){var e=i.getItemLayout(Z);return e&&!isNaN(e.x)&&!isNaN(e.y)&&i.getItemVisual(Z,"symbol")!=="none"}function S5(e,Z,i){i.itemModel=Z;i.itemStyle=Z.getModel("itemStyle").getItemStyle();i.hoverItemStyle=Z.getModel("emphasis.itemStyle").getItemStyle();i.lineStyle=Z.getModel("lineStyle").getLineStyle();i.labelModel=Z.getModel("label");i.hoverLabelModel=Z.getModel("emphasis.label");if(e.isExpand===false&&e.children.length!==0){i.symbolInnerColor=i.itemStyle.fill}else{i.symbolInnerColor="#fff"}return i}function Cy(g9,hb,PI,g5,WH,i){var m=!PI;var g6=g9.tree.getNodeByDataIndex(hb);var k=g6.getModel();var i=S5(g6,k,i);var hc=g9.tree.root;var g2=g6.parentNode===hc?g6:g6.parentNode||g6;var v=g9.getItemGraphicEl(g2.dataIndex);var g1=g2.getLayout();var g8=v?{x:v.position[0],y:v.position[1],rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:g1;var g4=g6.getLayout();if(m){PI=new S0(g9,hb,i);PI.attr("position",[g8.x,g8.y])}else{PI.updateData(g9,hb,i)}PI.__radialOldRawX=PI.__radialRawX;PI.__radialOldRawY=PI.__radialRawY;PI.__radialRawX=g4.rawX;PI.__radialRawY=g4.rawY;g5.add(PI);g9.setItemGraphicEl(hb,PI);Qr(PI,{position:[g4.x,g4.y]},WH);var e=PI.getSymbolPath();if(i.layout==="radial"){var g3=hc.children[0];var cc=g3.getLayout();var Z=g3.children.length;var g7;var XY;if(g4.x===cc.x&&g6.isExpand===true){var hd={};hd.x=(g3.children[0].getLayout().x+g3.children[Z-1].getLayout().x)/2;hd.y=(g3.children[0].getLayout().y+g3.children[Z-1].getLayout().y)/2;g7=Math.atan2(hd.y-cc.y,hd.x-cc.x);if(g7<0){g7=Math.PI*2+g7}XY=hd.x<cc.x;if(XY){g7=g7-Math.PI}}else{g7=Math.atan2(g4.y-cc.y,g4.x-cc.x);if(g7<0){g7=Math.PI*2+g7}if(g6.children.length===0||(g6.children.length!==0&&g6.isExpand===false)){XY=g4.x<cc.x;if(XY){g7=g7-Math.PI}}else{XY=g4.x>cc.x;if(!XY){g7=g7-Math.PI}}}var ha=XY?"left":"right";e.setStyle({textPosition:ha,textRotation:-g7,textOrigin:"center",verticalAlign:"middle"})}if(g6.parentNode&&g6.parentNode!==hc){var Z2=PI.__edge;if(!Z2){Z2=PI.__edge=new E4({shape:JQ(i,g8,g8),style:IK({opacity:0},i.lineStyle)})}Qr(Z2,{shape:JQ(i,g1,g4),style:{opacity:1}},WH);g5.add(Z2)}}function JT(i,Z2,v,WH,g1,PI){var XY=i.tree.getNodeByDataIndex(Z2);var cc=i.tree.root;var Z=XY.getModel();var PI=S5(XY,Z,PI);var e=XY.parentNode===cc?XY:XY.parentNode||XY;var m;while(m=e.getLayout(),m==null){e=e.parentNode===cc?e:e.parentNode||e}Qr(v,{position:[m.x+1,m.y+1]},g1,function(){WH.remove(v);i.setItemGraphicEl(Z2,null)});v.fadeOut(null,{keepLabel:true});var k=v.__edge;if(k){Qr(k,{shape:JQ(PI,m,m),style:{opacity:0}},g1,function(){WH.remove(k)})}}function JQ(WH,Z2,g4){var g1;var cc;var i;var e;var XY=WH.orient;if(WH.layout==="radial"){var k=Z2.rawX;var m=Z2.rawY;var v=g4.rawX;var PI=g4.rawY;var Z=c2(k,m);var g3=c2(k,m+(PI-m)*WH.curvature);var g2=c2(v,PI+(m-PI)*WH.curvature);var g5=c2(v,PI);return{x1:Z.x,y1:Z.y,x2:g5.x,y2:g5.y,cpx1:g3.x,cpy1:g3.y,cpx2:g2.x,cpy2:g2.y}}else{var k=Z2.x;var m=Z2.y;var v=g4.x;var PI=g4.y;if(XY==="horizontal"){g1=k+(v-k)*WH.curvature;cc=m;i=v+(k-v)*WH.curvature;e=PI}if(XY==="vertical"){g1=k;cc=m+(PI-m)*WH.curvature;i=v;e=PI+(m-PI)*WH.curvature}return{x1:k,y1:m,x2:v,y2:PI,cpx1:g1,cpy1:cc,cpx2:i,cpy2:e}}}S9({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,Z){Z.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var v=e.dataIndex;var m=i.getData().tree;var k=m.getNodeByDataIndex(v);k.isExpand=!k.isExpand})});function cC(m,Z,k){var XY=[m];var WH=[];var PI;while(PI=XY.pop()){WH.push(PI);if(PI.isExpand){var e=PI.children;if(e.length){for(var v=0;v<e.length;v++){XY.push(e[v])}}}}while(PI=WH.pop()){Z(PI,k)}}function Qk(k,Z){var v=[k];var m;while(m=v.pop()){Z(m);if(m.isExpand){var PI=m.children;if(PI.length){for(var e=PI.length-1;e>=0;e--){v.push(PI[e])}}}}}var Na=function(PI,Z2){var g1=bY(PI,Z2);PI.layoutInfo=g1;var WH=PI.get("layout");var g3=0;var g6=0;var v=null;if(WH==="radial"){g3=2*Math.PI;g6=Math.min(g1.height,g1.width)/2;v=gh(function(g8,g9){return(g8.parentNode===g9.parentNode?1:2)/g8.depth})}else{g3=g1.width;g6=g1.height;v=gh()}var g5=PI.getData().tree.root;var g2=g5.children[0];C2(g5);cC(g2,EL,v);g5.hierNode.modifier=-g2.hierNode.prelim;Qk(g2,E);var g4=g2;var m=g2;var cc=g2;Qk(g2,function(g8){var g9=g8.getLayout().x;if(g9<g4.getLayout().x){g4=g8}if(g9>m.getLayout().x){m=g8}if(g8.depth>cc.depth){cc=g8}});var XY=g4===m?1:v(g4,m)/2;var g7=XY-g4.getLayout().x;var Z=0;var e=0;var i=0;var k=0;if(WH==="radial"){Z=g3/(m.getLayout().x+XY+g7);e=g6/((cc.depth-1)||1);Qk(g2,function(g9){i=(g9.getLayout().x+g7)*Z;k=(g9.depth-1)*e;var g8=c2(i,k);g9.setLayout({x:g8.x,y:g8.y,rawX:i,rawY:k},true)})}else{if(PI.get("orient")==="horizontal"){e=g6/(m.getLayout().x+XY+g7);Z=g3/((cc.depth-1)||1);Qk(g2,function(g8){k=(g8.getLayout().x+g7)*e;i=(g8.depth-1)*Z;g8.setLayout({x:i,y:k},true)})}else{Z=g3/(m.getLayout().x+XY+g7);e=g6/((cc.depth-1)||1);Qk(g2,function(g8){i=(g8.getLayout().x+g7)*Z;k=(g8.depth-1)*e;g8.setLayout({x:i,y:k},true)})}}};var Vo=function(Z,e){Z.eachSeriesByType("tree",function(i){Na(i,e)})};var K1=function(Z,e){Z.eachSeriesByType("tree",function(i){Na(i,e)})};Ao(RB("tree","circle"));gH(Vo);gH(K1);function YP(k,m,Z){if(k&&FT(m,k.type)>=0){var e=Z.getData().tree.root;var i=k.targetNode;if(i&&e.contains(i)){return{node:i}}var v=k.targetNodeId;if(v!=null&&(i=e.getNodeById(v))){return{node:i}}}}function d8(Z){var e=[];while(Z){Z=Z.parentNode;Z&&e.push(Z)}return e.reverse()}function Yg(e,i){var Z=d8(e);return FT(Z,i)>=0}function Bi(k,Z){var i=[];while(k){var e=k.dataIndex;i.push({name:k.name,dataIndex:e,value:Z.getRawValue(e)});k=k.parentNode}i.reverse();return i}S7.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:true,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:0.32*0.32,roam:true,nodeClick:"zoomToNode",animation:true,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:true,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:true,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:true},upperLabel:{show:false,position:[0,"50%"],height:20,color:"#fff",ellipsis:true,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:true,position:[0,"50%"],color:"#fff",ellipsis:true,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,k){var i={name:e.name,children:e.data};MI(i);var Z=e.levels||[];Z=e.levels=PM(Z,k);var m={};m.levels=Z;return SH.createTree(i,this,m).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(Z){var m=this.getData();var k=this.getRawValue(Z);var e=cW(k)?M9(k[0]):M9(k);var i=m.getName(Z);return Qp(i+": "+e)},getDataParams:function(Z){var i=S7.prototype.getDataParams.apply(this,arguments);var e=this.getData().tree.getNodeByDataIndex(Z);i.treePathInfo=Bi(e,this);return i},setLayoutInfo:function(Z){this.layoutInfo=this.layoutInfo||{};XN(this.layoutInfo,Z)},mapIdToIndex:function(i){var Z=this._idIndexMap;if(!Z){Z=this._idIndexMap=Fj();this._idIndexMapCount=0}var e=Z.get(i);if(e==null){Z.set(i,e=this._idIndexMapCount++)}return e},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(Z){Z?(this._viewRoot=Z):(Z=this._viewRoot);var e=this.getRawData().tree.root;if(!Z||(Z!==e&&!e.contains(Z))){this._viewRoot=e}}});function MI(e){var i=0;Dy(e.children,function(k){MI(k);var m=k.value;cW(m)&&(m=m[0]);i+=m});var Z=e.value;if(cW(Z)){Z=Z[0]}if(Z==null||isNaN(Z)){Z=i}if(Z<0){Z=0}cW(e.value)?(e.value[0]=Z):(e.value=Z)}function PM(Z,k){var e=k.get("color");if(!e){return}Z=Z||[];var i;Dy(Z,function(WH){var v=new fx(WH);var PI=v.get("color");if(v.get("itemStyle.color")||(PI&&PI!=="none")){i=true}});if(!i){var m=Z[0]||(Z[0]={});m.color=e.slice()}return Z}var VU=8;var Fx=8;var en=5;function Qs(Z){this.group=new U3();Z.add(this.group)}Qs.prototype={constructor:Qs,render:function(XY,PI,e,m){var WH=XY.getModel("breadcrumb");var Z=this.group;Z.removeAll();if(!WH.get("show")||!e){return}var v=WH.getModel("itemStyle");var i=v.getModel("textStyle");var k={pos:{left:WH.get("left"),right:WH.get("right"),top:WH.get("top"),bottom:WH.get("bottom")},box:{width:PI.getWidth(),height:PI.getHeight()},emptyItemWidth:WH.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(e,k,i);this._renderContent(XY,k,v,i,m);Lp(Z,k.pos,k.box)},_prepare:function(i,k,e){for(var Z=i;Z;Z=Z.parentNode){var m=Z.getModel().get("name");var v=e.getTextRect(m);var PI=Math.max(v.width+VU*2,k.emptyItemWidth);k.totalWidth+=PI+Fx;k.renderList.push({node:Z,text:m,width:PI})}},_renderContent:function(g2,PI,e,Z2,g4){var WH=0;var cc=PI.emptyItemWidth;var g3=g2.get("breadcrumb.height");var g6=Xx(PI.pos,PI.box);var g7=PI.totalWidth;var XY=PI.renderList;for(var v=XY.length-1;v>=0;v--){var k=XY[v];var g1=k.node;var m=k.width;var Z=k.text;if(g7>g6.width){g7-=m-cc;m=cc;Z=null}var g5=new Hd({shape:{points:O1(WH,0,m,g3,v===XY.length-1,v===0)},style:IK(e.getItemStyle(),{lineJoin:"bevel",text:Z,textFill:Z2.getTextColor(),textFont:Z2.getFont()}),z:10,onclick:c3(g4,g1)});this.group.add(g5);C1(g5,g2,g1);WH+=m+Fx}},remove:function(){this.group.removeAll()}};function O1(v,PI,m,Z,i,k){var e=[[i?v:v-en,PI],[v+m,PI],[v+m,PI+Z],[i?v:v-en,PI+Z]];!k&&e.splice(2,0,[v+m+en,PI+Z/2]);!i&&e.push([v,PI+Z/2]);return e}function C1(Z,e,i){Z.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&Bi(i,e)}}function SB(){var Z=[];var e={};var i;return{add:function(k,PI,v,WH,m){if(Ei(WH)){m=WH;WH=0}if(e[k.id]){return false}e[k.id]=1;Z.push({el:k,target:PI,time:v,delay:WH,easing:m});return true},done:function(k){i=k;return this},start:function(){var m=Z.length;for(var k=0,WH=Z.length;k<WH;k++){var PI=Z[k];PI.el.animateTo(PI.target,PI.time,PI.delay,PI.easing,v)}return this;function v(){m--;if(!m){Z.length=0;e={};i&&i()}}}}}var Sy=ei;var bN=U3;var Eb=Fm;var YV=Dy;var Px=3;var eN=["label"];var Q1=["emphasis","label"];var O=["upperLabel"];var Dm=["emphasis","upperLabel"];var UZ=10;var dE=1;var f3=2;var MS=C9([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);var Rw=function(e){var Z=MS(e);Z.stroke=Z.fill=Z.lineWidth=null;return Z};YB({type:"treemap",init:function(Z,e){this._containerGroup;this._storage=BR();this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(g3,e,g1,i){var v=e.findComponents({mainType:"series",subType:"treemap",query:i});if(FT(v,g3)<0){return}this.seriesModel=g3;this.api=g1;this.ecModel=e;var WH=["treemapZoomToNode","treemapRootToNode"];var Z2=YP(i,WH,g3);var m=i&&i.type;var XY=g3.layoutInfo;var k=!this._oldTree;var g2=this._storage;var Z=(m==="treemapRootToNode"&&Z2&&g2)?{rootNodeGroup:g2.nodeGroup[Z2.node.getRawIndex()],direction:i.direction}:null;var cc=this._giveContainerGroup(XY);var PI=this._doRender(cc,g3,Z);(!k&&(!m||m==="treemapZoomToNode"||m==="treemapRootToNode"))?this._doAnimation(cc,PI,g3,Z):PI.renderFinally();this._resetController(g1);this._renderBreadcrumb(g3,g1,Z2)},_giveContainerGroup:function(e){var Z=this._containerGroup;if(!Z){Z=this._containerGroup=new bN();this._initEvents(Z);this.group.add(Z)}Z.attr("position",[e.x,e.y]);return Z},_doRender:function(v,g3,e){var Z2=g3.getData().tree;var g2=this._oldTree;var XY=BR();var g1=BR();var i=this._storage;var m=[];var WH=c3(eg,g3,g1,i,e,XY,m);k(Z2.root?[Z2.root]:[],(g2&&g2.root)?[g2.root]:[],v,Z2===g2||!g2,0);var PI=cc(i);this._oldTree=Z2;this._storage=g1;return{lastsForAnimation:XY,willDeleteEls:PI,renderFinally:Z};function k(ha,g8,g4,g7,g6){if(g7){g8=ha;YV(ha,function(hb,hc){!hb.isRemoved()&&g5(hc,hc)})}else{(new WG(g8,ha,g9,g9)).add(g5).update(g5).remove(c3(g5,null)).execute()}function g9(hb){return hb.getId()}function g5(he,hd){var hf=he!=null?ha[he]:null;var hb=hd!=null?g8[hd]:null;var hc=WH(hf,hb,g4,g6);hc&&k(hf&&hf.viewChildren||[],hb&&hb.viewChildren||[],hc,g7,g6+1)}}function cc(g4){var g5=BR();g4&&YV(g4,function(g6,g7){var g8=g5[g7];YV(g6,function(g9){g9&&(g8.push(g9),g9.__tmWillDelete=1)})});return g5}function Z(){YV(PI,function(g4){YV(g4,function(g5){g5.parent&&g5.parent.remove(g5)})});YV(m,function(g4){g4.invisible=true;g4.dirty()})}},_doAnimation:function(Z,PI,e,m){if(!e.get("animation")){return}var v=e.get("animationDurationUpdate");var k=e.get("animationEasing");var i=SB();YV(PI.willDeleteEls,function(WH,XY){YV(WH,function(Z2,cc){if(Z2.invisible){return}var g3=Z2.parent;var g2;if(m&&m.direction==="drillDown"){g2=g3===m.rootNodeGroup?{shape:{x:0,y:0,width:g3.__tmNodeWidth,height:g3.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var g1=0;var g4=0;if(!g3.__tmWillDelete){g1=g3.__tmNodeWidth/2;g4=g3.__tmNodeHeight/2}g2=XY==="nodeGroup"?{position:[g1,g4],style:{opacity:0}}:{shape:{x:g1,y:g4,width:0,height:0},style:{opacity:0}}}g2&&i.add(Z2,g2,v,k)})});YV(this._storage,function(WH,XY){YV(WH,function(Z2,cc){var g1=PI.lastsForAnimation[XY][cc];var g2={};if(!g1){return}if(XY==="nodeGroup"){if(g1.old){g2.position=Z2.position.slice();Z2.attr("position",g1.old)}}else{if(g1.old){g2.shape=XN({},Z2.shape);Z2.setShape(g1.old)}if(g1.fadein){Z2.setStyle("opacity",0);g2.style={opacity:1}}else{if(Z2.style.opacity!==1){g2.style={opacity:1}}}}i.add(Z2,g2,v,k)})},this);this._state="animating";i.done(Sy(function(){this._state="ready";PI.renderFinally()},this)).start()},_resetController:function(e){var i=this._controller;if(!i){i=this._controller=new C7(e.getZr());i.enable(this.seriesModel.get("roam"));i.on("pan",Sy(this._onPan,this));i.on("zoom",Sy(this._onZoom,this))}var Z=new FY(0,0,e.getWidth(),e.getHeight());i.setPointerChecker(function(k,m,v){return Z.contain(m,v)})},_clearController:function(){var Z=this._controller;if(Z){Z.dispose();Z=null}},_onPan:function(i,k){if(this._state!=="animating"&&(Math.abs(i)>Px||Math.abs(k)>Px)){var e=this.seriesModel.getData().tree.root;if(!e){return}var Z=e.getLayout();if(!Z){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Z.x+i,y:Z.y+k,width:Z.width,height:Z.height}})}},_onZoom:function(i,WH,PI){if(this._state!=="animating"){var k=this.seriesModel.getData().tree.root;if(!k){return}var Z=k.getLayout();if(!Z){return}var e=new FY(Z.x,Z.y,Z.width,Z.height);var v=this.seriesModel.layoutInfo;WH-=v.x;PI-=v.y;var XY=HZ();Zc(XY,XY,[-WH,-PI]);KI(XY,XY,[i,i]);Zc(XY,XY,[WH,PI]);e.applyTransform(XY);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})}},_initEvents:function(Z){Z.on("click",function(k){if(this._state!=="ready"){return}var XY=this.seriesModel.get("nodeClick",true);if(!XY){return}var PI=this.findTarget(k.offsetX,k.offsetY);if(!PI){return}var v=PI.node;if(v.getLayout().isLeafRoot){this._rootToNode(PI)}else{if(XY==="zoomToNode"){this._zoomToNode(PI)}else{if(XY==="link"){var m=v.hostTree.data.getItemModel(v.dataIndex);var WH=m.get("link",true);var i=m.get("target",true)||"blank";WH&&window.open(WH,i)}}}},this)},_renderBreadcrumb:function(Z,k,i){if(!i){i=Z.get("leafDepth",true)!=null?{node:Z.getViewRoot()}:this.findTarget(k.getWidth()/2,k.getHeight()/2);if(!i){i={node:Z.getData().tree.root}}}(this._breadcrumb||(this._breadcrumb=new Qs(this.group))).render(Z,k,i.node,Sy(e,this));function e(m){if(this._state!=="animating"){Yg(Z.getViewRoot(),m)?this._rootToNode({node:m}):this._zoomToNode({node:m})}}},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=BR();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(Z){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Z.node})},_rootToNode:function(Z){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Z.node})},findTarget:function(e,i){var k;var Z=this.seriesModel.getViewRoot();Z.eachNode({attr:"viewChildren",order:"preorder"},function(v){var PI=this._storage.background[v.getRawIndex()];if(PI){var m=PI.transformCoordToLocal(e,i);var WH=PI.shape;if(WH.x<=m[0]&&m[0]<=WH.x+WH.width&&WH.y<=m[1]&&m[1]<=WH.y+WH.height){k={node:v,offsetX:m[0],offsetY:m[1]}}else{return false}}},this);return k}});function BR(){return{nodeGroup:[],background:[],content:[]}}function eg(Z2,g5,g4,hl,hi,v,hg,WH,g7,g2){if(!hg){return}var hf=hg.getLayout();if(!hf||!hf.isInView){return}var g6=hf.width;var g3=hf.height;var g1=hf.borderWidth;var cc=hf.invisible;var hj=hg.getRawIndex();var e=WH&&WH.getRawIndex();var g8=hg.viewChildren;var ha=hf.upperHeight;var g9=g8&&g8.length;var Z=hg.getModel("itemStyle");var hc=hg.getModel("emphasis.itemStyle");var hb=hk("nodeGroup",bN);if(!hb){return}g7.add(hb);hb.attr("position",[hf.x||0,hf.y||0]);hb.__tmNodeWidth=g6;hb.__tmNodeHeight=g3;if(hf.isAboveViewRoot){return hb}var PI=hk("background",Eb,g2,dE);PI&&i(hb,PI,g9&&hf.upperHeight);if(!g9){var m=hk("content",Eb,g2,f3);m&&XY(hb,m)}return hb;function i(hn,hm,hp){hm.dataIndex=hg.dataIndex;hm.seriesIndex=Z2.seriesIndex;hm.setShape({x:0,y:0,width:g6,height:g3});var ho=hg.getVisual("borderColor",true);var hq=hc.get("borderColor");he(hm,function(){var ht=Rw(Z);ht.fill=ho;var hs=MS(hc);hs.fill=hq;if(hp){var hr=g6-2*g1;hh(ht,hs,ho,hr,ha,{x:g1,y:0,width:hr,height:ha})}else{ht.text=hs.text=null}hm.setStyle(ht);N7(hm,hs)});hn.add(hm)}function XY(hm,hp){hp.dataIndex=hg.dataIndex;hp.seriesIndex=Z2.seriesIndex;var hq=Math.max(g6-2*g1,0);var ho=Math.max(g3-2*g1,0);hp.culling=true;hp.setShape({x:g1,y:g1,width:hq,height:ho});var hn=hg.getVisual("color",true);he(hp,function(){var hs=Rw(Z);hs.fill=hn;var hr=MS(hc);hh(hs,hr,hn,hq,ho);hp.setStyle(hs);N7(hp,hr)});hm.add(hp)}function he(hn,hm){if(!cc){hm();if(!hn.__tmWillVisible){hn.invisible=false}}else{!hn.invisible&&v.push(hn)}}function hh(hs,hq,hx,hu,hm,ht){var hn=hg.getModel();var hv=ER(Z2.getFormattedLabel(hg.dataIndex,"normal",null,null,ht?"upperLabel":"label"),hn.get("name"));if(!ht&&hf.isLeafRoot){var hw=Z2.get("drillDownIcon",true);hv=hw?hw+" "+hv:hv}var ho=hn.getModel(ht?O:eN);var hr=hn.getModel(ht?Dm:Q1);var hp=ho.getShallow("show");HB(hs,hq,ho,hr,{defaultText:hp?hv:null,autoColor:hx,isRectText:true});ht&&(hs.textRect=fJ(ht));hs.truncate=(hp&&ho.get("ellipsis"))?{outerWidth:hu,outerHeight:hm,minChar:2}:null}function hk(hm,hr,hq,hn){var hp=e!=null&&g4[hm][e];var ho=hi[hm];if(hp){g4[hm][e]=null;k(ho,hp,hm)}else{if(!cc){hp=new hr({z:Cw(hq,hn)});hp.__tmDepth=hq;hp.__tmStorageName=hm;hd(ho,hp,hm)}}return(g5[hm][hj]=hp)}function k(hp,ho,hn){var hm=hp[hj]={};hm.old=hn==="nodeGroup"?ho.position.slice():XN({},ho.shape)}function hd(hs,hm,hr){var hn=hs[hj]={};var hq=hg.parentNode;if(hq&&(!hl||hl.direction==="drillDown")){var hp=0;var ho=0;var ht=hi.background[hq.getRawIndex()];if(!hl&&ht&&ht.old){hp=ht.old.width;ho=ht.old.height}hn.old=hr==="nodeGroup"?[0,ho]:{x:hp,y:ho,width:0,height:0}}hn.fadein=hr!=="nodeGroup"}}function Cw(Z,e){var i=Z*UZ+e;return(i-1)/i}var Ev=function(){};var AN=["treemapZoomToNode","treemapRender","treemapMove"];for(var D1=0;D1<AN.length;D1++){S9({type:AN[D1],update:"updateView"},Ev)}S9({type:"treemapRootToNode",update:"updateView"},function(i,e){e.eachComponent({mainType:"series",subType:"treemap",query:i},Z);function Z(PI,v){var k=["treemapZoomToNode","treemapRootToNode"];var m=YP(i,k,PI);if(m){var WH=PI.getViewRoot();if(WH){i.direction=Yg(WH,m.node)?"rollUp":"drillDown"}PI.resetViewRoot(m.node)}}});var Lc=Dy;var Py=EJ;var Dg=-1;var Oi=function(Z){var i=Z.mappingMethod;var e=Z.type;var m=this.option=fJ(Z);this.type=e;this.mappingMethod=i;this._normalizeData=DT[i];var k=BZ[e];this.applyVisual=k.applyVisual;this.getColorMapper=k.getColorMapper;this._doMap=k._doMap[i];if(i==="piecewise"){MH(m);Ee(m)}else{if(i==="category"){m.categories?A1(m):MH(m,true)}else{SR(i!=="linear"||m.dataExtent);MH(m)}}};Oi.prototype={constructor:Oi,mapValueToVisual:function(Z){var e=this._normalizeData(Z);return this._doMap(e,Z)},getNormalizer:function(){return ei(this._normalizeData,this)}};var BZ=Oi.visualHandlers={color:{applyVisual:UW("color"),getColorMapper:function(){var Z=this.option;return ei(Z.mappingMethod==="category"?function(i,e){!e&&(i=this._normalizeData(i));return JR.call(this,i)}:function(m,i,k){var e=!!k;!i&&(m=this._normalizeData(m));k=Zj(m,Z.parsedVisual,k);return e?k:Pq(k,"rgba")},this)},_doMap:{linear:function(Z){return Pq(Zj(Z,this.option.parsedVisual),"rgba")},category:JR,piecewise:function(i,e){var Z=Uv.call(this,e);if(Z==null){Z=Pq(Zj(i,this.option.parsedVisual),"rgba")}return Z},fixed:AH}},colorHue:Lx(function(e,Z){return CM(e,Z)}),colorSaturation:Lx(function(e,Z){return CM(e,null,Z)}),colorLightness:Lx(function(e,Z){return CM(e,null,null,Z)}),colorAlpha:Lx(function(e,Z){return WW(e,Z)}),opacity:{applyVisual:UW("opacity"),_doMap:a9([0,1])},symbol:{applyVisual:function(k,i,m){var Z=this.mapValueToVisual(k);if(Ei(Z)){m("symbol",Z)}else{if(Py(Z)){for(var e in Z){if(Z.hasOwnProperty(e)){m(e,Z[e])}}}}},_doMap:{linear:NL,category:JR,piecewise:function(i,e){var Z=Uv.call(this,e);if(Z==null){Z=NL.call(this,i)}return Z},fixed:AH}},symbolSize:{applyVisual:UW("symbolSize"),_doMap:a9([0,1])}};function Ee(e){var Z=e.pieceList;e.hasSpecialVisual=false;Dy(Z,function(i,k){i.originIndex=k;if(i.visual!=null){e.hasSpecialVisual=true}})}function A1(PI){var v=PI.categories;var m=PI.visual;var k=PI.categoryMap={};Lc(v,function(i,WH){k[i]=WH});if(!cW(m)){var Z=[];if(EJ(m)){Lc(m,function(WH,i){var XY=k[i];Z[XY!=null?XY:Dg]=WH})}else{Z[Dg]=m}m=Nt(PI,Z)}for(var e=v.length-1;e>=0;e--){if(m[e]==null){delete k[v[e]];v.pop()}}}function MH(m,e){var i=m.visual;var Z=[];if(EJ(i)){Lc(i,function(PI){Z.push(PI)})}else{if(i!=null){Z.push(i)}}var k={color:1,symbol:1};if(!e&&Z.length===1&&!k.hasOwnProperty(m.type)){Z[1]=Z[0]}Nt(m,Z)}function Lx(Z){return{applyVisual:function(i,e,k){i=this.mapValueToVisual(i);k("color",Z(e("color"),i))},_doMap:a9([0,1])}}function NL(e){var Z=this.option.visual;return Z[Math.round(Yv(e,[0,1],[0,Z.length-1],true))]||{}}function UW(Z){return function(i,e,k){k(Z,this.mapValueToVisual(i))}}function JR(e){var Z=this.option.visual;return Z[(this.option.loop&&e!==Dg)?e%Z.length:e]}function AH(){return this.option.visual[0]}function a9(Z){return{linear:function(e){return Yv(e,Z,this.option.visual,true)},category:JR,piecewise:function(k,i){var e=Uv.call(this,i);if(e==null){e=Yv(k,Z,this.option.visual,true)}return e},fixed:AH}}function Uv(i){var m=this.option;var e=m.pieceList;if(m.hasSpecialVisual){var k=Oi.findPieceIndex(i,e);var Z=e[k];if(Z&&Z.visual){return Z.visual[this.type]}}}function Nt(e,Z){e.visual=Z;if(e.type==="color"){e.parsedVisual=QL(Z,function(i){return dl(i)})}return Z}var DT={linear:function(Z){return Yv(Z,this.option.dataExtent,[0,1],true)},piecewise:function(Z){var i=this.option.pieceList;var e=Oi.findPieceIndex(Z,i,true);if(e!=null){return Yv(e,[0,i.length-1],[0,1],true)}},category:function(e){var Z=this.option.categories?this.option.categoryMap[e]:e;return Z==null?Dg:Z},fixed:gw};Oi.listVisualTypes=function(){var Z=[];Dy(BZ,function(i,e){Z.push(e)});return Z};Oi.addVisualHandler=function(e,Z){BZ[e]=Z};Oi.isValidType=function(Z){return BZ.hasOwnProperty(Z)};Oi.eachVisual=function(i,Z,e){if(EJ(i)){Dy(i,Z,e)}else{Z.call(e,i)}};Oi.mapVisual=function(m,Z,e){var i;var k=cW(m)?[]:EJ(m)?{}:(i=true,null);Oi.eachVisual(m,function(WH,PI){var XY=Z.call(e,WH,PI);i?(k=XY):(k[PI]=XY)});return k};Oi.retrieveVisuals=function(e){var i={};var Z;e&&Lc(BZ,function(k,m){if(e.hasOwnProperty(m)){i[m]=e[m];Z=true}});return Z?i:null};Oi.prepareVisualTypes=function(e){if(Py(e)){var Z=[];Lc(e,function(k,i){Z.push(i)});e=Z}else{if(cW(e)){e=e.slice()}else{return[]}}e.sort(function(k,i){return(i==="color"&&k!=="color"&&k.indexOf("color")===0)?1:-1});return e};Oi.dependsOn=function(Z,e){return e==="color"?!!(Z&&Z.indexOf(e)===0):Z===e};Oi.findPieceIndex=function(PI,e,Z){var g1;var XY=Infinity;for(var WH=0,cc=e.length;WH<cc;WH++){var Z2=e[WH].value;if(Z2!=null){if(Z2===PI||(typeof Z2==="string"&&Z2===PI+"")){return WH}Z&&m(Z2,WH)}}for(var WH=0,cc=e.length;WH<cc;WH++){var g2=e[WH];var k=g2.interval;var v=g2.close;if(k){if(k[0]===-Infinity){if(gC(v[1],PI,k[1])){return WH}}else{if(k[1]===Infinity){if(gC(v[0],k[0],PI)){return WH}}else{if(gC(v[0],k[0],PI)&&gC(v[1],PI,k[1])){return WH}}}Z&&m(k[0],WH);Z&&m(k[1],WH)}}if(Z){return PI===Infinity?e.length-1:PI===-Infinity?0:g1}function m(g4,g3){var i=Math.abs(g4-PI);if(i<XY){XY=i;g1=g3}}};function gC(i,e,Z){return i?e<=Z:e<Z}var M2=cW;var FD="itemStyle";var Pj={seriesType:"treemap",reset:function(WH,Z,PI,e){var k=WH.getData().tree;var i=k.root;var m=WH.getModel(FD);if(i.isRemoved()){return}var v=QL(k.levelModels,function(XY){return XY?XY.get(FD):null});Jc(i,{},v,m,WH.getViewRoot().getAncestors(),WH)}};function Jc(XY,g2,cc,e,g3,g5){var i=XY.getModel();var PI=XY.getLayout();if(!PI||PI.invisible||!PI.isInView){return}var k=XY.getModel(FD);var g4=cc[XY.depth];var m=el(k,g2,g4,e);var g1=k.get("borderColor");var WH=k.get("borderColorSaturation");var v;if(WH!=null){v=BC(m,XY);g1=I4(WH,v)}XY.setVisual("borderColor",g1);var Z=XY.viewChildren;if(!Z||!Z.length){v=BC(m,XY);XY.setVisual("color",v)}else{var Z2=Rk(XY,i,PI,k,m,Z);Dy(Z,function(g6,g7){if(g6.depth>=g3.length||g6===g3[g6.depth]){var g8=K(i,m,g6,g7,Z2,g5);Jc(g6,g8,cc,e,g3,g5)}})}}function el(i,m,k,e){var Z=XN({},m);Dy(["color","colorAlpha","colorSaturation"],function(v){var PI=i.get(v,true);PI==null&&k&&(PI=k[v]);PI==null&&(PI=m[v]);PI==null&&(PI=e.get(v));PI!=null&&(Z[v]=PI)});return Z}function BC(i){var k=JG(i,"color");if(k){var Z=JG(i,"colorAlpha");var e=JG(i,"colorSaturation");if(e){k=CM(k,null,null,e)}if(Z){k=WW(k,Z)}return k}}function I4(Z,e){return e!=null?CM(e,null,null,Z):null}function JG(i,e){var Z=i[e];if(Z!=null&&Z!=="none"){return Z}}function Rk(PI,Z,v,e,k,cc){if(!cc||!cc.length){return}var Z2=UR(Z,"color")||(k.color!=null&&k.color!=="none"&&(UR(Z,"colorAlpha")||UR(Z,"colorSaturation")));if(!Z2){return}var m=Z.get("visualMin");var i=Z.get("visualMax");var g1=v.dataExtent.slice();m!=null&&m<g1[0]&&(g1[0]=m);i!=null&&i>g1[1]&&(g1[1]=i);var XY=Z.get("colorMappingBy");var WH={type:Z2.name,dataExtent:g1,visual:Z2.range};if(WH.type==="color"&&(XY==="index"||XY==="id")){WH.mappingMethod="category";WH.loop=true}else{WH.mappingMethod="linear"}var g2=new Oi(WH);g2.__drColorMappingBy=XY;return g2}function UR(Z,e){var i=Z.get(e);return(M2(i)&&i.length)?{name:e,range:i}:null}function K(WH,i,PI,e,Z2,XY){var m=XN({},i);if(Z2){var k=Z2.type;var Z=k==="color"&&Z2.__drColorMappingBy;var v=Z==="index"?e:Z==="id"?XY.mapIdToIndex(PI.getId()):PI.getValue(WH.get("visualDimension"));m[k]=Z2.mapValueToVisual(v)}return m}var Bt=Math.max;var Mb=Math.min;var dH=ER;var b2=Dy;var C6=["itemStyle","borderWidth"];var Wf=["itemStyle","gapWidth"];var Rd=["upperLabel","show"];var Ud=["upperLabel","height"];var gZ={seriesType:"treemap",reset:function(PI,Z,cc,ha){var m=cc.getWidth();var Z2=cc.getHeight();var g5=PI.option;var g1=CU(PI.getBoxLayoutParams(),{width:cc.getWidth(),height:cc.getHeight()});var v=g5.size||[];var g6=Pw(dH(g1.width,v[0]),m);var e=Pw(dH(g1.height,v[1]),Z2);var g7=ha&&ha.type;var k=["treemapZoomToNode","treemapRootToNode"];var hb=YP(ha,k,PI);var i=(g7==="treemapRender"||g7==="treemapMove")?ha.rootRect:null;var g4=PI.getViewRoot();var WH=d8(g4);if(g7!=="treemapMove"){var XY=g7==="treemapZoomToNode"?Lh(PI,hb,g4,g6,e):i?[i.width,i.height]:[g6,e];var g3=g5.sort;if(g3&&g3!=="asc"&&g3!=="desc"){g3="desc"}var g2={squareRatio:g5.squareRatio,sort:g3,leafDepth:g5.leafDepth};g4.hostTree.clearLayouts();var g8={x:0,y:0,width:XY[0],height:XY[1],area:XY[0]*XY[1]};g4.setLayout(g8);cQ(g4,g2,false,0);var g8=g4.getLayout();b2(WH,function(hc,hd){var he=(WH[hd+1]||g4).getValue();hc.setLayout(XN({dataExtent:[he,he],borderWidth:0,upperHeight:0},g8))})}var g9=PI.getData().tree.root;g9.setLayout(ck(g1,i,hb),true);PI.setLayoutInfo(g1);gO(g9,new FY(-g1.x,-g1.y,m,Z2),WH,g4,0)}};function cQ(g8,g9,g2,g1){var g5;var g4;if(g8.isRemoved()){return}var ha=g8.getLayout();g5=ha.width;g4=ha.height;var he=g8.getModel();var cc=he.get(C6);var hd=he.get(Wf)/2;var hf=EY(he);var hc=Math.max(cc,hf);var g3=cc-hd;var e=hc-hd;var he=g8.getModel();g8.setLayout({borderWidth:cc,upperHeight:hc,upperLabelHeight:hf},true);g5=Bt(g5-2*g3,0);g4=Bt(g4-g3-e,0);var g7=g5*g4;var WH=U1(g8,he,g7,g9,g2,g1);if(!WH.length){return}var Z2={x:g3,y:e,width:g5,height:g4};var m=Mb(g5,g4);var g6=Infinity;var k=[];k.area=0;for(var PI=0,hb=WH.length;PI<hb;){var v=WH[PI];k.push(v);k.area+=v.getLayout().area;var Z=Ay(k,m,g9.squareRatio);if(Z<=g6){PI++;g6=Z}else{k.area-=k.pop().getLayout().area;Mn(k,m,Z2,hd,false);m=Mb(Z2.width,Z2.height);k.length=k.area=0;g6=Infinity}}if(k.length){Mn(k,m,Z2,hd,true)}if(!g2){var XY=he.get("childrenVisibleMin");if(XY!=null&&g7<XY){g2=true}}for(var PI=0,hb=WH.length;PI<hb;PI++){cQ(WH[PI],g9,g2,g1+1)}}function U1(Z2,k,cc,WH,g3,XY){var g2=Z2.children||[];var e=WH.sort;e!=="asc"&&e!=="desc"&&(e=null);var v=WH.leafDepth!=null&&WH.leafDepth<=XY;if(g3&&!v){return(Z2.viewChildren=[])}g2=bs(g2,function(i){return !i.isRemoved()});Dj(g2,e);var Z=dZ(k,g2,e);if(Z.sum===0){return(Z2.viewChildren=[])}Z.sum=eW(k,cc,Z.sum,e,g2);if(Z.sum===0){return(Z2.viewChildren=[])}for(var PI=0,g1=g2.length;PI<g1;PI++){var m=g2[PI].getValue()/Z.sum*cc;g2[PI].setLayout({area:m})}if(v){g2.length&&Z2.setLayout({isLeafRoot:true},true);g2.length=0}Z2.viewChildren=g2;Z2.setLayout({dataExtent:Z.dataExtent},true);return g2}function eW(k,WH,v,Z2,cc){if(!Z2){return v}var e=k.get("visibleMin");var XY=cc.length;var Z=XY;for(var PI=XY-1;PI>=0;PI--){var m=cc[Z2==="asc"?XY-PI-1:PI].getValue();if(m/v*WH<e){Z=PI;v-=m}}Z2==="asc"?cc.splice(0,XY-Z):cc.splice(Z,XY-Z);return v}function Dj(e,Z){if(Z){e.sort(function(k,i){var m=Z==="asc"?k.getValue()-i.getValue():i.getValue()-k.getValue();return m===0?(Z==="asc"?k.dataIndex-i.dataIndex:i.dataIndex-k.dataIndex):m})}return e}function dZ(Z,k,WH){var m=0;for(var v=0,PI=k.length;v<PI;v++){m+=k[v].getValue()}var XY=Z.get("visualDimension");var e;if(!k||!k.length){e=[NaN,NaN]}else{if(XY==="value"&&WH){e=[k[k.length-1].getValue(),k[0].getValue()];WH==="asc"&&e.reverse()}else{var e=[Infinity,-Infinity];b2(k,function(i){var Z2=i.getValue(XY);Z2<e[0]&&(e[0]=Z2);Z2>e[1]&&(e[1]=Z2)})}}return{sum:m,dataExtent:e}}function Ay(PI,k,Z){var WH=0;var cc=Infinity;for(var v=0,e,XY=PI.length;v<XY;v++){e=PI[v].getLayout().area;if(e){e<cc&&(cc=e);e>WH&&(WH=e)}}var m=PI.area*PI.area;var Z2=k*k*Z;return m?Bt((Z2*WH)/m,m/(Z2*cc)):Infinity}function Mn(g9,ha,g1,g8,g5){var Z=ha===g1.width?0:1;var cc=1-Z;var m=["x","y"];var v=["width","height"];var g6=g1[m[Z]];var XY=ha?g9.area/ha:0;if(g5||XY>g1[v[cc]]){XY=g1[v[cc]]}for(var WH=0,g7=g9.length;WH<g7;WH++){var g4=g9[WH];var Z2={};var k=XY?g4.getLayout().area/XY:0;var g3=Z2[v[cc]]=Bt(XY-2*g8,0);var PI=g1[m[Z]]+g1[v[Z]]-g6;var e=(WH===g7-1||PI<k)?PI:k;var g2=Z2[v[Z]]=Bt(e-2*g8,0);Z2[m[cc]]=g1[m[cc]]+Mb(g8,g3/2);Z2[m[Z]]=g6+Mb(g8,g2/2);g6+=e;g4.setLayout(Z2,true)}g1[m[cc]]+=XY;g1[v[cc]]-=XY}function Lh(PI,g9,g5,g8,cc){var g3=(g9||{}).node;var k=[g8,cc];if(!g3||g3===g5){return k}var g4;var g6=g8*cc;var g7=g6*PI.option.zoomToNodeRatio;while(g4=g3.parentNode){var Z2=0;var Z=g4.children;for(var v=0,e=Z.length;v<e;v++){Z2+=Z[v].getValue()}var WH=g3.getValue();if(WH===0){return k}g7*=Z2/WH;var m=g4.getModel();var XY=m.get(C6);var g2=Math.max(XY,EY(m,XY));g7+=4*XY*XY+(3*XY+g2)*Math.pow(g7,0.5);g7>W8&&(g7=W8);g3=g4}g7<g6&&(g7=g6);var g1=Math.pow(g7/g6,0.5);return[g8*g1,cc*g1]}function ck(e,WH,PI){if(WH){return{x:WH.x,y:WH.y}}var XY={x:0,y:0};if(!PI){return XY}var Z=PI.node;var i=Z.getLayout();if(!i){return XY}var m=[i.width/2,i.height/2];var k=Z;while(k){var v=k.getLayout();m[0]+=v.x;m[1]+=v.y;k=k.parentNode}return{x:e.width/2-m[0],y:e.height/2-m[1]}}function gO(WH,v,k,m,XY){var PI=WH.getLayout();var i=k[XY];var e=i&&i===WH;if((i&&!e)||(XY===k.length&&WH!==m)){return}WH.setLayout({isInView:true,invisible:!e&&!v.intersect(PI),isAboveViewRoot:e},true);var Z=new FY(v.x-PI.x,v.y-PI.y,v.width,v.height);b2(WH.viewChildren||[],function(Z2){gO(Z2,Z,k,m,XY+1)})}function EY(Z){return Z.get(Rd)?Z.get(Ud):0}Ao(Pj);gH(gZ);function EZ(Z){return"_EC_"+Z}var KG=function(Z){this._directed=Z||false;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};var Pt=KG.prototype;Pt.type="graph";Pt.isDirected=function(){return this._directed};Pt.addNode=function(k,Z){k=k||(""+Z);var i=this._nodesMap;if(i[EZ(k)]){if(W1){console.error("Graph nodes have duplicate name or id")}return}var e=new WY(k,Z);e.hostGraph=this;this.nodes.push(e);i[EZ(k)]=e;return e};Pt.getNodeByIndex=function(Z){var e=this.data.getRawIndex(Z);return this.nodes[e]};Pt.getNodeById=function(Z){return this._nodesMap[EZ(Z)]};Pt.addEdge=function(k,m,e){var v=this._nodesMap;var Z=this._edgesMap;if(typeof k==="number"){k=this.nodes[k]}if(typeof m==="number"){m=this.nodes[m]}if(!WY.isInstance(k)){k=v[EZ(k)]}if(!WY.isInstance(m)){m=v[EZ(m)]}if(!k||!m){return}var PI=k.id+"-"+m.id;if(Z[PI]){return}var i=new Ns(k,m,e);i.hostGraph=this;if(this._directed){k.outEdges.push(i);m.inEdges.push(i)}k.edges.push(i);if(k!==m){m.edges.push(i)}this.edges.push(i);Z[PI]=i;return i};Pt.getEdgeByIndex=function(Z){var e=this.edgeData.getRawIndex(Z);return this.edges[e]};Pt.getEdge=function(Z,e){if(WY.isInstance(Z)){Z=Z.id}if(WY.isInstance(e)){e=e.id}var i=this._edgesMap;if(this._directed){return i[Z+"-"+e]}else{return i[Z+"-"+e]||i[e+"-"+Z]}};Pt.eachNode=function(Z,e){var m=this.nodes;var v=m.length;for(var k=0;k<v;k++){if(m[k].dataIndex>=0){Z.call(e,m[k],k)}}};Pt.eachEdge=function(Z,e){var k=this.edges;var v=k.length;for(var m=0;m<v;m++){if(k[m].dataIndex>=0&&k[m].node1.dataIndex>=0&&k[m].node2.dataIndex>=0){Z.call(e,k[m],m)}}};Pt.breadthFirstTraverse=function(PI,v,k,XY){if(!WY.isInstance(v)){v=this._nodesMap[EZ(v)]}if(!v){return}var Z2=k==="out"?"outEdges":(k==="in"?"inEdges":"edges");for(var cc=0;cc<this.nodes.length;cc++){this.nodes[cc].__visited=false}if(PI.call(XY,v,null)){return}var WH=[v];while(WH.length){var g1=WH.shift();var m=g1[Z2];for(var cc=0;cc<m.length;cc++){var Z=m[cc];var g2=Z.node1===g1?Z.node2:Z.node1;if(!g2.__visited){if(PI.call(XY,g2,g1)){return}WH.push(g2);g2.__visited=true}}}};Pt.update=function(){var PI=this.data;var k=this.edgeData;var m=this.nodes;var e=this.edges;for(var Z=0,v=m.length;Z<v;Z++){m[Z].dataIndex=-1}for(var Z=0,v=PI.count();Z<v;Z++){m[PI.getRawIndex(Z)].dataIndex=Z}k.filterSelf(function(WH){var i=e[k.getRawIndex(WH)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var Z=0,v=e.length;Z<v;Z++){e[Z].dataIndex=-1}for(var Z=0,v=k.count();Z<v;Z++){e[k.getRawIndex(Z)].dataIndex=Z}};Pt.clone=function(){var m=new KG(this._directed);var v=this.nodes;var k=this.edges;for(var Z=0;Z<v.length;Z++){m.addNode(v[Z].id,v[Z].dataIndex)}for(var Z=0;Z<k.length;Z++){var PI=k[Z];m.addEdge(PI.node1.id,PI.node2.id,PI.dataIndex)}return m};function WY(e,Z){this.id=e==null?"":e;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=Z==null?-1:Z}WY.prototype={constructor:WY,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(i){if(this.dataIndex<0){return}var e=this.hostGraph;var Z=e.data.getItemModel(this.dataIndex);return Z.getModel(i)}};function Ns(e,i,Z){this.node1=e;this.node2=i;this.dataIndex=Z==null?-1:Z}Ns.prototype.getModel=function(i){if(this.dataIndex<0){return}var e=this.hostGraph;var Z=e.edgeData.getItemModel(this.dataIndex);return Z.getModel(i)};var fG=function(Z,e){return{getValue:function(i){var k=this[Z][e];return k.get(k.getDimension(i||"value"),this.dataIndex)},setVisual:function(i, k){this.dataIndex>=0&&this[Z][e].setItemVisual(this.dataIndex,i,k)},getVisual:function(i, k){return this[Z][e].getItemVisual(this.dataIndex,i,k)},setLayout:function(k, i){this.dataIndex>=0&&this[Z][e].setItemLayout(this.dataIndex,k,i)},getLayout:function(){return this[Z][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[Z][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[Z][e].getRawIndex(this.dataIndex)}}};eG(WY,fG("hostGraph","data"));eG(Ns,fG("hostGraph","edgeData"));KG.Node=WY;KG.Edge=Ns;Dl(WY);Dl(Ns);var Qb=function(m, g6, PI, k, g2){var g4=new KG(k);for(var v=0; v<m.length; v++){g4.addNode(ER(m[v].id,m[v].name,v),v)}var e=[];var Z=[];var WH=0;for(var v=0; v<g6.length; v++){var g1=g6[v];var cc=g1.source;var g5=g1.target;if(g4.addEdge(cc,g5,WH)){Z.push(g1);e.push(ER(g1.id,cc+" > "+g5));WH++}}var Z2=PI.get("coordinateSystem");var XY;if(Z2==="cartesian2d"||Z2==="polar"){XY=VR(m,PI)}else{var g8=Rn.get(Z2);var g3=F0(m,{coordDimensions:((g8&&g8.type!=="view")?(g8.dimensions||[]):[]).concat(["value"])});XY=new Mh(g3,PI);XY.initData(m)}var g7=new Mh(["value"],PI);g7.initData(Z,e);g2&&g2(XY,g7);L2({mainData:XY,struct:g4,structAttr:"graph",datas:{node:XY,edge:g7},datasAttr:{node:"data",edge:"edgeData"}});g4.update();return g4};var Hw=Sa({type:"series.graph",init:function(Z){Hw.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(Z.edges||Z.links);this._updateCategoriesData()},mergeOption:function(Z){Hw.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(Z.edges||Z.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(Z){Hw.superApply(this,"mergeDefaultAndTheme",arguments);XI(Z,["edgeLabel"],["show"])},getInitialData:function(Z,i){var e=Z.edges||Z.links||[];var k=Z.data||Z.nodes||[];var m=this;if(k&&e){return Qb(k,e,this,true,v).data}function v(cc,WH){cc.wrapMethod("getItemModel",function(g4){var g3=m._categoriesModels;var g2=g4.getShallow("category");var g1=g3[g2];if(g1){g1.parentModel=g4.parentModel;g4.parentModel=g1}return g4});var Z2=m.getModel("edgeLabel");var XY=new fx({label:Z2.option},Z2.parentModel,i);WH.wrapMethod("getItemModel",function(g1){g1.customizeGetParent(PI);return g1});function PI(g1){g1=this.parsePath(g1);return(g1&&g1[0]==="label")?XY:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(i,Z,e){if(e==="edge"){var k=this.getData();var v=this.getDataParams(i,e);var PI=k.graph.getEdgeByIndex(i);var WH=k.getName(PI.node1.dataIndex);var m=k.getName(PI.node2.dataIndex);var XY=[];WH!=null&&XY.push(WH);m!=null&&XY.push(m);XY=Qp(XY.join(" > "));if(v.value){XY+=" : "+Qp(v.value)}return XY}else{return Hw.superApply(this,"formatTooltip",arguments)}},_updateCategoriesData:function(){var e=QL(this.option.categories||[],function(i){return i.value!=null?i:XN({value:0},i)});var Z=new Mh(["value"],this);Z.initData(e);this._categoriesData=Z;this._categoriesModels=Z.mapArray(function(i){return Z.getItemModel(i,true)})},setZoom:function(Z){this.option.zoom=Z},setCenter:function(Z){this.option.center=Z},isAnimationEnabled:function(){return Hw.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:true,hoverAnimation:true,layout:null,focusNodeAdjacency:false,circular:{rotateLabel:false},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:true},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:false,roam:false,center:null,zoom:1,nodeScaleRatio:0.6,label:{show:false,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{label:{show:true}}}});var Zq=Ut.prototype;var Lm=E4.prototype;function F7(Z){return isNaN(+Z.cpx1)||isNaN(+Z.cpy1)}var Gb=Ck({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(Z,e){(F7(e)?Zq:Lm).buildPath(Z,e)},pointAt:function(Z){return F7(this.shape)?Zq.pointAt.call(this,Z):Lm.pointAt.call(this,Z)},tangentAt:function(e){var i=this.shape;var Z=F7(i)?[i.x2-i.x1,i.y2-i.y1]:Lm.tangentAt.call(this,e);return dm(Z,Z)}});var eB=["fromSymbol","toSymbol"];function RQ(Z){return"_"+Z+"Type"}function Sj(k,Z,m){var PI=Z.getItemVisual(m,"color");var e=Z.getItemVisual(m,k);var v=Z.getItemVisual(m,k+"Size");if(!e||e==="none"){return}if(!cW(v)){v=[v,v]}var i=FK(e,-v[0]/2,-v[1]/2,v[0],v[1],PI);i.name=k;return i}function M6(Z){var e=new Gb({name:"line"});gX(e.shape,Z);return e}function gX(m,i){var Z=i[0];var k=i[1];var e=i[2];m.x1=Z[0];m.y1=Z[1];m.x2=k[0];m.y2=k[1];m.percent=1;if(e){m.cpx1=e[0];m.cpy1=e[1]}else{m.cpx1=NaN;m.cpy1=NaN}}function Yp(){var e=this;var g9=e.childOfName("fromSymbol");var Z2=e.childOfName("toSymbol");var g7=e.childOfName("label");if(!g9&&!Z2&&g7.ignore){return}var g3=1;var g1=this.parent;while(g1){if(g1.scale){g3/=g1.scale[0]}g1=g1.parent}var g2=e.childOfName("line");if(!this.__dirty&&!g2.__dirty){return}var i=g2.shape.percent;var v=g2.pointAt(0);var g8=g2.pointAt(i);var WH=NW([],g8,v);dm(WH,WH);if(g9){g9.attr("position",v);var Z=g2.tangentAt(0);g9.attr("rotation",Math.PI/2-Math.atan2(Z[1],Z[0]));g9.attr("scale",[g3*i,g3*i])}if(Z2){Z2.attr("position",g8);var Z=g2.tangentAt(1);Z2.attr("rotation",-Math.PI/2-Math.atan2(Z[1],Z[0]));Z2.attr("scale",[g3*i,g3*i])}if(!g7.ignore){g7.attr("position",g8);var g5;var PI;var g6;var XY=5*g3;if(g7.__position==="end"){g5=[WH[0]*XY+g8[0],WH[1]*XY+g8[1]];PI=WH[0]>0.8?"left":(WH[0]<-0.8?"right":"center");g6=WH[1]>0.8?"top":(WH[1]<-0.8?"bottom":"middle")}else{if(g7.__position==="middle"){var cc=i/2;var Z=g2.tangentAt(cc);var k=[Z[1],-Z[0]];var g4=g2.pointAt(cc);if(k[1]>0){k[0]=-k[0];k[1]=-k[1]}g5=[g4[0]+k[0]*XY,g4[1]+k[1]*XY];PI="center";g6="bottom";var m=-Math.atan2(Z[1],Z[0]);if(g8[0]<v[0]){m=Math.PI+m}g7.attr("rotation",m)}else{g5=[-WH[0]*XY+v[0],-WH[1]*XY+v[1]];PI=WH[0]>0.8?"right":(WH[0]<-0.8?"left":"center");g6=WH[1]>0.8?"bottom":(WH[1]<-0.8?"top":"middle")}}g7.attr({style:{textVerticalAlign:g7.__verticalAlign||g6,textAlign:g7.__textAlign||PI},position:g5,scale:[g3,g3]})}}function OD(Z,e,i){U3.call(this);this._createLine(Z,e,i)}var Vm=OD.prototype;Vm.beforeUpdate=Yp;Vm._createLine=function(e,k,v){var i=e.hostModel;var Z=e.getItemLayout(k);var m=M6(Z);m.shape.percent=0;ef(m,{shape:{percent:1}},i,k);this.add(m);var PI=new FW({name:"label"});this.add(PI);Dy(eB,function(XY){var WH=Sj(XY,e,k);this.add(WH);this[RQ(XY)]=e.getItemVisual(k,XY)},this);this._updateCommonStl(e,k,v)};Vm.updateData=function(e,m,PI){var i=e.hostModel;var v=this.childOfName("line");var Z=e.getItemLayout(m);var k={shape:{}};gX(k.shape,Z);Qr(v,k,i,m);Dy(eB,function(cc){var XY=e.getItemVisual(m,cc);var WH=RQ(cc);if(this[WH]!==XY){this.remove(this.childOfName(cc));var Z2=Sj(cc,e,m);this.add(Z2)}this[WH]=XY},this);this._updateCommonStl(e,m,PI)};Vm._updateCommonStl=function(i,g9,e){var XY=i.hostModel;var PI=this.childOfName("line");var Z2=e&&e.lineStyle;var g2=e&&e.hoverLineStyle;var Z=e&&e.labelModel;var WH=e&&e.hoverLabelModel;if(!e||i.hasItemOption){var g7=i.getItemModel(g9);Z2=g7.getModel("lineStyle").getLineStyle();g2=g7.getModel("emphasis.lineStyle").getLineStyle();Z=g7.getModel("label");WH=g7.getModel("emphasis.label")}var g5=i.getItemVisual(g9,"color");var g1=Vh(i.getItemVisual(g9,"opacity"),Z2.opacity,1);PI.useStyle(IK({strokeNoScale:true,fill:"none",stroke:g5,opacity:g1},Z2));PI.hoverStyle=g2;Dy(eB,function(hb){var ha=this.childOfName(hb);if(ha){ha.setColor(g5);ha.setStyle({opacity:g1})}},this);var v=Z.getShallow("show");var m=WH.getShallow("show");var g8=this.childOfName("label");var g4;var cc;var g3;if(v||m){g4=g5||"#000";cc=XY.getFormattedLabel(g9,"normal",i.dataType);if(cc==null){var k=XY.getRawValue(g9);cc=k==null?i.getName(g9):isFinite(k)?Gu(k):k}g3=Vi(XY.getFormattedLabel(g9,"emphasis",i.dataType),cc)}if(v){var g6=DQ(g8.style,Z,{text:cc},{autoColor:g4});g8.__textAlign=g6.textAlign;g8.__verticalAlign=g6.textVerticalAlign;g8.__position=Z.get("position")||"middle"}else{g8.setStyle("text",null)}if(m){g8.hoverStyle={text:g3,textFill:WH.getTextColor(true),fontStyle:WH.getShallow("fontStyle"),fontWeight:WH.getShallow("fontWeight"),fontSize:WH.getShallow("fontSize"),fontFamily:WH.getShallow("fontFamily")}}else{g8.hoverStyle={text:null}}g8.ignore=!v&&!m;N7(this)};Vm.highlight=function(){this.trigger("emphasis")};Vm.downplay=function(){this.trigger("normal")};Vm.updateLayout=function(Z,e){this.setLinePoints(Z.getItemLayout(e))};Vm.setLinePoints=function(Z){var e=this.childOfName("line");gX(e.shape,Z);e.dirty()};K8(OD,U3);function Nh(Z){this._ctor=Z||OD;this.group=new U3()}var JB=Nh.prototype;JB.isPersistent=function(){return true};JB.updateData=function(e){var Z=this;var k=Z.group;var i=Z._lineData;Z._lineData=e;if(!i){k.removeAll()}var m=Re(e);e.diff(i).add(function(v){Xf(Z,e,v,m)}).update(function(v,PI){SX(Z,i,e,PI,v,m)}).remove(function(v){k.remove(i.getItemGraphicEl(v))}).execute()};function Xf(Z,e,k,v){var m=e.getItemLayout(k);if(!OS(m)){return}var i=new Z._ctor(e,k,v);e.setItemGraphicEl(k,i);Z.group.add(i)}function SX(Z,m,i,k,e,PI){var v=m.getItemGraphicEl(k);if(!OS(i.getItemLayout(e))){Z.group.remove(v);return}if(!v){v=new Z._ctor(i,e,PI)}else{v.updateData(i,e,PI)}i.setItemGraphicEl(e,v);Z.group.add(v)}JB.updateLayout=function(){var Z=this._lineData;Z.eachItemGraphicEl(function(e,i){e.updateLayout(Z,i)},this)};JB.incrementalPrepareUpdate=function(Z){this._seriesScope=Re(Z);this._lineData=null;this.group.removeAll()};JB.incrementalUpdate=function(i,e){function v(PI){if(!PI.isGroup){PI.incremental=PI.useHoverLayer=true}}for(var k=i.start;k<i.end;k++){var m=e.getItemLayout(k);if(OS(m)){var Z=new this._ctor(e,k,this._seriesScope);Z.traverse(v);this.group.add(Z)}}};function Re(Z){var e=Z.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}JB.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};JB._clearIncremental=function(){var Z=this._incremental;if(Z){Z.clearDisplaybles()}};function WU(Z){return isNaN(Z[0])||isNaN(Z[1])}function OS(Z){return !WU(Z[0])&&!WU(Z[1])}var Zb=[];var PT=[];var Q9=[];var O6=Jn;var GD=Gj;var Yq=Math.abs;function Et(g4,Z,cc){var e=g4[0];var XY=g4[1];var g1=g4[2];var g5=Infinity;var m;var g3=cc*cc;var k=0.1;for(var PI=0.1;PI<=0.9;PI+=0.1){Zb[0]=O6(e[0],XY[0],g1[0],PI);Zb[1]=O6(e[1],XY[1],g1[1],PI);var v=Yq(GD(Zb,Z)-g3);if(v<g5){g5=v;m=PI}}for(var WH=0;WH<32;WH++){var Z2=m+k;PT[0]=O6(e[0],XY[0],g1[0],m);PT[1]=O6(e[1],XY[1],g1[1],m);Q9[0]=O6(e[0],XY[0],g1[0],Z2);Q9[1]=O6(e[1],XY[1],g1[1],Z2);var v=GD(PT,Z)-g3;if(Yq(v)<0.01){break}var g2=GD(Q9,Z)-g3;k/=2;if(v<0){if(g2>=0){m=m+k}else{m=m-k}}else{if(g2>=0){m=m-k}else{m=m+k}}}return m}var DN=function(k,WH){var i=[];var XY=VG;var Z=[[],[],[]];var m=[[],[]];var e=[];WH/=2;function PI(v){var Z2=v.getVisual("symbolSize");if(Z2 instanceof Array){Z2=(Z2[0]+Z2[1])/2}return Z2}k.eachEdge(function(g5,g2){var g3=g5.getLayout();var Z2=g5.getVisual("fromSymbol");var cc=g5.getVisual("toSymbol");if(!g3.__original){g3.__original=[ZG(g3[0]),ZG(g3[1])];if(g3[2]){g3.__original.push(ZG(g3[2]))}}var g4=g3.__original;if(g3[2]!=null){HF(Z[0],g4[0]);HF(Z[1],g4[2]);HF(Z[2],g4[1]);if(Z2&&Z2!="none"){var v=PI(g5.node1);var g1=Et(Z,g4[0],v*WH);XY(Z[0][0],Z[1][0],Z[2][0],g1,i);Z[0][0]=i[3];Z[1][0]=i[4];XY(Z[0][1],Z[1][1],Z[2][1],g1,i);Z[0][1]=i[3];Z[1][1]=i[4]}if(cc&&cc!="none"){var v=PI(g5.node2);var g1=Et(Z,g4[1],v*WH);XY(Z[0][0],Z[1][0],Z[2][0],g1,i);Z[1][0]=i[1];Z[2][0]=i[2];XY(Z[0][1],Z[1][1],Z[2][1],g1,i);Z[1][1]=i[1];Z[2][1]=i[2]}HF(g3[0],Z[0]);HF(g3[1],Z[2]);HF(g3[2],Z[1])}else{HF(m[0],g4[0]);HF(m[1],g4[1]);NW(e,m[1],m[0]);dm(e,e);if(Z2&&Z2!="none"){var v=PI(g5.node1);HA(m[0],m[0],e,v*WH)}if(cc&&cc!="none"){var v=PI(g5.node2);HA(m[1],m[1],e,-v*WH)}HF(g3[0],m[0]);HF(g3[1],m[1])}})};var VE=["itemStyle","opacity"];var I8=["lineStyle","opacity"];function H5(e,Z){return e.getVisual("opacity")||e.getModel().get(Z)}function gM(m,i,k){var Z=m.getGraphicEl();var e=H5(m,i);if(k!=null){e==null&&(e=1);e*=k}Z.downplay&&Z.downplay();Z.traverse(function(v){if(v.type!=="group"){v.setStyle("opacity",e)}})}function EE(k,i){var e=H5(k,i);var Z=k.getGraphicEl();Z.highlight&&Z.highlight();Z.traverse(function(m){if(m.type!=="group"){m.setStyle("opacity",e)}})}YB({type:"graph",init:function(i,m){var k=new gu();var Z=new Nh();var e=this.group;this._controller=new C7(m.getZr());this._controllerHost={target:e};e.add(k.group);e.add(Z.group);this._symbolDraw=k;this._lineDraw=Z;this._firstRender=true},render:function(g4,e,g2){var i=g4.coordinateSystem;this._model=g4;this._nodeScaleRatio=g4.get("nodeScaleRatio");var g1=this._symbolDraw;var PI=this._lineDraw;var Z2=this.group;if(i.type==="view"){var Z={position:i.position,scale:i.scale};if(this._firstRender){Z2.attr(Z)}else{Qr(Z2,Z,g4)}}DN(g4.getGraph(),this._getNodeGlobalScale(g4));var m=g4.getData();g1.updateData(m);var cc=g4.getEdgeData();PI.updateData(cc);this._updateNodeAndLinkScale();this._updateController(g4,e,g2);clearTimeout(this._layoutTimeout);var v=g4.forceLayout;var g3=g4.get("force.layoutAnimation");if(v){this._startForceLayoutIteration(v,g3)}m.eachItemGraphicEl(function(g5,g8){var g7=m.getItemModel(g8);g5.off("drag").off("dragend");var g6=m.getItemModel(g8).get("draggable");if(g6){g5.on("drag",function(){if(v){v.warmUp();!this._layouting&&this._startForceLayoutIteration(v,g3);v.setFixed(g8);m.setItemLayout(g8,g5.position)}},this).on("dragend",function(){if(v){v.setUnfixed(g8)}},this)}g5.setDraggable(g6&&v);g5.off("mouseover",g5.__focusNodeAdjacency);g5.off("mouseout",g5.__unfocusNodeAdjacency);if(g7.get("focusNodeAdjacency")){g5.on("mouseover",g5.__focusNodeAdjacency=function(){g2.dispatchAction({type:"focusNodeAdjacency",seriesId:g4.id,dataIndex:g5.dataIndex})});g5.on("mouseout",g5.__unfocusNodeAdjacency=function(){g2.dispatchAction({type:"unfocusNodeAdjacency",seriesId:g4.id})})}},this);m.graph.eachEdge(function(g6){var g5=g6.getGraphicEl();g5.off("mouseover",g5.__focusNodeAdjacency);g5.off("mouseout",g5.__unfocusNodeAdjacency);if(g6.getModel().get("focusNodeAdjacency")){g5.on("mouseover",g5.__focusNodeAdjacency=function(){g2.dispatchAction({type:"focusNodeAdjacency",seriesId:g4.id,edgeDataIndex:g6.dataIndex})});g5.on("mouseout",g5.__unfocusNodeAdjacency=function(){g2.dispatchAction({type:"unfocusNodeAdjacency",seriesId:g4.id})})}});var k=g4.get("layout")==="circular"&&g4.get("circular.rotateLabel");var XY=m.getLayout("cx");var WH=m.getLayout("cy");m.eachItemGraphicEl(function(g5,ha){var g7=g5.getSymbolPath();if(k){var g8=m.getItemLayout(ha);var g6=Math.atan2(g8[1]-WH,g8[0]-XY);if(g6<0){g6=Math.PI*2+g6}var g9=g8[0]<XY;if(g9){g6=g6-Math.PI}var hb=g9?"left":"right";g7.setStyle({textRotation:-g6,textPosition:hb,textOrigin:"center"});g7.hoverStyle&&(g7.hoverStyle.textPosition=hb)}else{g7.setStyle({textRotation:0})}});this._firstRender=false},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(Z2,e,XY,i){var m=this._model.getData();var k=m.graph;var WH=i.dataIndex;var Z=i.edgeDataIndex;var v=k.getNodeByIndex(WH);var PI=k.getEdgeByIndex(Z);if(!v&&!PI){return}k.eachNode(function(cc){gM(cc,VE,0.1)});k.eachEdge(function(cc){gM(cc,I8,0.1)});if(v){EE(v,VE);Dy(v.edges,function(cc){if(cc.dataIndex<0){return}EE(cc,I8);EE(cc.node1,VE);EE(cc.node2,VE)})}if(PI){EE(PI,I8);EE(PI.node1,VE);EE(PI.node2,VE)}},unfocusNodeAdjacency:function(Z,e,m,k){var i=this._model.getData().graph;i.eachNode(function(v){gM(v,VE)});i.eachEdge(function(v){gM(v,I8)})},_startForceLayoutIteration:function(e,k){var i=this;(function Z(){e.step(function(m){i.updateLayout(i._model);(i._layouting=!m)&&(k?(i._layoutTimeout=setTimeout(Z,16)):Z())})})()},_updateController:function(Z,e,m){var v=this._controller;var i=this._controllerHost;var k=this.group;v.setPointerChecker(function(PI,XY,Z2){var WH=k.getBoundingRect();WH.applyTransform(k.transform);return WH.contain(XY,Z2)&&!YM(PI,m,Z)});if(Z.coordinateSystem.type!=="view"){v.disable();return}v.enable(Z.get("roam"));i.zoomLimit=Z.get("scaleLimit");i.zoom=Z.coordinateSystem.getZoom();v.off("pan").off("zoom").on("pan",function(PI,WH){RU(i,PI,WH);m.dispatchAction({seriesId:Z.id,type:"graphRoam",dx:PI,dy:WH})}).on("zoom",function(XY,PI,WH){LR(i,XY,PI,WH);m.dispatchAction({seriesId:Z.id,type:"graphRoam",zoom:XY,originX:PI,originY:WH});this._updateNodeAndLinkScale();DN(Z.getGraph(),this._getNodeGlobalScale(Z));this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var Z=this._model;var k=Z.getData();var e=this._getNodeGlobalScale(Z);var i=[e,e];k.eachItemGraphicEl(function(m,v){m.attr("scale",i)})},_getNodeGlobalScale:function(Z){var i=Z.coordinateSystem;if(i.type!=="view"){return 1}var e=this._nodeScaleRatio;var m=i.scale;var PI=(m&&m[0])||1;var k=i.getZoom();var v=(k-1)*e+1;return v/PI},updateLayout:function(Z){DN(Z.getGraph(),this._getNodeGlobalScale(Z));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(Z,e){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});var Us={type:"graphRoam",event:"graphRoam",update:"none"};S9(Us,function(e,Z){Z.eachComponent({mainType:"series",query:e},function(i){var k=i.coordinateSystem;var m=VY(k,e);i.setCenter&&i.setCenter(m.center);i.setZoom&&i.setZoom(m.zoom)})});S9({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});S9({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var e5=function(Z){var e=Z.findComponents({mainType:"legend"});if(!e||!e.length){return}Z.eachSeriesByType("graph",function(v){var m=v.getCategoriesData();var k=v.getGraph();var PI=k.data;var i=m.mapArray(m.getName);PI.filterSelf(function(Z2){var cc=PI.getItemModel(Z2);var XY=cc.getShallow("category");if(XY!=null){if(typeof XY==="number"){XY=i[XY]}for(var WH=0;WH<e.length;WH++){if(!e[WH].isSelected(XY)){return false}}}return true})},this)};var QZ=function(Z){var e={};Z.eachSeriesByType("graph",function(i){var m=i.getCategoriesData();var v=i.getData();var k={};m.each(function(XY){var WH=m.getName(XY);k["ec-"+WH]=XY;var PI=m.getItemModel(XY);var Z2=PI.get("itemStyle.color")||i.getColorFromPalette(WH,e);m.setItemVisual(XY,"color",Z2)});if(m.count()){v.each(function(WH){var XY=v.getItemModel(WH);var PI=XY.getShallow("category");if(PI!=null){if(typeof PI==="string"){PI=k["ec-"+PI]}if(!v.getItemVisual(WH,"color",true)){v.setItemVisual(WH,"color",m.getItemVisual(PI,"color"))}}})}})};function IU(Z){if(!(Z instanceof Array)){Z=[Z,Z]}return Z}var GP=function(Z){Z.eachSeriesByType("graph",function(e){var m=e.getGraph();var k=e.getEdgeData();var v=IU(e.get("edgeSymbol"));var PI=IU(e.get("edgeSymbolSize"));var WH="lineStyle.color".split(".");var i="lineStyle.opacity".split(".");k.setVisual("fromSymbol",v&&v[0]);k.setVisual("toSymbol",v&&v[1]);k.setVisual("fromSymbolSize",PI&&PI[0]);k.setVisual("toSymbolSize",PI&&PI[1]);k.setVisual("color",e.get(WH));k.setVisual("opacity",e.get(i));k.each(function(g2){var Z2=k.getItemModel(g2);var cc=m.getEdgeByIndex(g2);var XY=IU(Z2.getShallow("symbol",true));var g3=IU(Z2.getShallow("symbolSize",true));var g4=Z2.get(WH);var g1=Z2.get(i);switch(g4){case"source":g4=cc.node1.getVisual("color");break;case"target":g4=cc.node2.getVisual("color");break}XY[0]&&cc.setVisual("fromSymbol",XY[0]);XY[1]&&cc.setVisual("toSymbol",XY[1]);g3[0]&&cc.setVisual("fromSymbolSize",g3[0]);g3[1]&&cc.setVisual("toSymbolSize",g3[1]);cc.setVisual("color",g4);cc.setVisual("opacity",g1)})})};function Qa(Z){var e=Z.coordinateSystem;if(e&&e.type!=="view"){return}var i=Z.getGraph();i.eachNode(function(k){var m=k.getModel();k.setLayout([+m.get("x"),+m.get("y")])});Cq(i)}function Cq(Z){Z.eachEdge(function(i){var k=i.getModel().get("lineStyle.curveness")||0;var e=ZG(i.node1.getLayout());var m=ZG(i.node2.getLayout());var v=[e,m];if(+k){v.push([(e[0]+m[0])/2-(e[1]-m[1])*k,(e[1]+m[1])/2-(m[0]-e[0])*k])}i.setLayout(v)})}var RK=function(Z,e){Z.eachSeriesByType("graph",function(g2){var XY=g2.get("layout");var m=g2.coordinateSystem;if(m&&m.type!=="view"){var v=g2.getData();var k=[];Dy(m.dimensions,function(i){k=k.concat(v.mapDimension(i,true))});for(var Z2=0;Z2<v.count();Z2++){var PI=[];var g1=false;for(var WH=0;WH<k.length;WH++){var cc=v.get(k[WH],Z2);if(!isNaN(cc)){g1=true}PI.push(cc)}if(g1){v.setItemLayout(Z2,m.dataToPoint(PI))}else{v.setItemLayout(Z2,[NaN,NaN])}}Cq(v.graph)}else{if(!XY||XY==="none"){Qa(g2)}}})};function Xe(cc){var e=cc.coordinateSystem;if(e&&e.type!=="view"){return}var i=e.getBoundingRect();var v=cc.getData();var m=v.graph;var Z2=0;var WH=v.getSum("value");var XY=Math.PI*2/(WH||v.count());var k=i.width/2+i.x;var PI=i.height/2+i.y;var Z=Math.min(i.width,i.height)/2;m.eachNode(function(g1){var g2=g1.getValue("value");Z2+=XY*(WH?g2:1)/2;g1.setLayout([Z*Math.cos(Z2)+k,Z*Math.sin(Z2)+PI]);Z2+=XY*(WH?g2:1)/2});v.setLayout({cx:k,cy:PI});m.eachEdge(function(g4){var g5=g4.getModel().get("lineStyle.curveness")||0;var g2=ZG(g4.node1.getLayout());var g6=ZG(g4.node2.getLayout());var g3;var g1=(g2[0]+g6[0])/2;var g7=(g2[1]+g6[1])/2;if(+g5){g5*=3;g3=[k*g5+g1*(1-g5),PI*g5+g7*(1-g5)]}g4.setLayout([g2,g6,g3])})}var ej=function(Z){Z.eachSeriesByType("graph",function(e){if(e.get("layout")==="circular"){Xe(e)}})};var CE=HA;function Qv(g1,e,WH){var m=WH.rect;var XY=m.width;var k=m.height;var Z=[m.x+XY/2,m.y+k/2];var cc=WH.gravity==null?0.1:WH.gravity;for(var PI=0;PI<g1.length;PI++){var Z2=g1[PI];if(!Z2.p){Z2.p=dx(XY*(Math.random()-0.5)+Z[0],k*(Math.random()-0.5)+Z[1])}Z2.pp=ZG(Z2.p);Z2.edges=null}var v=0.6;return{warmUp:function(){v=0.5},setFixed:function(i){g1[i].fixed=true},setUnfixed:function(i){g1[i].fixed=false},step:function(g5){var hc=[];var g9=g1.length;for(var ha=0;ha<e.length;ha++){var g2=e[ha];var he=g2.n1;var g3=g2.n2;NW(hc,g3.p,he.p);var g4=bZ(hc)-g2.d;var g6=g3.w/(he.w+g3.w);if(isNaN(g6)){g6=0}dm(hc,hc);!he.fixed&&CE(he.p,he.p,hc,g6*g4*v);!g3.fixed&&CE(g3.p,g3.p,hc,-(1-g6)*g4*v)}for(var ha=0;ha<g9;ha++){var hb=g1[ha];if(!hb.fixed){NW(hc,Z,hb.p);CE(hb.p,hb.p,hc,cc*v)}}for(var ha=0;ha<g9;ha++){var he=g1[ha];for(var g8=ha+1;g8<g9;g8++){var g3=g1[g8];NW(hc,g3.p,he.p);var g4=bZ(hc);if(g4===0){XD(hc,Math.random()-0.5,Math.random()-0.5);g4=1}var hd=(he.rep+g3.rep)/g4/g4;!he.fixed&&CE(he.pp,he.pp,hc,hd);!g3.fixed&&CE(g3.pp,g3.pp,hc,-hd)}}var g7=[];for(var ha=0;ha<g9;ha++){var hb=g1[ha];if(!hb.fixed){NW(g7,hb.p,hb.pp);CE(hb.p,hb.p,g7,v);HF(hb.pp,hb.p)}}v=v*0.992;g5&&g5(g1,e,v<0.01)}}}var TQ=function(Z){Z.eachSeriesByType("graph",function(g5){var Z2=g5.coordinateSystem;if(Z2&&Z2.type!=="view"){return}if(g5.get("layout")==="force"){var PI=g5.preservedPoints||{};var cc=g5.getGraph();var g1=cc.data;var g6=cc.edgeData;var g3=g5.getModel("force");var e=g3.get("initLayout");if(g5.preservedPoints){g1.each(function(g8){var g9=g1.getId(g8);g1.setItemLayout(g8,PI[g9]||[NaN,NaN])})}else{if(!e||e==="none"){Qa(g5)}else{if(e==="circular"){Xe(g5)}}}var m=g1.getDataExtent("value");var g2=g6.getDataExtent("value");var g7=g3.get("repulsion");var XY=g3.get("edgeLength");if(!cW(g7)){g7=[g7,g7]}if(!cW(XY)){XY=[XY,XY]}XY=[XY[1],XY[0]];var k=g1.mapArray("value",function(hb,ha){var g8=g1.getItemLayout(ha);var g9=Yv(hb,m,g7);if(isNaN(g9)){g9=(g7[0]+g7[1])/2}return{w:g9,rep:g9,fixed:g1.getItemModel(ha).get("fixed"),p:(!g8||isNaN(g8[0])||isNaN(g8[1]))?null:g8}});var g4=g6.mapArray("value",function(hb,g9){var ha=cc.getEdgeByIndex(g9);var g8=Yv(hb,g2,XY);if(isNaN(g8)){g8=(XY[0]+XY[1])/2}return{n1:k[ha.node1.dataIndex],n2:k[ha.node2.dataIndex],d:g8,curveness:ha.getModel().get("lineStyle.curveness")||0}});var Z2=g5.coordinateSystem;var WH=Z2.getBoundingRect();var i=Qv(k,g4,{rect:WH,gravity:g3.get("gravity")});var v=i.step;i.step=function(g8){for(var g9=0,ha=k.length;g9<ha;g9++){if(k[g9].fixed){HF(k[g9].p,cc.getNodeByIndex(g9).getLayout())}}v(function(hk,hc,hd){for(var he=0,hg=hk.length;he<hg;he++){if(!hk[he].fixed){cc.getNodeByIndex(he).setLayout(hk[he].p)}PI[g1.getId(he)]=hk[he].p}for(var he=0,hg=hc.length;he<hg;he++){var hb=hc[he];var hh=cc.getEdgeByIndex(he);var hf=hb.n1.p;var hj=hb.n2.p;var hi=hh.getLayout();hi=hi?hi.slice():[];hi[0]=hi[0]||[];hi[1]=hi[1]||[];HF(hi[0],hf);HF(hi[1],hj);if(+hb.curveness){hi[2]=[(hf[0]+hj[0])/2-(hf[1]-hj[1])*hb.curveness,(hf[1]+hj[1])/2-(hj[0]-hf[0])*hb.curveness]}hh.setLayout(hi)}g8&&g8(hd)})};g5.forceLayout=i;g5.preservedPoints=PI;i.step()}else{g5.forceLayout=null}})};function GT(Z,k,i){var e=Z.getBoxLayoutParams();e.aspect=i;return CU(e,{width:k.getWidth(),height:k.getHeight()})}var NZ=function(Z,i){var e=[];Z.eachSeriesByType("graph",function(XY){var cc=XY.get("coordinateSystem");if(!cc||cc==="view"){var v=XY.getData();var k=v.mapArray(function(g7){var g6=v.getItemModel(g7);return[+g6.get("x"),+g6.get("y")]});var m=[];var g5=[];AJ(k,m,g5);if(g5[0]-m[0]===0){g5[0]+=1;m[0]-=1}if(g5[1]-m[1]===0){g5[1]+=1;m[1]-=1}var WH=(g5[0]-m[0])/(g5[1]-m[1]);var g3=GT(XY,i,WH);if(isNaN(WH)){m=[g3.x,g3.y];g5=[g3.x+g3.width,g3.y+g3.height]}var g2=g5[0]-m[0];var g1=g5[1]-m[1];var g4=g3.width;var PI=g3.height;var Z2=XY.coordinateSystem=new Bg();Z2.zoomLimit=XY.get("scaleLimit");Z2.setBoundingRect(m[0],m[1],g2,g1);Z2.setViewRect(g3.x,g3.y,g4,PI);Z2.setCenter(XY.get("center"));Z2.setZoom(XY.get("zoom"));e.push(Z2)}});return e};dU(e5);Ao(RB("graph","circle",null));Ao(QZ);Ao(GP);gH(RK);gH(ej);gH(TQ);R1("graphView",{create:NZ});var OO=S7.extend({type:"series.gauge",getInitialData:function(Z,e){var i=Z.data||[];if(!cW(i)){i=[i]}Z.data=i;return Fn(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:true,radius:"75%",startAngle:225,endAngle:-45,clockwise:true,min:0,max:100,splitNumber:10,axisLine:{show:true,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:true,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:true,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:true,distance:5,color:"auto"},pointer:{show:true,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:true,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:true,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var Vd=Mj.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(k,i){var Z=Math.cos;var PI=Math.sin;var e=i.r;var m=i.width;var v=i.angle;var XY=i.x-Z(v)*m*(m>=e/3?1:2);var WH=i.y-PI(v)*m*(m>=e/3?1:2);v=i.angle-Math.PI/2;k.moveTo(XY,WH);k.lineTo(i.x+Z(v)*m,i.y+PI(v)*m);k.lineTo(i.x+Z(i.angle)*e,i.y+PI(i.angle)*e);k.lineTo(i.x-Z(v)*m,i.y-PI(v)*m);k.lineTo(XY,WH);return}});function K2(XY,WH){var Z=XY.get("center");var PI=WH.getWidth();var e=WH.getHeight();var m=Math.min(PI,e);var v=Pw(Z[0],WH.getWidth());var k=Pw(Z[1],WH.getHeight());var i=Pw(XY.get("radius"),m/2);return{cx:v,cy:k,r:i}}function Ih(Z,e){if(e){if(typeof e==="string"){Z=e.replace("{value}",Z!=null?Z:"")}else{if(typeof e==="function"){Z=e(Z)}}}return Z}var fs=Math.PI*2;var Ap=MQ.extend({type:"gauge",render:function(Z,e,m){this.group.removeAll();var i=Z.get("axisLine.lineStyle.color");var k=K2(Z,m);this._renderMain(Z,e,m,i,k)},dispose:function(){},_renderMain:function(WH,m,cc,XY,g9){var g2=this.group;var PI=WH.getModel("axisLine");var g7=PI.getModel("lineStyle");var k=WH.get("clockwise");var Z2=-WH.get("startAngle")/180*Math.PI;var g6=-WH.get("endAngle")/180*Math.PI;var g3=(g6-Z2)%fs;var g5=Z2;var v=g7.get("width");for(var g8=0;g8<XY.length;g8++){var g1=Math.min(Math.max(XY[g8][0],0),1);var g6=Z2+g3*g1;var e=new LA({shape:{startAngle:g5,endAngle:g6,cx:g9.cx,cy:g9.cy,clockwise:k,r0:g9.r-v,r:g9.r},silent:true});e.setStyle({fill:XY[g8][1]});e.setStyle(g7.getLineStyle(["color","borderWidth","borderColor"]));g2.add(e);g5=g6}var g4=function(ha){if(ha<=0){return XY[0][1]}for(var hb=0;hb<XY.length;hb++){if(XY[hb][0]>=ha&&(hb===0?0:XY[hb-1][0])<ha){return XY[hb][1]}}return XY[hb-1][1]};if(!k){var Z=Z2;Z2=g6;g6=Z}this._renderTicks(WH,m,cc,g4,g9,Z2,g6,k);this._renderPointer(WH,m,cc,g4,g9,Z2,g6,k);this._renderTitle(WH,m,cc,g4,g9);this._renderDetail(WH,m,cc,g4,g9)},_renderTicks:function(hl,g9,e,g8,hb,PI,hd,WH){var g3=this.group;var hp=hb.cx;var ha=hb.cy;var hg=hb.r;var XY=+hl.get("min");var cc=+hl.get("max");var g1=hl.getModel("splitLine");var hh=hl.getModel("axisTick");var hc=hl.getModel("axisLabel");var Z2=hl.get("splitNumber");var ho=hh.get("splitNumber");var hi=Pw(g1.get("length"),hg);var he=Pw(hh.get("length"),hg);var g7=PI;var hf=(hd-PI)/Z2;var Z=hf/ho;var hj=g1.getModel("lineStyle").getLineStyle();var g6=hh.getModel("lineStyle").getLineStyle();for(var g5=0;g5<=Z2;g5++){var m=Math.cos(g7);var v=Math.sin(g7);if(g1.get("show")){var hk=new Ut({shape:{x1:m*hg+hp,y1:v*hg+ha,x2:m*(hg-hi)+hp,y2:v*(hg-hi)+ha},style:hj,silent:true});if(hj.stroke==="auto"){hk.setStyle({stroke:g8(g5/Z2)})}g3.add(hk)}if(hc.get("show")){var g2=Ih(Gu(g5/Z2*(cc-XY)+XY),hc.get("formatter"));var hn=hc.get("distance");var hm=g8(g5/Z2);g3.add(new FW({style:DQ({},hc,{text:g2,x:m*(hg-hi-hn)+hp,y:v*(hg-hi-hn)+ha,textVerticalAlign:v<-0.4?"top":(v>0.4?"bottom":"middle"),textAlign:m<-0.4?"left":(m>0.4?"right":"center")},{autoColor:hm}),silent:true}))}if(hh.get("show")&&g5!==Z2){for(var g4=0;g4<=ho;g4++){var m=Math.cos(g7);var v=Math.sin(g7);var k=new Ut({shape:{x1:m*hg+hp,y1:v*hg+ha,x2:m*(hg-he)+hp,y2:v*(hg-he)+ha},silent:true,style:g6});if(g6.stroke==="auto"){k.setStyle({stroke:g8((g5+g4/ho)/Z2)})}g3.add(k);g7+=Z}g7-=Z}else{g7+=hf}}},_renderPointer:function(PI,e,g1,i,g2,g3,Z,v){var XY=this.group;var m=this._data;if(!PI.get("pointer.show")){m&&m.eachItemGraphicEl(function(g4){XY.remove(g4)});return}var Z2=[+PI.get("min"),+PI.get("max")];var cc=[g3,Z];var k=PI.getData();var WH=k.mapDimension("value");k.diff(m).add(function(g5){var g4=new Vd({shape:{angle:g3}});ef(g4,{shape:{angle:Yv(k.get(WH,g5),Z2,cc,true)}},PI);XY.add(g4);k.setItemGraphicEl(g5,g4)}).update(function(g5,g6){var g4=m.getItemGraphicEl(g6);Qr(g4,{shape:{angle:Yv(k.get(WH,g5),Z2,cc,true)}},PI);XY.add(g4);k.setItemGraphicEl(g5,g4)}).remove(function(g5){var g4=m.getItemGraphicEl(g5);XY.remove(g4)}).execute();k.eachItemGraphicEl(function(g4,g6){var g5=k.getItemModel(g6);var g7=g5.getModel("pointer");g4.setShape({x:g2.cx,y:g2.cy,width:Pw(g7.get("width"),g2.r),r:Pw(g7.get("length"),g2.r)});g4.useStyle(g5.getModel("itemStyle").getItemStyle());if(g4.style.fill==="auto"){g4.setStyle("fill",i(Yv(k.get(WH,g6),Z2,[0,1],true)))}N7(g4,g5.getModel("emphasis.itemStyle").getItemStyle())});this._data=k},_renderTitle:function(g4,i,g3,k,e){var v=g4.getData();var Z2=v.mapDimension("value");var Z=g4.getModel("title");if(Z.get("show")){var cc=Z.get("offsetCenter");var g1=e.cx+Pw(cc[0],e.r);var g2=e.cy+Pw(cc[1],e.r);var m=+g4.get("min");var XY=+g4.get("max");var WH=g4.getData().get(Z2,0);var PI=k(Yv(WH,[m,XY],[0,1],true));this.group.add(new FW({silent:true,style:DQ({},Z,{x:g1,y:g2,text:v.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:PI,forceRich:true})}))}},_renderDetail:function(XY,i,g4,k,e){var g5=XY.getModel("detail");var m=+XY.get("min");var WH=+XY.get("max");if(g5.get("show")){var v=g5.get("offsetCenter");var g2=e.cx+Pw(v[0],e.r);var g3=e.cy+Pw(v[1],e.r);var g1=Pw(g5.get("width"),e.r);var cc=Pw(g5.get("height"),e.r);var Z=XY.getData();var Z2=Z.get(Z.mapDimension("value"),0);var PI=k(Yv(Z2,[m,WH],[0,1],true));this.group.add(new FW({silent:true,style:DQ({},g5,{x:g2,y:g3,text:Ih(Z2,g5.get("formatter")),textWidth:isNaN(g1)?null:g1,textHeight:isNaN(cc)?null:cc,textAlign:"center",textVerticalAlign:"middle"},{autoColor:PI,forceRich:true})}))}}});var ZO=Sa({type:"series.funnel",init:function(Z){ZO.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(Z)},getInitialData:function(Z,e){return Fn(this,["value"])},_defaultLabelLine:function(Z){XI(Z,"labelLine",["show"]);var e=Z.labelLine;var i=Z.emphasis.labelLine;e.show=e.show&&Z.label.show;i.show=i.show&&Z.emphasis.label.show},getDataParams:function(e){var m=this.getData();var k=ZO.superCall(this,"getDataParams",e);var Z=m.mapDimension("value");var i=m.getSum(Z);k.percent=!i?0:+(m.get(Z,e)/i*100).toFixed(2);k.$vars.push("percent");return k},defaultOption:{zlevel:0,z:2,legendHoverLink:true,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:true}}}});function ES(PI,k){U3.call(this);var m=new Hd();var e=new JI();var i=new FW();this.add(m);this.add(e);this.add(i);this.updateData(PI,k,true);function v(){e.ignore=e.hoverIgnore;i.ignore=i.hoverIgnore}function Z(){e.ignore=e.normalIgnore;i.ignore=i.normalIgnore}this.on("emphasis",v).on("normal",Z).on("mouseover",v).on("mouseout",Z)}var BM=ES.prototype;var CQ=["itemStyle","opacity"];BM.updateData=function(e,k,i){var PI=this.childAt(0);var Z2=e.hostModel;var Z=e.getItemModel(k);var WH=e.getItemLayout(k);var v=e.getItemModel(k).get(CQ);v=v==null?1:v;PI.useStyle({});if(i){PI.setShape({points:WH.points});PI.setStyle({opacity:0});ef(PI,{style:{opacity:v}},Z2,k)}else{Qr(PI,{style:{opacity:v},shape:{points:WH.points}},Z2,k)}var m=Z.getModel("itemStyle");var XY=e.getItemVisual(k,"color");PI.setStyle(IK({lineJoin:"round",fill:XY},m.getItemStyle(["opacity"])));PI.hoverStyle=m.getModel("emphasis").getItemStyle();this._updateLabel(e,k);N7(this)};BM._updateLabel=function(m,PI){var e=this.childAt(1);var k=this.childAt(2);var g2=m.hostModel;var i=m.getItemModel(PI);var Z2=m.getItemLayout(PI);var v=Z2.label;var cc=m.getItemVisual(PI,"color");Qr(e,{shape:{points:v.linePoints||v.linePoints}},g2,PI);Qr(k,{style:{x:v.x,y:v.y}},g2,PI);k.attr({rotation:v.rotation,origin:[v.x,v.y],z2:10});var XY=i.getModel("label");var WH=i.getModel("emphasis.label");var g1=i.getModel("labelLine");var Z=i.getModel("emphasis.labelLine");var cc=m.getItemVisual(PI,"color");HB(k.style,k.hoverStyle={},XY,WH,{labelFetcher:m.hostModel,labelDataIndex:PI,defaultText:m.getName(PI),autoColor:cc,useInsideStyle:!!v.inside},{textAlign:v.textAlign,textVerticalAlign:v.verticalAlign});k.ignore=k.normalIgnore=!XY.get("show");k.hoverIgnore=!WH.get("show");e.ignore=e.normalIgnore=!g1.get("show");e.hoverIgnore=!Z.get("show");e.setStyle({stroke:cc});e.setStyle(g1.getModel("lineStyle").getLineStyle());e.hoverStyle=Z.getModel("lineStyle").getLineStyle()};K8(ES,U3);var I7=MQ.extend({type:"funnel",render:function(Z,e,m){var v=Z.getData();var k=this._data;var i=this.group;v.diff(k).add(function(WH){var PI=new ES(v,WH);v.setItemGraphicEl(WH,PI);i.add(PI)}).update(function(PI,WH){var XY=k.getItemGraphicEl(WH);XY.updateData(v,PI);i.add(XY);v.setItemGraphicEl(PI,XY)}).remove(function(PI){var WH=k.getItemGraphicEl(PI);i.remove(WH)}).execute();this._data=v},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});function GR(Z,e){return CU(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Oe(e,v){var k=e.mapDimension("value");var XY=e.mapArray(k,function(i){return i});var m=[];var Z=v==="ascending";for(var PI=0,WH=e.count();PI<WH;PI++){m[PI]=PI}if(typeof v==="function"){m.sort(v)}else{if(v!=="none"){m.sort(function(Z2,i){return Z?XY[Z2]-XY[i]:XY[i]-XY[Z2]})}}return m}function NB(Z){Z.each(function(g5){var m=Z.getItemModel(g5);var i=m.getModel("label");var e=i.get("position");var g2=m.getModel("labelLine");var WH=Z.getItemLayout(g5);var Z2=WH.points;var PI=e==="inner"||e==="inside"||e==="center";var XY;var g3;var g4;var v;if(PI){g3=(Z2[0][0]+Z2[1][0]+Z2[2][0]+Z2[3][0])/4;g4=(Z2[0][1]+Z2[1][1]+Z2[2][1]+Z2[3][1])/4;XY="center";v=[[g3,g4],[g3,g4]]}else{var cc;var g1;var g6;var k=g2.get("length");if(e==="left"){cc=(Z2[3][0]+Z2[0][0])/2;g1=(Z2[3][1]+Z2[0][1])/2;g6=cc-k;g3=g6-5;XY="right"}else{cc=(Z2[1][0]+Z2[2][0])/2;g1=(Z2[1][1]+Z2[2][1])/2;g6=cc+k;g3=g6+5;XY="left"}var g7=g1;v=[[cc,g1],[g6,g7]];g4=g7}WH.label={linePoints:v,x:g3,y:g4,verticalAlign:"middle",textAlign:XY,inside:PI}})}var YH=function(Z,i,e){Z.eachSeriesByType("funnel",function(XY){var m=XY.getData();var cc=m.mapDimension("value");var g5=XY.get("sort");var he=GR(XY,i);var g7=Oe(m,g5);var k=[Pw(XY.get("minSize"),he.width),Pw(XY.get("maxSize"),he.width)];var WH=m.getDataExtent(cc);var g2=XY.get("min");var g9=XY.get("max");if(g2==null){g2=Math.min(WH[0],0)}if(g9==null){g9=WH[1]}var g1=XY.get("funnelAlign");var PI=XY.get("gap");var v=(he.height-PI*(m.count()-1))/m.count();var ha=he.y;var g4=function(hi,hf){var hj=m.get(cc,hi)||0;var hg=Yv(hj,[g2,g9],k,true);var hh;switch(g1){case"left":hh=he.x;break;case"center":hh=he.x+(he.width-hg)/2;break;case"right":hh=he.x+he.width-hg;break}return[[hh,hf],[hh+hg,hf]]};if(g5==="ascending"){v=-v;PI=-PI;ha+=he.height;g7=g7.reverse()}for(var g8=0;g8<g7.length;g8++){var hb=g7[g8];var Z2=g7[g8+1];var g3=m.getItemModel(hb);var g6=g3.get("itemStyle.height");if(g6==null){g6=v}else{g6=Pw(g6,he.height);if(g5==="ascending"){g6=-g6}}var hd=g4(hb,ha);var hc=g4(Z2,ha+g6);ha+=g6+PI;m.setItemLayout(hb,{points:hd.concat(hc.slice().reverse())})}NB(m)})};Ao(dz("funnel"));gH(YH);dU(EG("funnel"));var Iv=function(Z){da(Z);HS(Z)};function da(Z){if(Z.parallel){return}var e=false;Dy(Z.series,function(i){if(i&&i.type==="parallel"){e=true}});if(e){Z.parallel=[{}]}}function HS(e){var Z=Y1(e.parallelAxis);Dy(Z,function(k){if(!EJ(k)){return}var i=k.parallelIndex||0;var m=Y1(e.parallel)[i];if(m&&m.parallelAxisDefault){LB(k,m.parallelAxisDefault,false)}})}var Z5=function(e,i,Z,k,m){Vs.call(this,e,i,Z);this.type=k||"value";this.axisIndex=m};Z5.prototype={constructor:Z5,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}};K8(Z5,Vs);var Kt=function(WH,XY,k,Z,cc,i){XY[0]=dF(XY[0],k);XY[1]=dF(XY[1],k);WH=WH||0;var v=k[1]-k[0];if(cc!=null){cc=dF(cc,[0,v])}if(i!=null){i=Math.max(i,cc!=null?cc:0)}if(Z==="all"){cc=i=Math.abs(XY[1]-XY[0]);Z=0}var PI=ar(XY,Z);XY[Z]+=WH;var e=cc||0;var m=k.slice();PI.sign<0?(m[0]+=e):(m[1]-=e);XY[Z]=dF(XY[Z],m);var Z2=ar(XY,Z);if(cc!=null&&(Z2.sign!==PI.sign||Z2.span<cc)){XY[1-Z]=XY[Z]+PI.sign*cc}var Z2=ar(XY,Z);if(i!=null&&Z2.span>i){XY[1-Z]=XY[Z]+Z2.sign*i}return XY};function ar(Z,e){var i=Z[e]-Z[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function dF(Z,e){return Math.min(e[1],Math.max(e[0],Z))}var b3=Dy;var Mc=Math.min;var Bu=Math.max;var Mi=Math.floor;var Tx=Math.ceil;var D=Gu;var Gk=Math.PI;function Rf(Z,i,e){this._axesMap=Fj();this._axesLayout={};this.dimensions=Z.dimensions;this._rect;this._model=Z;this._init(Z,i,e)}Rf.prototype={type:"parallel",constructor:Rf,_init:function(e,m,i){var Z=e.dimensions;var k=e.parallelAxisIndex;b3(Z,function(XY,PI){var cc=k[PI];var WH=m.getComponent("parallelAxis",cc);var Z2=this._axesMap.set(XY,new Z5(XY,Zo(WH),[0,0],WH.get("type"),cc));var v=Z2.type==="category";Z2.onBand=v&&WH.get("boundaryGap");Z2.inverse=WH.get("inverse");WH.axis=Z2;Z2.model=WH;Z2.coordinateSystem=WH.coordinateSystem=this},this)},update:function(Z,e){this._updateAxesFromSeries(this._model,Z)},containPoint:function(e){var PI=this._makeLayoutInfo();var v=PI.axisBase;var Z=PI.layoutBase;var m=PI.pixelDimIndex;var i=e[1-m];var k=e[m];return i>=v&&i<=v+PI.axisLength&&k>=Z&&k<=Z+PI.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(Z,e){e.eachSeries(function(i){if(!Z.contains(i,e)){return}var k=i.getData();b3(this.dimensions,function(m){var v=this._axesMap.get(m);v.scale.unionExtentFromData(k,k.mapDimension(m));WA(v.scale,v.model)},this)},this)},resize:function(Z,e){this._rect=CU(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var g5=this._model;var XY=this._rect;var k=["x","y"];var m=["width","height"];var WH=g5.get("layout");var g1=WH==="horizontal"?0:1;var g2=XY[m[g1]];var g3=[0,g2];var Z2=this.dimensions.length;var e=fR(g5.get("axisExpandWidth"),g3);var i=fR(g5.get("axisExpandCount")||0,[0,Z2]);var PI=g5.get("axisExpandable")&&Z2>3&&Z2>i&&i>1&&e>0&&g2>0;var g4=g5.get("axisExpandWindow");var g6;if(!g4){g6=fR(e*(i-1),g3);var cc=g5.get("axisExpandCenter")||Mi(Z2/2);g4=[e*cc-g6/2];g4[1]=g4[0]+g6}else{g6=fR(g4[1]-g4[0],g3);g4[1]=g4[0]+g6}var g7=(g2-g6)/(Z2-i);g7<3&&(g7=0);var Z=[Mi(D(g4[0]/e,1))+1,Tx(D(g4[1]/e,1))-1];var v=g7/e*g4[0];return{layout:WH,pixelDimIndex:g1,layoutBase:XY[k[g1]],layoutLength:g2,axisBase:XY[k[1-g1]],axisLength:XY[m[1-g1]],axisExpandable:PI,axisExpandWidth:e,axisCollapseWidth:g7,axisExpandWindow:g4,axisCount:Z2,winInnerIndices:Z,axisExpandWindow0Pos:v}},_layoutAxes:function(){var e=this._rect;var Z=this._axesMap;var i=this.dimensions;var m=this._makeLayoutInfo();var k=m.layout;Z.each(function(WH){var v=[0,m.axisLength];var PI=WH.inverse?1:0;WH.setExtent(v[PI],v[1-PI])});b3(i,function(XY,WH){var g1=(m.axisExpandable?f0:B7)(WH,m);var v={horizontal:{x:g1.position,y:m.axisLength},vertical:{x:0,y:g1.position}};var PI={horizontal:Gk/2,vertical:0};var cc=[v[k].x+e.x,v[k].y+e.y];var g2=PI[k];var Z2=HZ();eX(Z2,Z2,g2);Zc(Z2,Z2,cc);this._axesLayout[XY]={position:cc,rotation:g2,transform:Z2,axisNameAvailableWidth:g1.axisNameAvailableWidth,axisLabelShow:g1.axisLabelShow,nameTruncateMaxWidth:g1.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:Z.get(XY).getLabelInterval()}},this)},getAxis:function(Z){return this._axesMap.get(Z)},dataToPoint:function(e,Z){return this.axisCoordToPoint(this._axesMap.get(Z).dataToCoord(e),Z)},eachActiveState:function(v,m,Z2){var Z=this.dimensions;var g2=QL(Z,function(i){return v.mapDimension(i)});var WH=this._axesMap;var g5=this.hasAxisBrushed();for(var cc=0,e=v.count();cc<e;cc++){var g1=v.getValues(g2,cc);var k;if(!g5){k="normal"}else{k="active";for(var XY=0,PI=Z.length;XY<PI;XY++){var g4=Z[XY];var g3=WH.get(g4).model.getActiveState(g1[XY],XY);if(g3==="inactive"){k="inactive";break}}}m.call(Z2,k,cc)}},hasAxisBrushed:function(){var i=this.dimensions;var Z=this._axesMap;var k=false;for(var m=0,e=i.length;m<e;m++){if(Z.get(i[m]).model.getActiveState()!=="normal"){k=true}}return k},axisCoordToPoint:function(Z,e){var i=this._axesLayout[e];return Bp([Z,0],i.transform)},getAxisLayout:function(Z){return fJ(this._axesLayout[Z])},getSlidedAxisExpandWindow:function(g1){var v=this._makeLayoutInfo();var i=v.pixelDimIndex;var cc=v.axisExpandWindow.slice();var PI=cc[1]-cc[0];var m=[0,v.axisExpandWidth*(v.axisCount-1)];if(!this.containPoint(g1)){return{behavior:"none",axisExpandWindow:cc}}var Z=g1[i]-v.layoutBase-v.axisExpandWindow0Pos;var Z2;var XY="slide";var k=v.axisCollapseWidth;var g2=this._model.get("axisExpandSlideTriggerArea");var e=g2[0]!=null;if(k){if(e&&k&&Z<PI*g2[0]){XY="jump";Z2=Z-PI*g2[2]}else{if(e&&k&&Z>PI*(1-g2[0])){XY="jump";Z2=Z-PI*(1-g2[2])}else{(Z2=Z-PI*g2[1])>=0&&(Z2=Z-PI*(1-g2[1]))<=0&&(Z2=0)}}Z2*=v.axisExpandWidth/k;Z2?Kt(Z2,cc,m,"all"):(XY="none")}else{var PI=cc[1]-cc[0];var WH=m[1]*Z/PI;cc=[Bu(0,WH-PI/2)];cc[1]=Mc(m[1],cc[0]+PI);cc[0]=cc[1]-PI}return{axisExpandWindow:cc,behavior:XY}}};function fR(e,Z){return Mc(Bu(e,Z[0]),Z[1])}function B7(i,e){var Z=e.layoutLength/(e.axisCount-1);return{position:Z*i,axisNameAvailableWidth:Z,axisLabelShow:true}}function f0(v,PI){var Z=PI.layoutLength;var cc=PI.axisExpandWidth;var e=PI.axisCount;var k=PI.axisCollapseWidth;var Z2=PI.winInnerIndices;var XY;var WH=k;var m=false;var i;if(v<Z2[0]){XY=v*k;i=k}else{if(v<=Z2[1]){XY=PI.axisExpandWindow0Pos+v*cc-PI.axisExpandWindow[0];WH=cc;m=true}else{XY=Z-(e-1-v)*k;i=k}}return{position:XY,axisNameAvailableWidth:WH,axisLabelShow:m,nameTruncateMaxWidth:i}}function OL(Z,e){var i=[];Z.eachComponent("parallel",function(k,v){var m=new Rf(k,Z,e);m.name="parallel_"+v;m.resize(k,e);k.coordinateSystem=m;m.model=k;i.push(m)});Z.eachSeries(function(k){if(k.get("coordinateSystem")==="parallel"){var m=Z.queryComponents({mainType:"parallel",index:k.get("parallelIndex"),id:k.get("parallelId")})[0];k.coordinateSystem=m.coordinateSystem}});return i}Rn.register("parallel",{create:OL});var o=Dt.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return C9([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(Z){var k=this.activeIntervals=fJ(Z);if(k){for(var e=k.length-1;e>=0;e--){Jg(k[e])}}},getActiveState:function(m){var e=this.activeIntervals;if(!e.length){return"normal"}if(m==null){return"inactive"}for(var Z=0,k=e.length;Z<k;Z++){if(e[Z][0]<=m&&m<=e[Z][1]){return"active"}}return"inactive"}});var VD={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:true,z:10};LB(o.prototype,Mm);function fk(e,Z){return Z.type||(Z.data?"category":"value")}P9("parallel",o,fk,VD);Dt.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:false,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Dt.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(Z){var e=this.option;Z&&LB(e,Z,true);this._initDimensions()},contains:function(i,e){var Z=i.get("parallelIndex");return Z!=null&&e.getComponent("parallel",Z)===this},setAxisExpand:function(Z){Dy(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){if(Z.hasOwnProperty(e)){this.option[e]=Z[e]}},this)},_initDimensions:function(){var e=this.dimensions=[];var i=this.parallelAxisIndex=[];var Z=bs(this.dependentModels.parallelAxis,function(k){return(k.get("parallelIndex")||0)===this.componentIndex},this);Dy(Z,function(k){e.push("dim"+k.get("dim"));i.push(k.componentIndex)})}});var QA={type:"axisAreaSelect",event:"axisAreaSelected"};S9(QA,function(e,Z){Z.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})});S9("parallelAxisExpand",function(e,Z){Z.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})});var Uz=c3;var b4=Dy;var Wr=QL;var Md=Math.min;var Br=Math.max;var Tb=Math.pow;var GC=10000;var Zz=6;var CK=6;var My="globalPan";var H={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var bL={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var I0={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:true,brushMode:"single",removeOnClick:false};var cV=0;function YD(Z){if(W1){SR(Z)}cx.call(this);this._zr=Z;this.group=new U3();this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;if(W1){this._mounted}this._uid="brushController_"+cV++;this._handlers={};b4(er,function(e,i){this._handlers[i]=ei(e,this)},this)}YD.prototype={constructor:YD,enableBrush:function(Z){if(W1){SR(this._mounted)}this._brushType&&Kf(this);Z.brushType&&gK(this,Z);return this},setPanels:function(Z){if(Z&&Z.length){var e=this._panels={};Dy(Z,function(i){e[i.panelId]=fJ(i)})}else{this._panels=null}return this},mount:function(Z){Z=Z||{};if(W1){this._mounted=true}this._enableGlobalPan=Z.enableGlobalPan;var e=this.group;this._zr.add(e);e.attr({position:Z.position||[0,0],rotation:Z.rotation||0,scale:Z.scale||[1,1]});this._transform=e.getLocalTransform();return this},eachCover:function(Z,e){b4(this._covers,Z,e)},updateCovers:function(m){if(W1){SR(this._mounted)}m=QL(m,function(cc){return LB(fJ(I0),cc,true)});var e="\0-brush-index-";var WH=this._covers;var v=this._covers=[];var PI=this;var i=this._creatingCover;(new WG(WH,m,Z2,k)).add(XY).update(XY).remove(Z).execute();return this;function k(cc,g1){return(cc.id!=null?cc.id:e+g1)+"-"+cc.brushType}function Z2(g1,cc){return k(g1.__brushOption,cc)}function XY(g3,g1){var cc=m[g3];if(g1!=null&&WH[g1]===i){v[g3]=WH[g1]}else{var g2=v[g3]=g1!=null?(WH[g1].__brushOption=cc,WH[g1]):Sq(PI,Sv(PI,cc));J(PI,g2)}}function Z(cc){if(WH[cc]!==i){PI.group.remove(WH[cc])}}},unmount:function(){if(W1){if(!this._mounted){return}}this.enableBrush(false);If(this);this._zr.remove(this.group);if(W1){this._mounted=false}return this},dispose:function(){this.unmount();this.off()}};eG(YD,cx);function gK(i,e){var Z=i._zr;if(!i._enableGlobalPan){Jv(Z,My,i._uid)}b4(i._handlers,function(k,m){Z.on(m,k)});i._brushType=e.brushType;i._brushOption=LB(fJ(I0),e,true)}function Kf(e){var Z=e._zr;XU(Z,My,e._uid);b4(e._handlers,function(i,k){Z.off(k,i)});e._brushType=e._brushOption=null}function Sv(i,Z){var e=YU[Z.brushType].createCover(i,Z);e.__brushOption=Z;Uo(e,Z);i.group.add(e);return e}function Sq(i,e){var Z=NF(e);if(Z.endCreating){Z.endCreating(i,e);Uo(e,e.__brushOption)}return e}function GZ(i,e){var Z=e.__brushOption;NF(e).updateCoverShape(i,e,Z.range,Z)}function Uo(i,Z){var e=Z.z;e==null&&(e=GC);i.traverse(function(k){k.z=e;k.z2=e})}function J(e,Z){NF(Z).updateCommon(e,Z);GZ(e,Z)}function NF(Z){return YU[Z.__brushOption.brushType]}function BA(PI,k,i){var v=PI._panels;if(!v){return true}var Z;var m=PI._transform;b4(v,function(e){e.isTargetByCursor(k,i,m)&&(Z=e)});return Z}function cS(k,e){var i=k._panels;if(!i){return true}var Z=e.__brushOption.panelId;return Z!=null?i[Z]:true}function If(i){var Z=i._covers;var e=Z.length;b4(Z,function(k){i.group.remove(k)},i);Z.length=0;return !!e}function Bq(i,e){var Z=Wr(i._covers,function(m){var k=m.__brushOption;var v=fJ(k.range);return{brushType:k.brushType,panelId:k.panelId,range:v}});i.trigger("brush",Z,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function fO(PI){var m=PI._track;if(!m.length){return false}var v=m[m.length-1];var k=m[0];var i=v[0]-k[0];var e=v[1]-k[1];var Z=Tb(i*i+e*e,0.5);return Z>Zz}function em(e){var Z=e.length-1;Z<0&&(Z=0);return[e[0],e[Z]]}function YT(e,m,Z,k){var i=new U3();i.add(new Fm({name:"main",style:Q2(Z),silent:true,draggable:true,cursor:"move",drift:Uz(e,m,i,"nswe"),ondragend:Uz(Bq,m,{isEnd:true})}));b4(k,function(v){i.add(new Fm({name:v,style:{opacity:0},draggable:true,silent:true,invisible:true,drift:Uz(e,m,i,v),ondragend:Uz(Bq,m,{isEnd:true})}))});return i}function bP(g5,i,m,PI){var g2=PI.brushStyle.lineWidth||0;var Z=Br(g2,CK);var g3=m[0][0];var g4=m[1][0];var XY=g3-g2/2;var Z2=g4-g2/2;var g6=m[0][1];var g7=m[1][1];var e=g6-Z+g2/2;var WH=g7-Z+g2/2;var cc=g6-g3;var g1=g7-g4;var v=cc+g2;var k=g1+g2;H3(g5,i,"main",g3,g4,cc,g1);if(PI.transformable){H3(g5,i,"w",XY,Z2,Z,k);H3(g5,i,"e",e,Z2,Z,k);H3(g5,i,"n",XY,Z2,v,Z);H3(g5,i,"s",XY,WH,v,Z);H3(g5,i,"nw",XY,Z2,Z,Z);H3(g5,i,"ne",e,Z2,Z,Z);H3(g5,i,"sw",XY,WH,Z,Z);H3(g5,i,"se",e,WH,Z,Z)}}function FE(m,k){var e=k.__brushOption;var i=e.transformable;var Z=k.childAt(0);Z.useStyle(Q2(e));Z.attr({silent:!i,cursor:i?"move":"default"});b4(["w","e","n","s","se","sw","ne","nw"],function(WH){var v=k.childOfName(WH);var PI=Qi(m,WH);v&&v.attr({silent:!i,invisible:!i,cursor:i?bL[PI]+"-resize":null})})}function H3(v,Z,i,PI,WH,k,m){var e=Z.childOfName(i);e&&e.setShape(ZW(BS(v,Z,[[PI,WH],[PI+k,WH+m]])))}function Q2(Z){return IK({strokeNoScale:true},Z.brushStyle)}function Ie(i,k,Z,e){var m=[Md(i,Z),Md(k,e)];var v=[Br(i,Z),Br(k,e)];return[[m[0],v[0]],[m[1],v[1]]]}function dw(Z){return l(Z.group)}function Qi(m,i){if(i.length>1){i=i.split("");var Z=[Qi(m,i[0]),Qi(m,i[1])];(Z[0]==="e"||Z[0]==="w")&&Z.reverse();return Z.join("")}else{var e={w:"left",e:"right",n:"top",s:"bottom"};var k={left:"w",right:"e",top:"n",bottom:"s"};var Z=cn(e[i],dw(m));return k[Z]}}function a8(i,XY,PI,Z,k,Z2,WH,m){var g1=Z.__brushOption;var cc=i(g1.range);var v=VQ(PI,Z2,WH);b4(k.split(""),function(e){var g2=H[e];cc[g2[0]][g2[1]]+=v[g2[0]]});g1.range=XY(Ie(cc[0][0],cc[1][0],cc[0][1],cc[1][1]));J(PI,Z);Bq(PI,{isEnd:false})}function KX(WH,m,i,k,Z){var PI=m.__brushOption.range;var v=VQ(WH,i,k);b4(PI,function(e){e[0]+=v[0];e[1]+=v[1]});J(WH,m);Bq(WH,{isEnd:false})}function VQ(v,i,k){var m=v.group;var Z=m.transformCoordToLocal(i,k);var e=m.transformCoordToLocal(0,0);return[Z[0]-e[0],Z[1]-e[1]]}function BS(k,i,e){var Z=cS(k,i);return(Z&&Z!==true)?Z.clipPath(e,k._transform):fJ(e)}function ZW(e){var m=Md(e[0][0],e[1][0]);var Z=Md(e[0][1],e[1][1]);var k=Br(e[0][0],e[1][0]);var i=Br(e[0][1],e[1][1]);return{x:m,y:Z,width:k-m,height:i-Z}}function f9(WH,Z,m){if(!WH._brushType){return}var k=WH._zr;var v=WH._covers;var XY=BA(WH,Z,m);if(!WH._dragging){for(var PI=0;PI<v.length;PI++){var Z2=v[PI].__brushOption;if(XY&&(XY===true||Z2.panelId===XY.panelId)&&YU[Z2.brushType].contain(v[PI],m[0],m[1])){return}}}XY&&k.setCursorStyle("crosshair")}function KF(Z){var i=Z.event;i.preventDefault&&i.preventDefault()}function fz(e,Z,i){return e.childOfName("main").contain(Z,i)}function cs(PI,Z,k,m){var i=PI._creatingCover;var XY=PI._creatingPanel;var cc=PI._brushOption;var v;PI._track.push(k.slice());if(fO(PI)||i){if(XY&&!i){cc.brushMode==="single"&&If(PI);var Z2=fJ(cc);Z2.brushType=U6(Z2.brushType,XY);Z2.panelId=XY===true?null:XY.panelId;i=PI._creatingCover=Sv(PI,Z2);PI._covers.push(i)}if(i){var g1=YU[U6(PI._brushType,XY)];var WH=i.__brushOption;WH.range=g1.getCreatingRange(BS(PI,i,PI._track));if(m){Sq(PI,i);g1.updateCommon(PI,i)}GZ(PI,i);v={isEnd:m}}}else{if(m&&cc.brushMode==="single"&&cc.removeOnClick){if(BA(PI,Z,k)&&If(PI)){v={isEnd:m,removeOnClick:true}}}}return v}function U6(e,Z){if(e==="auto"){if(W1){SR(Z&&Z.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"')}return Z.defaultBrushType}return e}var er={mousedown:function(k){if(this._dragging){KB.call(this,k)}else{if(!k.target||!k.target.draggable){KF(k);var i=this.group.transformCoordToLocal(k.offsetX,k.offsetY);this._creatingCover=null;var Z=this._creatingPanel=BA(this,k,i);if(Z){this._dragging=true;this._track=[i.slice()]}}}},mousemove:function(i){var Z=this.group.transformCoordToLocal(i.offsetX,i.offsetY);f9(this,i,Z);if(this._dragging){KF(i);var k=cs(this,i,Z,false);k&&Bq(this,k)}},mouseup:KB};function KB(i){if(this._dragging){KF(i);var Z=this.group.transformCoordToLocal(i.offsetX,i.offsetY);var k=cs(this,i,Z,true);this._dragging=false;this._track=[];this._creatingCover=null;k&&Bq(this,k)}}var YU={lineX:SD(0),lineY:SD(1),rect:{createCover:function(e,Z){return YT(Uz(a8,function(i){return i},function(i){return i}),e,Z,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var Z=em(e);return Ie(Z[1][0],Z[1][1],Z[0][0],Z[0][1])},updateCoverShape:function(k,i,e,Z){bP(k,i,e,Z)},updateCommon:FE,contain:fz},polygon:{createCover:function(i,Z){var e=new U3();e.add(new JI({name:"main",style:Q2(Z),silent:true}));return e},getCreatingRange:function(Z){return Z},endCreating:function(e,Z){Z.remove(Z.childAt(0));Z.add(new Hd({name:"main",draggable:true,drift:Uz(KX,e,Z),ondragend:Uz(Bq,e,{isEnd:true})}))},updateCoverShape:function(k,i,e,Z){i.childAt(0).setShape({points:BS(k,i,e)})},updateCommon:FE,contain:fz}};function SD(Z){return{createCover:function(i,e){return YT(Uz(a8,function(m){var k=[m,[0,100]];Z&&k.reverse();return k},function(k){return k[Z]}),i,e,[["w","e"],["n","s"]][Z])},getCreatingRange:function(k){var i=em(k);var e=Md(i[0][Z],i[1][Z]);var m=Br(i[0][Z],i[1][Z]);return[e,m]},updateCoverShape:function(v,e,XY,WH){var PI;var m=cS(v,e);if(m!==true&&m.getLinearBrushOtherExtent){PI=m.getLinearBrushOtherExtent(Z,v._transform)}else{var k=v._zr;PI=[0,[k.getWidth(),k.getHeight()][1-Z]]}var i=[XY,PI];Z&&i.reverse();bP(v,e,i,WH)},updateCommon:FE,contain:fz}}function ZC(Z){Z=Xm(Z);return function(e,i){return ET(e,Z)}}function Ls(Z,e){Z=Xm(Z);return function(i){var k=e!=null?e:i;var m=k?Z.width:Z.height;var v=k?Z.x:Z.y;return[v,v+(m||0)]}}function RP(Z,i,e){Z=Xm(Z);return function(m,k,v){return Z.contain(k[0],k[1])&&!YM(m,i,e)}}function Xm(Z){return FY.create(Z)}var ct=["axisLine","axisTickLabel","axisName"];var Oy=ec({type:"parallelAxis",init:function(Z,e){Oy.superApply(this,"init",arguments);(this._brushController=new YD(e.getZr())).on("brush",ei(this._onBrush,this))},render:function(k,e,g1,v){if(aF(k,e,v)){return}this.axisModel=k;this.api=g1;this.group.removeAll();var WH=this._axisGroup;this._axisGroup=new U3();this.group.add(this._axisGroup);if(!k.get("show")){return}var XY=Yx(k,e);var i=XY.coordinateSystem;var PI=k.getAreaSelectStyle();var g2=PI.width;var cc=k.axis.dim;var m=i.getAxisLayout(cc);var g3=XN({strokeContainThreshold:g2},m);var Z2=new YS(k,g3);Dy(ct,Z2.add,Z2);this._axisGroup.add(Z2.getGroup());this._refreshBrushController(g3,PI,k,XY,g2,g1);var Z=(v&&v.animation===false)?null:k;Wq(WH,this._axisGroup,Z)},_refreshBrushController:function(Z2,m,i,v,XY,WH){var k=i.axis.getExtent();var PI=k[1]-k[0];var e=Math.min(30,Math.abs(PI)*0.1);var Z=FY.create({x:k[0],y:-XY/2,width:PI,height:XY});Z.x-=e;Z.width+=2*e;this._brushController.mount({enableGlobalPan:true,rotation:Z2.rotation,position:Z2.position}).setPanels([{panelId:"pl",clipPath:ZC(Z),isTargetByCursor:RP(Z,WH,v),getLinearBrushOtherExtent:Ls(Z,0)}]).enableBrush({brushType:"lineX",brushStyle:m,removeOnClick:true}).updateCovers(SO(i))},_onBrush:function(Z,e){var k=this.axisModel;var m=k.axis;var i=QL(Z,function(v){return[m.coordToData(v.range[0],true),m.coordToData(v.range[1],true)]});if(!k.option.realtime===e.isEnd||e.removeOnClick){this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:k.id,intervals:i})}},dispose:function(){this._brushController.dispose()}});function aF(e,Z,i){return i&&i.type==="axisAreaSelect"&&Z.findComponents({mainType:"parallelAxis",query:i})[0]===e}function SO(Z){var e=Z.axis;return QL(Z.activeIntervals,function(i){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(i[0],true),e.dataToCoord(i[1],true)]}})}function Yx(e,Z){return Z.getComponent("parallel",e.get("parallelIndex"))}var Du=5;ec({type:"parallel",render:function(Z,i,e){this._model=Z;this._api=e;if(!this._handlers){this._handlers={};Dy(Tn,function(k,m){e.getZr().on(m,this._handlers[m]=ei(k,this))},this)}YN(this,"_throttledDispatchExpand",Z.get("axisExpandRate"),"fixRate")},dispose:function(Z,e){Dy(this._handlers,function(i,k){e.getZr().off(k,i)});this._handlers=null},_throttledDispatchExpand:function(Z){this._dispatchExpand(Z)},_dispatchExpand:function(Z){Z&&this._api.dispatchAction(XN({type:"parallelAxisExpand"},Z))}});var Tn={mousedown:function(Z){if(IV(this,"click")){this._mouseDownPoint=[Z.offsetX,Z.offsetY]}},mouseup:function(i){var v=this._mouseDownPoint;if(IV(this,"click")&&v){var k=[i.offsetX,i.offsetY];var m=Math.pow(v[0]-k[0],2)+Math.pow(v[1]-k[1],2);if(m>Du){return}var Z=this._model.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);Z.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:Z.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(i){if(this._mouseDownPoint||!IV(this,"mousemove")){return}var m=this._model;var k=m.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);var Z=k.behavior;Z==="jump"&&this._throttledDispatchExpand.debounceNextCall(m.get("axisExpandDebounce"));this._throttledDispatchExpand(Z==="none"?null:{axisExpandWindow:k.axisExpandWindow,animation:Z==="jump"?null:false})}};function IV(e,Z){var i=e._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===Z}Jo(Iv);S7.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(Z,e){if(this.option.progressive){this.option.animation=false}var i=this.getSource();JK(i,this);return VR(i,this)},getRawIndicesByActiveState:function(Z){var e=this.coordinateSystem;var k=this.getData();var i=[];e.eachActiveState(k,function(v,m){if(Z===v){i.push(k.getRawIndex(m))}});return i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:false},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{width:1,opacity:0.45,type:"solid"},emphasis:{label:{show:false}},progressive:false,smooth:false,animationEasing:"linear"}});function JK(k,e){if(k.encodeDefine){return}var Z=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(!Z){return}var i=k.encodeDefine=Fj();Dy(Z.dimensions,function(v){var m=ZX(v);i.set(v,m)})}function ZX(Z){return +Z.replace("dim","")}var bp=0.3;var Ia=MQ.extend({type:"parallel",init:function(){this._dataGroup=new U3();this.group.add(this._dataGroup);this._data},render:function(Z,e,k,i){this._renderForNormal(Z,i)},dispose:function(){},_renderForNormal:function(g2,i){var PI=this._dataGroup;var k=g2.getData();var m=this._data;var cc=g2.coordinateSystem;var Z=cc.dimensions;var g1=g2.option;var XY=g1.smooth?bp:null;k.diff(m).add(v).update(e).remove(WH).execute();aH(k,XY);if(!this._data){var Z2=GV(cc,g2,function(){setTimeout(function(){PI.removeClipPath()})});PI.setClipPath(Z2)}this._data=k;function v(g3){OJ(k,PI,g3,Z,cc,null,XY)}function e(g6,g3){var g5=m.getItemGraphicEl(g3);var g4=XB(k,g6,Z,cc);k.setItemGraphicEl(g6,g5);var g7=(i&&i.animation===false)?null:g2;Qr(g5,{shape:{points:g4}},g7,g6)}function WH(g3){var g4=m.getItemGraphicEl(g3);PI.remove(g4)}},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});function GV(k,e,Z){var i=k.model;var v=k.getRect();var m=new Fm({shape:{x:v.x,y:v.y,width:v.width,height:v.height}});var PI=i.get("layout")==="horizontal"?"width":"height";m.setShape(PI,0);ef(m,{shape:{width:v.width,height:v.height}},e,Z);return m}function XB(k,WH,Z,e){var XY=[];for(var PI=0;PI<Z.length;PI++){var m=Z[PI];var v=k.get(k.mapDimension(m),WH);if(!UX(v,e.getAxis(m).type)){XY.push(e.dataToPoint(v,m))}}return XY}function OJ(PI,Z,e,m,i){var k=XB(PI,e,m,i);var v=new JI({shape:{points:k},silent:true,z2:10});Z.add(v);PI.setItemGraphicEl(e,v)}function aH(k,Z){var e=k.hostModel.getModel("lineStyle");var i=e.getLineStyle();k.eachItemGraphicEl(function(WH,m){if(k.hasItemOption){var v=k.getItemModel(m);var PI=v.getModel("lineStyle",e);i=PI.getLineStyle(["color","stroke"])}WH.useStyle(XN(i,{fill:null,stroke:k.getItemVisual(m,"color"),opacity:k.getItemVisual(m,"opacity")}));WH.shape.smooth=Z})}function UX(Z,e){return e==="category"?Z==null:(Z==null||isNaN(Z))}var Ab=["lineStyle","normal","opacity"];var eh=function(Z){Z.eachSeriesByType("parallel",function(g1){var PI=g1.getModel("itemStyle");var k=g1.getModel("lineStyle");var Z2=Z.get("color");var v=k.get("color")||PI.get("color")||Z2[g1.seriesIndex%Z2.length];var XY=g1.get("inactiveOpacity");var WH=g1.get("activeOpacity");var cc=g1.getModel("lineStyle").getLineStyle();var i=g1.coordinateSystem;var m=g1.getData();var e={normal:cc.opacity,active:WH,inactive:XY};i.eachActiveState(m,function(g2,g3){var g4=m.getItemModel(g3);var g5=e[g2];if(g2==="normal"){var g6=g4.get(Ab,true);g6!=null&&(g5=g6)}m.setItemVisual(g3,"opacity",g5)});m.setVisual("color",v)})};Ao(eh);var Tw=S7.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(Z){var k=Z.edges||Z.links;var i=Z.data||Z.nodes;if(i&&k){var e=Qb(i,k,this,true);return e.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,i,m){if(m==="edge"){var v=this.getDataParams(e,m);var k=v.data;var Z=k.source+" -- "+k.target;if(v.value){Z+=" : "+v.value}return Qp(Z)}return Tw.superCall(this,"formatTooltip",e,i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{show:true,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{label:{show:true},lineStyle:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}});var NV=Ck({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,i){var Z=i.extent/2;e.moveTo(i.x1,i.y1-Z);e.bezierCurveTo(i.cpx1,i.cpy1-Z,i.cpx2,i.cpy2-Z,i.x2,i.y2-Z);e.lineTo(i.x2,i.y2+Z);e.bezierCurveTo(i.cpx2,i.cpy2+Z,i.cpx1,i.cpy1+Z,i.x1,i.y1+Z);e.closePath()}});YB({type:"sankey",_model:null,render:function(WH,Z,PI){var e=WH.getGraph();var m=this.group;var k=WH.layoutInfo;var i=WH.getData();var v=WH.getData("edge");this._model=WH;m.removeAll();m.attr("position",[k.x,k.y]);e.eachEdge(function(g8){var XY=new NV();XY.dataIndex=g8.dataIndex;XY.seriesIndex=WH.seriesIndex;XY.dataType="edge";var g1=g8.getModel("lineStyle");var ha=g1.get("curveness");var hc=g8.node1.getLayout();var g7=g8.node2.getLayout();var hb=g8.getLayout();XY.shape.extent=Math.max(1,hb.dy);var cc=hc.x+hc.dx;var g2=hc.y+hb.sy+hb.dy/2;var g3=g7.x;var g4=g7.y+hb.ty+hb.dy/2;var g6=cc*(1-ha)+g3*ha;var g9=g2;var g5=cc*ha+g3*(1-ha);var Z2=g4;XY.setShape({x1:cc,y1:g2,x2:g3,y2:g4,cpx1:g6,cpy1:g9,cpx2:g5,cpy2:Z2});XY.setStyle(g1.getItemStyle());switch(XY.style.fill){case"source":XY.style.fill=g8.node1.getVisual("color");break;case"target":XY.style.fill=g8.node2.getVisual("color");break}N7(XY,g8.getModel("emphasis.lineStyle").getItemStyle());m.add(XY);v.setItemGraphicEl(g8.dataIndex,XY)});e.eachNode(function(cc){var g3=cc.getLayout();var Z2=cc.getModel();var g2=Z2.getModel("label");var g1=Z2.getModel("emphasis.label");var g4=new Fm({shape:{x:g3.x,y:g3.y,width:cc.getLayout().dx,height:cc.getLayout().dy},style:Z2.getModel("itemStyle").getItemStyle()});var XY=cc.getModel("emphasis.itemStyle").getItemStyle();HB(g4.style,XY,g2,g1,{labelFetcher:WH,labelDataIndex:cc.dataIndex,defaultText:cc.id,isRectText:true});g4.setStyle("fill",cc.getVisual("color"));N7(g4,XY);m.add(g4);i.setItemGraphicEl(cc.dataIndex,g4);g4.dataType="node"});if(!this._data&&WH.get("animation")){m.setClipPath(aT(m.getBoundingRect(),WH,function(){m.removeClipPath()}))}this._data=WH.getData()},dispose:function(){}});function aT(i,e,Z){var k=new Fm({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});ef(k,{shape:{width:i.width+20,height:i.height+20}},e,Z);return k}function e4(){var Z=[];var i=[];function k(m,XY){if(XY>=Z.length){return m}var PI=-1;var WH=m.length;var g2=Z[XY++];var v={};var cc={};while(++PI<WH){var g1=g2(m[PI]);var Z2=cc[g1];if(Z2){Z2.push(m[PI])}else{cc[g1]=[m[PI]]}}Dy(cc,function(g4,g3){v[g3]=k(g4,XY)});return v}function e(PI,v){if(v>=Z.length){return PI}var m=[];var WH=i[v++];Dy(PI,function(Z2,XY){m.push({key:XY,values:e(Z2,v)})});if(WH){return m.sort(function(Z2,XY){return WH(Z2.key,XY.key)})}else{return m}}return{key:function(m){Z.push(m);return this},sortKeys:function(m){i[Z.length-1]=m;return this},entries:function(m){return e(k(m,0),0)}}}var O9=function(Z,i,e){Z.eachSeriesByType("sankey",function(g3){var WH=g3.get("nodeWidth");var cc=g3.get("nodeGap");var Z2=GS(g3,i);g3.layoutInfo=Z2;var g1=Z2.width;var m=Z2.height;var v=g3.getGraph();var g2=v.nodes;var k=v.edges;BQ(g2);var XY=bs(g2,function(g4){return g4.getLayout().value===0});var PI=XY.length!==0?0:g3.get("layoutIterations");Yd(g2,k,WH,cc,g1,m,PI)})};function GS(Z,e){return CU(Z.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Yd(k,e,v,PI,m,Z,i){Cr(k,v,m);C4(k,e,Z,PI,i);PP(k)}function BQ(Z){Dy(Z,function(i){var k=NR(i.outEdges,Fp);var m=NR(i.inEdges,Fp);var e=Math.max(k,m);i.setLayout({value:e},true)})}function Cr(g2,v,cc){var m=g2;var k=null;var g1=0;var Z=0;while(m.length){k=[];for(var XY=0,e=m.length;XY<e;XY++){var Z2=m[XY];Z2.setLayout({x:g1},true);Z2.setLayout({dx:v},true);for(var PI=0,WH=Z2.outEdges.length;PI<WH;PI++){k.push(Z2.outEdges[PI].node2)}}m=k;++g1}Le(g2,g1);Z=(cc-v)/(g1-1);bl(g2,Z)}function Le(Z,e){Dy(Z,function(i){if(!i.outEdges.length){i.setLayout({x:e-1},true)}})}function bl(e,Z){Dy(e,function(k){var i=k.getLayout().x*Z;k.setLayout({x:i},true)})}function C4(k,i,e,PI,v){var Z=e4().key(function(WH){return WH.getLayout().x}).sortKeys(YQ).entries(k).map(function(WH){return WH.values});S3(k,Z,i,e,PI);WF(Z,PI,e);for(var m=1;v>0;v--){m*=0.99;cN(Z,m);WF(Z,PI,e);YY(Z,m);WF(Z,PI,e)}}function S3(k,v,i,e,PI){var m=[];Dy(v,function(Z2){var WH=Z2.length;var cc=0;Dy(Z2,function(g1){cc+=g1.getLayout().value});var XY=(e-(WH-1)*PI)/cc;m.push(XY)});m.sort(function(XY,WH){return XY-WH});var Z=m[0];Dy(v,function(WH){Dy(WH,function(cc,XY){cc.setLayout({y:XY},true);var Z2=cc.getLayout().value*Z;cc.setLayout({dy:Z2},true)})});Dy(i,function(WH){var XY=+WH.getValue()*Z;WH.setLayout({dy:XY},true)})}function WF(i,e,Z){Dy(i,function(WH){var PI;var m;var XY=0;var v=WH.length;var k;WH.sort(MA);for(k=0;k<v;k++){PI=WH[k];m=XY-PI.getLayout().y;if(m>0){var Z2=PI.getLayout().y+m;PI.setLayout({y:Z2},true)}XY=PI.getLayout().y+PI.getLayout().dy+e}m=XY-e-Z;if(m>0){var Z2=PI.getLayout().y-m;PI.setLayout({y:Z2},true);XY=PI.getLayout().y;for(k=v-2;k>=0;--k){PI=WH[k];m=PI.getLayout().y+PI.getLayout().dy+e-XY;if(m>0){Z2=PI.getLayout().y-m;PI.setLayout({y:Z2},true)}XY=PI.getLayout().y}}})}function cN(e,Z){Dy(e.slice().reverse(),function(i){Dy(i,function(m){if(m.outEdges.length){var v=NR(m.outEdges,Jx)/NR(m.outEdges,Fp);var k=m.getLayout().y+(v-Pg(m))*Z;m.setLayout({y:k},true)}})})}function Jx(Z){return Pg(Z.node2)*Z.getValue()}function YY(e,Z){Dy(e,function(i){Dy(i,function(m){if(m.inEdges.length){var v=NR(m.inEdges,gv)/NR(m.inEdges,Fp);var k=m.getLayout().y+(v-Pg(m))*Z;m.setLayout({y:k},true)}})})}function gv(Z){return Pg(Z.node1)*Z.getValue()}function PP(Z){Dy(Z,function(e){e.outEdges.sort(Aq);e.inEdges.sort(Or)});Dy(Z,function(i){var k=0;var e=0;Dy(i.outEdges,function(m){m.setLayout({sy:k},true);k+=m.getLayout().dy});Dy(i.inEdges,function(m){m.setLayout({ty:e},true);e+=m.getLayout().dy})})}function Aq(e,Z){return e.node2.getLayout().y-Z.node2.getLayout().y}function Or(e,Z){return e.node1.getLayout().y-Z.node1.getLayout().y}function NR(Z,PI){var v=0;var k=Z.length;var e=-1;while(++e<k){var m=+PI.call(Z,Z[e],e);if(!isNaN(m)){v+=m}}return v}function Pg(Z){return Z.getLayout().y+Z.getLayout().dy/2}function MA(e,Z){return e.getLayout().y-Z.getLayout().y}function YQ(e,Z){return e<Z?-1:e>Z?1:e===Z?0:NaN}function Fp(Z){return Z.getValue()}var JM=function(Z,e){Z.eachSeriesByType("sankey",function(i){var k=i.getGraph();var m=k.nodes;m.sort(function(XY,WH){return XY.getLayout().value-WH.getLayout().value});var PI=m[0].getLayout().value;var v=m[m.length-1].getLayout().value;Dy(m,function(XY){var Z2=new Oi({type:"color",mappingMethod:"linear",dataExtent:[PI,v],visual:i.get("color")});var cc=Z2.mapValueToVisual(XY.getLayout().value);XY.setVisual("color",cc);var WH=XY.getModel();var g1=WH.get("itemStyle.color");if(g1!=null){XY.setVisual("color",g1)}})})};gH(O9);Ao(JM);var CB=Mj.extend({type:"whiskerInBox",shape:{},buildPath:function(k,m){for(var Z in m){if(m.hasOwnProperty(Z)&&Z.indexOf("ends")===0){var e=m[Z];k.moveTo(e[0][0],e[0][1]);k.lineTo(e[1][0],e[1][1])}}}});function fc(k,e,Z,i){U3.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=Z;this._createContent(k,e,i);this.updateData(k,e,i);this._seriesModel}var VT=fc.prototype;VT._createContent=function(PI,m,v){var i=PI.getItemLayout(m);var e=i.chartLayout==="horizontal"?1:0;var Z=0;this.add(new Hd({shape:{points:v?Uj(i.bodyEnds,e,i):i.bodyEnds},style:{strokeNoScale:true},z2:100}));this.bodyIndex=Z++;var k=QL(i.whiskerEnds,function(WH){return v?Uj(WH,e,i):WH});this.add(new CB({shape:Eu(k),style:{strokeNoScale:true},z2:100}));this.whiskerIndex=Z++};function Uj(Z,e,i){return QL(Z,function(k){k=k.slice();k[e]=i.initBaseline;return k})}function Eu(Z){var e={};Dy(Z,function(m,k){e["ends"+k]=m});return e}VT.updateData=function(v,k,m){var Z=this._seriesModel=v.hostModel;var e=v.getItemLayout(k);var i=S8[m?"initProps":"updateProps"];i(this.childAt(this.bodyIndex),{shape:{points:e.bodyEnds}},Z,k);i(this.childAt(this.whiskerIndex),{shape:Eu(e.whiskerEnds)},Z,k);this.styleUpdater.call(null,this,v,k)};K8(fc,U3);function Lj(Z){this.group=new U3();this.styleUpdater=Z}var Io=Lj.prototype;Io.updateData=function(k){var e=this.group;var i=this._data;var Z=this.styleUpdater;if(!this._data){e.removeAll()}k.diff(i).add(function(m){if(k.hasValue(m)){var v=new fc(k,m,Z,true);k.setItemGraphicEl(m,v);e.add(v)}}).update(function(m,PI){var v=i.getItemGraphicEl(PI);if(!k.hasValue(m)){e.remove(v);return}if(!v){v=new fc(k,m,Z)}else{v.updateData(k,m)}e.add(v);k.setItemGraphicEl(m,v)}).remove(function(v){var m=i.getItemGraphicEl(v);m&&e.remove(m)}).execute();this._data=k};Io.incrementalPrepareUpdate=function(Z,e,i){this.group.removeAll();this._data=null};Io.incrementalUpdate=function(v,e,i,k){var PI=e.getData();for(var m=v.start;m<v.end;m++){var Z=new fc(PI,m,this.styleUpdater,true);Z.incremental=true;this.group.add(Z)}};Io.remove=function(){var Z=this.group;var e=this._data;this._data=null;e&&e.eachItemGraphicEl(function(i){i&&Z.remove(i)})};var Ux={_baseAxisDim:null,getInitialData:function(g6,e){var g5;var m=e.getComponent("xAxis",this.get("xAxisIndex"));var g3=e.getComponent("yAxis",this.get("yAxisIndex"));var PI=m.get("type");var Z2=g3.get("type");var g7;if(PI==="category"){g6.layout="horizontal";g5=m.getOrdinalMeta();g7=true}else{if(Z2==="category"){g6.layout="vertical";g5=g3.getOrdinalMeta();g7=true}else{g6.layout=g6.layout||"horizontal"}}var v=["x","y"];var g1=g6.layout==="horizontal"?0:1;var Z=this._baseAxisDim=v[g1];var cc=v[1-g1];var i=[m,g3];var XY=i[g1].get("type");var k=i[1-g1].get("type");var g2=g6.data;if(g2&&g7){var WH=[];Dy(g2,function(g9,ha){var g8;if(g9.value&&cW(g9.value)){g8=g9.value.slice();g9.value.unshift(ha)}else{if(cW(g9)){g8=g9.slice();g9.unshift(ha)}else{g8=g9}}WH.push(g8)});g6.data=WH}var g4=this.defaultValueDimensions;return Fn(this,{coordDimensions:[{name:Z,type:Tl(XY),ordinalMeta:g5,otherDims:{tooltip:false,itemName:0},dimsDef:["base"]},{name:cc,type:Tl(k),dimsDef:g4.slice()}],dimensionsCount:g4.length+1})},getBaseAxis:function(){var Z=this._baseAxisDim;return this.ecModel.getComponent(Z+"Axis",this.get(Z+"AxisIndex")).axis}};var Q4={init:function(){var Z=this._whiskerBoxDraw=new Lj(this.getStyleUpdater());this.group.add(Z.group)},render:function(Z,e,i){this._whiskerBoxDraw.updateData(Z.getData())},incrementalPrepareRender:function(Z,e,i){this._whiskerBoxDraw.incrementalPrepareUpdate(Z,e,i)},incrementalRender:function(k,Z,e,i){this._whiskerBoxDraw.incrementalUpdate(k,Z,e,i)},remove:function(Z){this._whiskerBoxDraw.remove()}};var ML=S7.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});eG(ML,Ux,true);var eR=MQ.extend({type:"boxplot",getStyleUpdater:function(){return L3},dispose:gw});eG(eR,Q4,true);var QX=["itemStyle"];var XV=["emphasis","itemStyle"];function L3(v,e,m){var Z=e.getItemModel(m);var PI=Z.getModel(QX);var XY=e.getItemVisual(m,"color");var k=PI.getItemStyle(["borderColor"]);var WH=v.childAt(v.whiskerIndex);WH.style.set(k);WH.style.stroke=XY;WH.dirty();var i=v.childAt(v.bodyIndex);i.style.set(k);i.style.stroke=XY;i.dirty();var Z2=Z.getModel(XV).getItemStyle();N7(v,Z2)}var Ti=["itemStyle","borderColor"];var LP=function(e,i){var Z=e.get("color");e.eachRawSeriesByType("boxplot",function(k){var v=Z[k.seriesIndex%Z.length];var m=k.getData();m.setVisual({legendSymbol:"roundRect",color:k.get(Ti)||v});if(!e.isSeriesFiltered(k)){m.each(function(WH){var PI=m.getItemModel(WH);m.setItemVisual(WH,{color:PI.get(Ti,true)})})}})};var b5=Dy;var bF=function(Z){var e=MD(Z);b5(e,function(i){var k=i.seriesModels;if(!k.length){return}L1(i);b5(k,function(m,v){e1(m,i.boxOffsetList[v],i.boxWidthList[v])})})};function MD(Z){var e=[];var i=[];Z.eachSeriesByType("boxplot",function(k){var v=k.getBaseAxis();var m=FT(i,v);if(m<0){m=i.length;i[m]=v;e[m]={axis:v,seriesModels:[]}}e[m].seriesModels.push(k)});return e}function L1(Z){var PI;var g2=Z.axis;var WH=Z.seriesModels;var e=WH.length;var g3=Z.boxWidthList=[];var g1=Z.boxOffsetList=[];var m=[];var Z2;if(g2.type==="category"){Z2=g2.getBandWidth()}else{var cc=0;b5(WH,function(g4){cc=Math.max(cc,g4.getData().count())});PI=g2.getExtent(),Math.abs(PI[1]-PI[0])/cc}b5(WH,function(g4){var g5=g4.get("boxWidth");if(!cW(g5)){g5=[g5,g5]}m.push([Pw(g5[0],Z2)||0,Pw(g5[1],Z2)||0])});var v=Z2*0.8-2;var k=v/e*0.3;var XY=(v-k*(e-1))/e;var i=XY/2-v/2;b5(WH,function(g4,g5){g1.push(i);i+=k+XY;g3.push(Math.min(Math.max(XY,m[g5][0]),m[g5][1]))})}function e1(g1,e,Z){var Z2=g1.coordinateSystem;var k=g1.getData();var v=Z/2;var m=g1.get("layout");var cc=m==="horizontal"?0:1;var XY=1-cc;var PI=["x","y"];var i=[];var WH;Dy(k.dimensions,function(g2){var g4=k.getDimensionInfo(g2);var g3=g4.coordDim;if(g3===PI[XY]){i.push(g2)}else{if(g3===PI[cc]){WH=g2}}});if(WH==null||i.length<5){return}k.each([WH].concat(i),function(){var g3=arguments;var hc=g3[0];var g7=g3[i.length+1];var g4=g8(g3[3]);var g2=g8(g3[1]);var g6=g8(g3[5]);var g9=[[g2,g8(g3[2])],[g6,g8(g3[4])]];g5(g2);g5(g6);g5(g4);var ha=[];hb(g9[0][1],0);hb(g9[1][1],1);k.setItemLayout(g7,{chartLayout:m,initBaseline:g4[XY],median:g4,bodyEnds:ha,whiskerEnds:g9});function g8(hf){var he=[];he[cc]=hc;he[XY]=hf;var hd;if(isNaN(hc)||isNaN(hf)){hd=[NaN,NaN]}else{hd=Z2.dataToPoint(he);hd[cc]+=e}return hd}function hb(hd,hf){var he=hd.slice();var hg=hd.slice();he[cc]+=v;hg[cc]-=v;hf?ha.push(he,hg):ha.push(hg,he)}function g5(hd){var he=[hd.slice(),hd.slice()];he[0][cc]-=v;he[1][cc]+=v;g9.push(he)}})}Ao(LP);gH(bF);var cv=S7.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:true,hoverAnimation:true,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:false,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(Z,k,e){var i=k.getItemLayout(Z);return e.rect(i.brushRect)}});eG(cv,Ux,true);var IE=MQ.extend({type:"candlestick",getStyleUpdater:function(){return L4},dispose:gw});eG(IE,Q4,true);var Ji=["itemStyle"];var XW=["emphasis","itemStyle"];function L4(v,e,m){var Z=e.getItemModel(m);var PI=Z.getModel(Ji);var k=e.getItemVisual(m,"color");var Z2=e.getItemVisual(m,"borderColor")||k;var WH=PI.getItemStyle(["color","color0","borderColor","borderColor0"]);var XY=v.childAt(v.whiskerIndex);XY.useStyle(WH);XY.style.stroke=Z2;var i=v.childAt(v.bodyIndex);i.useStyle(WH);i.style.fill=k;i.style.stroke=Z2;var cc=Z.getModel(XW).getItemStyle();N7(v,cc)}var d7=function(Z){if(!Z||!cW(Z.series)){return}Dy(Z.series,function(e){if(EJ(e)&&e.type==="k"){e.type="candlestick"}})};var Me=["itemStyle","borderColor"];var Wo=["itemStyle","borderColor0"];var OH=["itemStyle","color"];var OB=["itemStyle","color0"];var Hq=function(Z,e){Z.eachRawSeriesByType("candlestick",function(i){var k=i.getData();k.setVisual({legendSymbol:"roundRect"});if(!Z.isSeriesFiltered(i)){k.each(function(PI){var v=k.getItemModel(PI);var m=k.getItemLayout(PI).sign;k.setItemVisual(PI,{color:v.get(m>0?OH:OB),borderColor:v.get(m>0?Me:Wo)})})}})};var TG=Vi;var Aj=function(Z){Z.eachSeriesByType("candlestick",function(g1){var i=g1.coordinateSystem;var m=g1.getData();var Z2=Sb(g1,m);var v=g1.get("layout");var cc=v==="horizontal"?0:1;var XY=1-cc;var e=["x","y"];var k=[];var PI;Dy(m.dimensions,function(g2){var g4=m.getDimensionInfo(g2);var g3=g4.coordDim;if(g3===e[XY]){k.push(g2)}else{if(g3===e[cc]){PI=g2}}});if(PI==null||k.length<4){return}var WH=0;m.each([PI].concat(k),function(){var g2=arguments;var g9=g2[0];var g5=g2[k.length+1];var g3=g2[1];var hh=g2[2];var g8=g2[3];var g6=g2[4];var hc=Math.min(g3,hh);var hb=Math.max(g3,hh);var hf=g4(hc);var hk=g4(hb);var hd=g4(g8);var hi=g4(g6);var ha=[[g7(hi),g7(hk)],[g7(hd),g7(hf)]];var hl=[];hj(hk,0);hj(hf,1);var hg;if(g3>hh){hg=-1}else{if(g3<hh){hg=1}else{if(WH>0){hg=m.getItemModel(WH-1).get()[2]<=hh?1:-1}else{hg=1}}}m.setItemLayout(g5,{chartLayout:v,sign:hg,initBaseline:g3>hh?hk[XY]:hf[XY],bodyEnds:hl,whiskerEnds:ha,brushRect:he()});++WH;function g4(hn){var hm=[];hm[cc]=g9;hm[XY]=hn;return(isNaN(g9)||isNaN(hn))?[NaN,NaN]:i.dataToPoint(hm)}function hj(hm,ho){var hn=hm.slice();var hp=hm.slice();hn[cc]=dC(hn[cc]+Z2/2,1,false);hp[cc]=dC(hp[cc]-Z2/2,1,true);ho?hl.push(hn,hp):hl.push(hp,hn)}function he(){var hm=g4(Math.min(g3,hh,g8,g6));var hn=g4(Math.max(g3,hh,g8,g6));hm[cc]-=Z2/2;hn[cc]-=Z2/2;return{x:hm[0],y:hm[1],width:XY?Z2:hn[0]-hm[0],height:XY?hn[1]-hm[1]:Z2}}function g7(hm){hm[cc]=dC(hm[cc],1);return hm}})})};function Sb(WH,e){var PI=WH.getBaseAxis();var k;var Z=PI.type==="category"?PI.getBandWidth():(k=PI.getExtent(),Math.abs(k[1]-k[0])/e.count());var v=Pw(TG(WH.get("barMaxWidth"),Z),Z);var m=Pw(TG(WH.get("barMinWidth"),1),Z);var i=WH.get("barWidth");return i!=null?Pw(i,Z):Math.max(Math.min(Z/2,v),m)}Jo(d7);Ao(Hq);gH(Aj);S7.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(Z,e){return VR(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var s=3;function NQ(Z){if(!cW(Z)){Z=[+Z,+Z]}return Z}function dK(Z,e){Z.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?e.color:null,fill:e.brushType==="fill"?e.color:null}})})}function TU(k,i){U3.call(this);var e=new S0(k,i);var Z=new U3();this.add(e);this.add(Z);Z.beforeUpdate=function(){this.attr(e.getScale())};this.updateData(k,i)}var ff=TU.prototype;ff.stopEffectAnimation=function(){this.childAt(1).removeAll()};ff.startEffectAnimation=function(v){var e=v.symbolType;var WH=v.color;var Z=this.childAt(1);for(var k=0;k<s;k++){var PI=FK(e,-1,-1,2,2,WH);PI.attr({style:{strokeNoScale:true},z2:99,silent:true,scale:[0.5,0.5]});var m=-k/s*v.period+v.effectOffset;PI.animate("",true).when(v.period,{scale:[v.rippleScale/2,v.rippleScale/2]}).delay(m).start();PI.animateStyle(true).when(v.period,{opacity:0}).delay(m).start();Z.add(PI)}dK(Z,v)};ff.updateEffectAnimation=function(v){var PI=this._effectCfg;var Z=this.childAt(1);var e=["symbolType","period","rippleScale"];for(var k=0;k<e.length;k++){var m=e[k];if(PI[m]!==v[m]){this.stopEffectAnimation();this.startEffectAnimation(v);return}}dK(Z,v)};ff.highlight=function(){this.trigger("emphasis")};ff.downplay=function(){this.trigger("normal")};ff.updateData=function(k,v){var g3=k.hostModel;this.childAt(0).updateData(k,v);var Z2=this.childAt(1);var e=k.getItemModel(v);var PI=k.getItemVisual(v,"symbol");var Z=NQ(k.getItemVisual(v,"symbolSize"));var m=k.getItemVisual(v,"color");Z2.attr("scale",Z);Z2.traverse(function(g4){g4.attr({fill:m})});var g2=e.getShallow("symbolOffset");if(g2){var XY=Z2.position;XY[0]=Pw(g2[0],Z[0]);XY[1]=Pw(g2[1],Z[1])}Z2.rotation=(e.getShallow("symbolRotate")||0)*Math.PI/180||0;var g1={};g1.showEffectOn=g3.get("showEffectOn");g1.rippleScale=e.get("rippleEffect.scale");g1.brushType=e.get("rippleEffect.brushType");g1.period=e.get("rippleEffect.period")*1000;g1.effectOffset=v/k.count();g1.z=e.getShallow("z")||0;g1.zlevel=e.getShallow("zlevel")||0;g1.symbolType=PI;g1.color=m;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if(g1.showEffectOn==="render"){this._effectCfg?this.updateEffectAnimation(g1):this.startEffectAnimation(g1);this._effectCfg=g1}else{this._effectCfg=null;this.stopEffectAnimation();var WH=this.childAt(0);var cc=function(){WH.highlight();if(g1.showEffectOn!=="render"){this.startEffectAnimation(g1)}};var i=function(){WH.downplay();if(g1.showEffectOn!=="render"){this.stopEffectAnimation()}};this.on("mouseover",cc,this).on("mouseout",i,this).on("emphasis",cc,this).on("normal",i,this)}this._effectCfg=g1};ff.fadeOut=function(Z){this.off("mouseover").off("mouseout").off("emphasis").off("normal");Z&&Z()};K8(TU,U3);YB({type:"effectScatter",init:function(){this._symbolDraw=new gu(TU)},render:function(e,i,k){var m=e.getData();var Z=this._symbolDraw;Z.updateData(m);this.group.add(Z.group)},updateTransform:function(Z,e,k){var m=Z.getData();this.group.dirty();var i=IP().reset(Z);if(i.progress){i.progress({start:0,end:m.count()},m)}this._symbolDraw.updateLayout(m)},_updateGroupTransform:function(Z){var e=Z.coordinateSystem;if(e&&e.getRoamTransform){this.group.transform=ZF(e.getRoamTransform());this.group.decomposeTransform()}},remove:function(Z,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});Ao(RB("effectScatter","circle"));gH(IP("effectScatter"));var Gy=typeof window==="undefined"?global:window;var ZS=Gy.Uint32Array||Array;var BE=Gy.Float64Array||Array;function e3(Z){var e=Z.data;if(e&&e[0]&&e[0][0]&&e[0][0].coord){if(W1){console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }")}Z.data=QL(e,function(k){var i=[k[0].coord,k[1].coord];var m={coords:i};if(k[0].name){m.fromName=k[0].name}if(k[1].name){m.toName=k[1].name}return F5([m,k[0],k[1]])})}}var IB=S7.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(Z){e3(Z);var e=this._processFlatCoordsArray(Z.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){Z.data=new Float32Array(e.count)}IB.superApply(this,"init",arguments)},mergeOption:function(Z){e3(Z);if(Z.data){var e=this._processFlatCoordsArray(Z.data);this._flatCoords=e.flatCoords;this._flatCoordsOffset=e.flatCoordsOffset;if(e.flatCoords){Z.data=new Float32Array(e.count)}}IB.superApply(this,"mergeOption",arguments)},appendData:function(e){var Z=this._processFlatCoordsArray(e.data);if(Z.flatCoords){if(!this._flatCoords){this._flatCoords=Z.flatCoords;this._flatCoordsOffset=Z.flatCoordsOffset}else{this._flatCoords=c0(this._flatCoords,Z.flatCoords);this._flatCoordsOffset=c0(this._flatCoordsOffset,Z.flatCoordsOffset)}e.data=new Float32Array(Z.count)}this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(i){var e=this.getData().getItemModel(i);var Z=(e.option instanceof Array)?e.option:e.getShallow("coords");if(W1){if(!(Z instanceof Array&&Z.length>0&&Z[0] instanceof Array)){throw new Error("Invalid coords "+JSON.stringify(Z)+". Lines must have 2d coords array in data item.")}}return Z},getLineCoordsCount:function(Z){if(this._flatCoordsOffset){return this._flatCoordsOffset[Z*2+1]}else{return this._getCoordsFromItemModel(Z).length}},getLineCoords:function(v,k){if(this._flatCoordsOffset){var Z=this._flatCoordsOffset[v*2];var m=this._flatCoordsOffset[v*2+1];for(var e=0;e<m;e++){k[e]=k[e]||[];k[e][0]=this._flatCoords[Z+e*2];k[e][1]=this._flatCoords[Z+e*2+1]}return m}else{var PI=this._getCoordsFromItemModel(v);for(var e=0;e<PI.length;e++){k[e]=k[e]||[];k[e][0]=PI[e][0];k[e][1]=PI[e][1]}return PI.length}},_processFlatCoordsArray:function(m){var g4=0;if(this._flatCoords){g4=this._flatCoords.length}if(typeof m[0]==="number"){var cc=m.length;var g2=new ZS(cc);var XY=new BE(cc);var WH=0;var Z=0;var Z2=0;for(var PI=0;PI<cc;){Z2++;var e=m[PI++];g2[Z++]=WH+g4;g2[Z++]=e;for(var v=0;v<e;v++){var g3=m[PI++];var g1=m[PI++];XY[WH++]=g3;XY[WH++]=g1;if(PI>cc){if(W1){throw new Error("Invalid data format.")}}}}return{flatCoordsOffset:new Uint32Array(g2.buffer,0,Z),flatCoords:XY,count:Z2}}return{flatCoordsOffset:null,flatCoords:null,count:m.length}},getInitialData:function(Z,i){if(W1){var e=Rn.get(Z.coordinateSystem);if(!e){throw new Error("Unkown coordinate system "+Z.coordinateSystem)}}var k=new Mh(["value"],this);k.hasItemOption=false;k.initData(Z.data,[],function(PI,WH,m,v){if(PI instanceof Array){return NaN}else{k.hasItemOption=true;var XY=PI.value;if(XY!=null){return XY instanceof Array?XY[v]:XY}}});return k},formatTooltip:function(e){var PI=this.getData();var k=PI.getItemModel(e);var m=k.get("name");if(m){return m}var i=k.get("fromName");var v=k.get("toName");var Z=[];i!=null&&Z.push(i);v!=null&&Z.push(v);return Qp(Z.join(" > "))},preventIncremental:function(){return !!this.get("effect.show")},getProgressive:function(){var Z=this.option.progressive;if(Z==null){return this.option.large?10000:this.get("progressive")}return Z},getProgressiveThreshold:function(){var Z=this.option.progressiveThreshold;if(Z==null){return this.option.large?20000:this.get("progressiveThreshold")}return Z},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:true,hoverAnimation:true,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:false,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:true,trailLength:0.2},large:false,largeThreshold:2000,polyline:false,label:{show:false,position:"end"},lineStyle:{opacity:0.5}}});function NK(Z,e,i){U3.call(this);this.add(this.createLine(Z,e,i));this._updateEffectSymbol(Z,e)}var YA=NK.prototype;YA.createLine=function(Z,e,i){return new OD(Z,e,i)};YA._updateEffectSymbol=function(WH,k){var Z=WH.getItemModel(k);var e=Z.getModel("effect");var m=e.get("symbolSize");var v=e.get("symbol");if(!cW(m)){m=[m,m]}var i=e.get("color")||WH.getItemVisual(k,"color");var PI=this.childAt(1);if(this._symbolType!==v){this.remove(PI);PI=FK(v,-0.5,-0.5,1,1,i);PI.z2=100;PI.culling=true;this.add(PI)}if(!PI){return}PI.setStyle("shadowColor",i);PI.setStyle(e.getItemStyle(["color"]));PI.attr("scale",m);PI.setColor(i);PI.attr("scale",m);this._symbolType=v;this._updateEffectAnimation(WH,e,k)};YA._updateEffectAnimation=function(XY,k,v){var WH=this.childAt(1);if(!WH){return}var PI=this;var Z2=XY.getItemLayout(v);var Z=k.get("period")*1000;var g2=k.get("loop");var m=k.get("constantSpeed");var g1=ER(k.get("delay"),function(g3){return g3/XY.count()*Z/3});var i=typeof g1==="function";WH.ignore=true;this.updateAnimationPoints(WH,Z2);if(m>0){Z=this.getLineLength(WH)/m*1000}if(Z!==this._period||g2!==this._loop){WH.stopAnimation();var e=g1;if(i){e=g1(v)}if(WH.__t>0){e=-Z*WH.__t}WH.__t=0;var cc=WH.animate("",g2).when(Z,{__t:1}).delay(e).during(function(){PI.updateSymbolPosition(WH)});if(!g2){cc.done(function(){PI.remove(WH)})}cc.start()}this._period=Z;this._loop=g2};YA.getLineLength=function(Z){return(V1(Z.__p1,Z.__cp1)+V1(Z.__cp1,Z.__p2))};YA.updateAnimationPoints=function(Z,e){Z.__p1=e[0];Z.__p2=e[1];Z.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]};YA.updateData=function(Z,e,i){this.childAt(0).updateData(Z,e,i);this._updateEffectSymbol(Z,e)};YA.updateSymbolPosition=function(v){var m=v.__p1;var WH=v.__p2;var XY=v.__cp1;var e=v.__t;var PI=v.position;var k=Jn;var i=Pf;PI[0]=k(m[0],XY[0],WH[0],e);PI[1]=k(m[1],XY[1],WH[1],e);var Z=i(m[0],XY[0],WH[0],e);var Z2=i(m[1],XY[1],WH[1],e);v.rotation=-Math.atan2(Z2,Z)-Math.PI/2;v.ignore=false};YA.updateLayout=function(Z,i){this.childAt(0).updateLayout(Z,i);var e=Z.getItemModel(i).getModel("effect");this._updateEffectAnimation(Z,e,i)};K8(NK,U3);function ZN(Z,e,i){U3.call(this);this._createPolyline(Z,e,i)}var Pc=ZN.prototype;Pc._createPolyline=function(Z,i,m){var e=Z.getItemLayout(i);var k=new JI({shape:{points:e}});this.add(k);this._updateCommonStl(Z,i,m)};Pc.updateData=function(Z,k,v){var e=Z.hostModel;var m=this.childAt(0);var i={shape:{points:Z.getItemLayout(k)}};Qr(m,i,e,k);this._updateCommonStl(Z,k,v)};Pc._updateCommonStl=function(m,i,k){var Z=this.childAt(0);var v=m.getItemModel(i);var WH=m.getItemVisual(i,"color");var PI=k&&k.lineStyle;var e=k&&k.hoverLineStyle;if(!k||m.hasItemOption){PI=v.getModel("lineStyle").getLineStyle();e=v.getModel("emphasis.lineStyle").getLineStyle()}Z.useStyle(IK({strokeNoScale:true,fill:"none",stroke:WH},PI));Z.hoverStyle=e;N7(this)};Pc.updateLayout=function(Z,i){var e=this.childAt(0);e.setShape("points",Z.getItemLayout(i))};K8(ZN,U3);function ap(Z,e,i){NK.call(this,Z,e,i);this._lastFrame=0;this._lastFramePercent=0}var Ik=ap.prototype;Ik.createLine=function(Z,e,i){return new ZN(Z,e,i)};Ik.updateAnimationPoints=function(e,m){this._points=m;var WH=[0];var Z=0;for(var k=1;k<m.length;k++){var v=m[k-1];var PI=m[k];Z+=V1(v,PI);WH.push(Z)}if(Z===0){return}for(var k=0;k<WH.length;k++){WH[k]/=Z}this._offsets=WH;this._length=Z};Ik.getLineLength=function(Z){return this._length};Ik.updateSymbolPosition=function(PI){var i=PI.__t;var WH=this._points;var v=this._offsets;var XY=WH.length;if(!v){return}var m=this._lastFrame;var k;if(i<this._lastFramePercent){var e=Math.min(m+1,XY-1);for(k=e;k>=0;k--){if(v[k]<=i){break}}k=Math.min(k,XY-2)}else{for(var k=m;k<XY;k++){if(v[k]>i){break}}k=Math.min(k-1,XY-2)}aP(PI.position,WH[k],WH[k+1],(i-v[k])/(v[k+1]-v[k]));var Z=WH[k+1][0]-WH[k][0];var Z2=WH[k+1][1]-WH[k][1];PI.rotation=-Math.atan2(Z2,Z)-Math.PI/2;this._lastFrame=k;this._lastFramePercent=i;PI.ignore=false};K8(ap,NK);var Ce=Ck({shape:{polyline:false,curveness:0,segs:[]},buildPath:function(g1,m){var g3=m.segs;var g2=m.curveness;if(m.polyline){for(var XY=0;XY<g3.length;){var e=g3[XY++];if(e>0){g1.moveTo(g3[XY++],g3[XY++]);for(var WH=1;WH<e;WH++){g1.lineTo(g3[XY++],g3[XY++])}}}}else{for(var XY=0;XY<g3.length;){var v=g3[XY++];var PI=g3[XY++];var Z=g3[XY++];var cc=g3[XY++];g1.moveTo(v,PI);if(g2>0){var g4=(v+Z)/2-(PI-cc)*g2;var Z2=(PI+cc)/2-(Z-v)*g2;g1.quadraticCurveTo(g4,Z2,Z,cc)}else{g1.lineTo(Z,cc)}}}},findDataIndex:function(g4,g5){var v=this.shape;var Z=v.segs;var g3=v.curveness;if(v.polyline){var g2=0;for(var Z2=0;Z2<Z.length;){var m=Z[Z2++];if(m>0){var PI=Z[Z2++];var WH=Z[Z2++];for(var XY=1;XY<m;XY++){var e=Z[Z2++];var g1=Z[Z2++];if(S(PI,WH,e,g1)){return g2}}}g2++}}else{var g2=0;for(var Z2=0;Z2<Z.length;){var PI=Z[Z2++];var WH=Z[Z2++];var e=Z[Z2++];var g1=Z[Z2++];if(g3>0){var g6=(PI+e)/2-(WH-g1)*g3;var cc=(WH+g1)/2-(e-PI)*g3;if(DL(PI,WH,g6,cc,e,g1)){return g2}}else{if(S(PI,WH,e,g1)){return g2}}g2++}}return -1}});function fA(){this.group=new U3()}var FU=fA.prototype;FU.isPersistent=function(){return !this._incremental};FU.updateData=function(e){this.group.removeAll();var Z=new Ce({rectHover:true,cursor:"default"});Z.setShape({segs:e.getLayout("linesPoints")});this._setCommon(Z,e);this.group.add(Z);this._incremental=null};FU.incrementalPrepareUpdate=function(Z){this.group.removeAll();this._clearIncremental();if(Z.count()>500000){if(!this._incremental){this._incremental=new Oo({silent:true})}this.group.add(this._incremental)}else{this._incremental=null}};FU.incrementalUpdate=function(e,i){var Z=new Ce();Z.setShape({segs:i.getLayout("linesPoints")});this._setCommon(Z,i,!!this._incremental);if(!this._incremental){Z.rectHover=true;Z.cursor="default";Z.__startIndex=e.start;this.group.add(Z)}else{this._incremental.addDisplayable(Z,true)}};FU.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};FU._setCommon=function(Z,m,i){var k=m.hostModel;Z.setShape({polyline:k.get("polyline"),curveness:k.get("lineStyle.curveness")});Z.useStyle(k.getModel("lineStyle").getLineStyle());Z.style.strokeNoScale=true;var e=m.getVisual("color");if(e){Z.setStyle("stroke",e)}Z.setStyle("fill");if(!i){Z.seriesIndex=k.seriesIndex;Z.on("mousemove",function(PI){Z.dataIndex=null;var v=Z.findDataIndex(PI.offsetX,PI.offsetY);if(v>0){Z.dataIndex=v+Z.__startIndex}})}};FU._clearIncremental=function(){var Z=this._incremental;if(Z){Z.clearDisplaybles()}};var TM={seriesType:"lines",plan:Dq(),reset:function(Z){var i=Z.coordinateSystem;var e=Z.get("polyline");var m=Z.pipelineContext.large;function k(g4,g5){var g2=[];if(m){var g7;var g9=g4.end-g4.start;if(e){var g6=0;for(var g3=g4.start;g3<g4.end;g3++){g6+=Z.getLineCoordsCount(g3)}g7=new Float32Array(g9+g6*2)}else{g7=new Float32Array(g9*2)}var XY=0;var PI=[];for(var g3=g4.start;g3<g4.end;g3++){var cc=Z.getLineCoords(g3,g2);if(e){g7[XY++]=cc}for(var g1=0;g1<cc;g1++){PI=i.dataToPoint(g2[g1],false,PI);g7[XY++]=PI[0];g7[XY++]=PI[1]}}g5.setLayout("linesPoints",g7)}else{for(var g3=g4.start;g3<g4.end;g3++){var WH=g5.getItemModel(g3);var cc=Z.getLineCoords(g3,g2);var v=[];if(e){for(var g8=0;g8<cc;g8++){v.push(i.dataToPoint(g2[g8]))}}else{v[0]=i.dataToPoint(g2[0]);v[1]=i.dataToPoint(g2[1]);var Z2=WH.get("lineStyle.curveness");if(+Z2){v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*Z2,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*Z2]}}g5.setItemLayout(g3,v)}}}return{progress:k}}};YB({type:"lines",init:function(){},render:function(Z2,e,WH){var k=Z2.getData();var v=this._updateLineDraw(k,Z2);var Z=Z2.get("zlevel");var PI=Z2.get("effect.trailLength");var i=WH.getZr();var m=i.painter.getType()==="svg";if(!m){i.painter.getLayer(Z).clear(true)}if(this._lastZlevel!=null&&!m){i.configLayer(this._lastZlevel,{motionBlur:false})}if(this._showEffect(Z2)&&PI){if(W1){var XY=false;e.eachSeries(function(cc){if(cc!==Z2&&cc.get("zlevel")===Z){XY=true}});XY&&console.warn("Lines with trail effect should have an individual zlevel")}if(!m){i.configLayer(Z,{motionBlur:true,lastFrameAlpha:Math.max(Math.min(PI/10+0.9,1),0)})}}v.updateData(k);this._lastZlevel=Z;this._finished=true},incrementalPrepareRender:function(e,i,k){var m=e.getData();var Z=this._updateLineDraw(m,e);Z.incrementalPrepareUpdate(m);this._clearLayer(k);this._finished=false},incrementalRender:function(e,Z,i){this._lineDraw.incrementalUpdate(e,Z.getData());this._finished=e.end===Z.getData().count()},updateTransform:function(Z,e,k){var m=Z.getData();if(!this._finished||Z.pipelineContext.large){return{update:true}}else{var i=TM.reset(Z);if(i.progress){i.progress({start:0,end:m.count()},m)}this._lineDraw.updateLayout();this._clearLayer(k)}},_updateLineDraw:function(PI,e){var Z=this._lineDraw;var i=this._showEffect(e);var k=!!e.get("polyline");var m=e.pipelineContext;var v=m.large;if(W1){if(i&&v){console.warn("Large lines not support effect")}}if(!Z||i!==this._hasEffet||k!==this._isPolyline||v!==this._isLargeDraw){if(Z){Z.remove()}Z=this._lineDraw=v?new fA():new Nh(k?(i?ap:ZN):(i?NK:OD));this._hasEffet=i;this._isPolyline=k;this._isLargeDraw=v;this.group.removeAll()}this.group.add(Z.group);return Z},_showEffect:function(Z){return !!Z.get("effect.show")},_clearLayer:function(i){var Z=i.getZr();var e=Z.painter.getType()==="svg";if(!e&&this._lastZlevel!=null){Z.painter.getLayer(this._lastZlevel).clear(true)}},remove:function(Z,e){this._lineDraw&&this._lineDraw.remove();this._lineDraw=null;this._clearLayer(e)},dispose:function(){}});function e6(Z){if(!(Z instanceof Array)){Z=[Z,Z]}return Z}var Ez="lineStyle.opacity".split(".");var W3={seriesType:"lines",reset:function(Z,e,v){var k=e6(Z.get("symbol"));var m=e6(Z.get("symbolSize"));var PI=Z.getData();PI.setVisual("fromSymbol",k&&k[0]);PI.setVisual("toSymbol",k&&k[1]);PI.setVisual("fromSymbolSize",m&&m[0]);PI.setVisual("toSymbolSize",m&&m[1]);PI.setVisual("opacity",Z.get(Ez));function i(g2,cc){var XY=g2.getItemModel(cc);var WH=e6(XY.getShallow("symbol",true));var g1=e6(XY.getShallow("symbolSize",true));var Z2=XY.get(Ez);WH[0]&&g2.setItemVisual(cc,"fromSymbol",WH[0]);WH[1]&&g2.setItemVisual(cc,"toSymbol",WH[1]);g1[0]&&g2.setItemVisual(cc,"fromSymbolSize",g1[0]);g1[1]&&g2.setItemVisual(cc,"toSymbolSize",g1[1]);g2.setItemVisual(cc,"opacity",Z2)}return{dataEach:PI.hasItemOption?i:null}}};gH(TM);Ao(W3);S7.extend({type:"series.heatmap",getInitialData:function(Z,e){return VR(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var Z=Rn.get(this.get("coordinateSystem"));if(Z&&Z.dimensions){return Z.dimensions[0]==="lng"&&Z.dimensions[1]==="lat"}},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var WI=256;function aA(){var Z=gi();this.canvas=Z;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}aA.prototype={update:function(hc,hh,hg,hd,XY,g6){var hi=this._getBrush();var cc=this._getGradient(hc,XY,"inRange");var g4=this._getGradient(hc,XY,"outOfRange");var Z=this.pointSize+this.blurSize;var e=this.canvas;var Z2=e.getContext("2d");var m=hc.length;e.width=hh;e.height=hg;for(var WH=0;WH<m;++WH){var k=hc[WH];var he=k[0];var hf=k[1];var g2=k[2];var g5=hd(g2);Z2.globalAlpha=g5;Z2.drawImage(hi,he-Z,hf-Z)}if(!e.width||!e.height){return e}var g8=Z2.getImageData(0,0,e.width,e.height);var PI=g8.data;var g1=0;var ha=PI.length;var g9=this.minOpacity;var v=this.maxOpacity;var g7=v-g9;while(g1<ha){var g5=PI[g1+3]/256;var g3=Math.floor(g5*(WI-1))*4;if(g5>0){var hb=g6(g5)?cc:g4;g5>0&&(g5=g5*g7+g9);PI[g1++]=hb[g3];PI[g1++]=hb[g3+1];PI[g1++]=hb[g3+2];PI[g1++]=hb[g3+3]*g5*256}else{g1+=4}}Z2.putImageData(g8,0,0);return e},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=gi());var Z=this.pointSize+this.blurSize;var e=Z*2;i.width=e;i.height=e;var k=i.getContext("2d");k.clearRect(0,0,e,e);k.shadowOffsetX=e;k.shadowBlur=this.blurSize;k.shadowColor="#000";k.beginPath();k.arc(-Z,Z,this.pointSize,0,Math.PI*2,true);k.closePath();k.fill();return i},_getGradient:function(Z,k,m){var XY=this._gradientPixels;var PI=XY[m]||(XY[m]=new Uint8ClampedArray(256*4));var e=[0,0,0,0];var WH=0;for(var v=0;v<256;v++){k[m](v/255,true,e);PI[WH++]=e[0];PI[WH++]=e[1];PI[WH++]=e[2];PI[WH++]=e[3]}return PI}};function UN(m,v,i){var e=m[1]-m[0];v=QL(v,function(PI){return{interval:[(PI.interval[0]-m[0])/e,(PI.interval[1]-m[0])/e]}});var k=v.length;var Z=0;return function(XY){for(var PI=Z;PI<k;PI++){var WH=v[PI].interval;if(WH[0]<=XY&&XY<=WH[1]){Z=PI;break}}if(PI===k){for(var PI=Z-1;PI>=0;PI--){var WH=v[PI].interval;if(WH[0]<=XY&&XY<=WH[1]){Z=PI;break}}}return PI>=0&&PI<k&&i[PI]}}function eF(i,e){var Z=i[1]-i[0];e=[(e[0]-i[0])/Z,(e[1]-i[0])/Z];return function(k){return k>=e[0]&&k<=e[1]}}function cf(Z){var e=Z.dimensions;return e[0]==="lng"&&e[1]==="lat"}YB({type:"heatmap",render:function(Z,e,m){var i;e.eachComponent("visualMap",function(v){v.eachTargetSeries(function(PI){if(PI===Z){i=v}})});if(W1){if(!i){throw new Error("Heatmap must use with visualMap")}}this.group.removeAll();this._incrementalDisplayable=null;var k=Z.coordinateSystem;if(k.type==="cartesian2d"||k.type==="calendar"){this._renderOnCartesianAndCalendar(Z,m,0,Z.getData().count())}else{if(cf(k)){this._renderOnGeo(k,Z,i,m)}}},incrementalPrepareRender:function(Z,e,i){this.group.removeAll()},incrementalRender:function(m,Z,e,k){var i=Z.coordinateSystem;if(i){this._renderOnCartesianAndCalendar(Z,k,m.start,m.end,true)}},_renderOnCartesianAndCalendar:function(XY,g4,hh,g1,k){var g5=XY.coordinateSystem;var g7;var hg;if(g5.type==="cartesian2d"){var i=g5.getAxis("x");var WH=g5.getAxis("y");if(W1){if(!(i.type==="category"&&WH.type==="category")){throw new Error("Heatmap on cartesian must have two category axes")}if(!(i.onBand&&WH.onBand)){throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}}g7=i.getBandWidth();hg=WH.getBandWidth()}var g8=this.group;var hb=XY.getData();var hd="itemStyle";var g6="emphasis.itemStyle";var cc="label";var hf="emphasis.label";var v=XY.getModel(hd).getItemStyle(["color"]);var Z=XY.getModel(g6).getItemStyle();var m=XY.getModel(cc);var e=XY.getModel(hf);var PI=g5.type;var Z2=PI==="cartesian2d"?[hb.mapDimension("x"),hb.mapDimension("y"),hb.mapDimension("value")]:[hb.mapDimension("time"),hb.mapDimension("value")];for(var g9=hh;g9<g1;g9++){var g2;if(PI==="cartesian2d"){if(isNaN(hb.get(Z2[2],g9))){continue}var hc=g5.dataToPoint([hb.get(Z2[0],g9),hb.get(Z2[1],g9)]);g2=new Fm({shape:{x:hc[0]-g7/2,y:hc[1]-hg/2,width:g7,height:hg},style:{fill:hb.getItemVisual(g9,"color"),opacity:hb.getItemVisual(g9,"opacity")}})}else{if(isNaN(hb.get(Z2[1],g9))){continue}g2=new Fm({z2:1,shape:g5.dataToRect([hb.get(Z2[0],g9)]).contentShape,style:{fill:hb.getItemVisual(g9,"color"),opacity:hb.getItemVisual(g9,"opacity")}})}var he=hb.getItemModel(g9);if(hb.hasItemOption){v=he.getModel(hd).getItemStyle(["color"]);Z=he.getModel(g6).getItemStyle();m=he.getModel(cc);e=he.getModel(hf)}var ha=XY.getRawValue(g9);var g3="-";if(ha&&ha[2]!=null){g3=ha[2]}HB(v,Z,m,e,{labelFetcher:XY,labelDataIndex:g9,defaultText:g3,isRectText:true});g2.setStyle(v);N7(g2,hb.hasItemOption?Z:XN({},Z));g2.incremental=k;if(k){g2.useHoverLayer=true}g8.add(g2);hb.setItemGraphicEl(g9,g2)}},_renderOnGeo:function(g1,k,e,WH){var i=e.targetVisuals.inRange;var XY=e.targetVisuals.outOfRange;var v=k.getData();var m=this._hmLayer||(this._hmLayer||new aA());m.blurSize=k.get("blurSize");m.pointSize=k.get("pointSize");m.minOpacity=k.get("minOpacity");m.maxOpacity=k.get("maxOpacity");var PI=g1.getViewRect().clone();var Z2=g1.getRoamTransform();PI.applyTransform(Z2);var g6=Math.max(PI.x,0);var g7=Math.max(PI.y,0);var g9=Math.min(PI.width+PI.x,WH.getWidth());var g4=Math.min(PI.height+PI.y,WH.getHeight());var ha=g9-g6;var g8=g4-g7;var cc=[v.mapDimension("lng"),v.mapDimension("lat"),v.mapDimension("value")];var g2=v.mapArray(cc,function(hd,he,hb){var hc=g1.dataToPoint([hd,he]);hc[0]-=g6;hc[1]-=g7;hc.push(hb);return hc});var g3=e.getExtent();var Z=e.type==="visualMap.continuous"?eF(g3,e.option.range):UN(g3,e.getPieceList(),e.option.selected);m.update(g2,ha,g8,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:XY.color.getColorMapper()},Z);var g5=new Hv({style:{width:ha,height:g8,x:g6,y:g7,image:m.canvas},silent:true});this.group.add(g5)},dispose:function(){}});var dY=Fb.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:false,symbolRepeatDirection:"end",symbolClip:false,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:false},getInitialData:function(Z){Z.stack=null;return dY.superApply(this,"getInitialData",arguments)}});var TB=["itemStyle","borderWidth"];var EA=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}];var Ty=new cE();var TN=YB({type:"pictorialBar",render:function(cc,Z,Z2){var v=this.group;var i=cc.getData();var k=this._data;var m=cc.coordinateSystem;var XY=m.getBaseAxis();var e=!!XY.isHorizontal();var WH=m.grid.getRect();var PI={ecSize:{width:Z2.getWidth(),height:Z2.getHeight()},seriesModel:cc,coordSys:m,coordSysExtent:[[WH.x,WH.x+WH.width],[WH.y,WH.y+WH.height]],isHorizontal:e,valueDim:EA[+e],categoryDim:EA[1-e]};i.diff(k).add(function(g1){if(!i.hasValue(g1)){return}var g2=f5(i,g1);var g4=S4(i,g1,g2,PI);var g3=Pm(i,PI,g4);i.setItemGraphicEl(g1,g3);v.add(g3);DR(g3,PI,g4)}).update(function(g5,g2){var g3=k.getItemGraphicEl(g2);if(!i.hasValue(g5)){v.remove(g3);return}var g1=f5(i,g5);var g4=S4(i,g5,g1,PI);var g6=WM(i,g4);if(g3&&g6!==g3.__pictorialShapeStr){v.remove(g3);i.setItemGraphicEl(g5,null);g3=null}if(g3){ZY(g3,PI,g4)}else{g3=Pm(i,PI,g4,true)}i.setItemGraphicEl(g5,g3);g3.__pictorialSymbolMeta=g4;v.add(g3);DR(g3,PI,g4)}).remove(function(g1){var g2=k.getItemGraphicEl(g1);g2&&Xw(k,g1,g2.__pictorialSymbolMeta.animationModel,g2)}).execute();this._data=i;return this.group},dispose:gw,remove:function(e,i){var Z=this.group;var k=this._data;if(e.get("animation")){if(k){k.eachItemGraphicEl(function(m){Xw(k,m.dataIndex,e,m)})}}else{Z.removeAll()}}});function S4(m,Z2,e,k){var XY=m.getItemLayout(Z2);var cc=e.get("symbolRepeat");var g3=e.get("symbolClip");var WH=e.get("symbolPosition")||"start";var g1=e.get("symbolRotate");var g2=(g1||0)*Math.PI/180||0;var i=e.get("symbolPatternSize")||2;var g4=e.isAnimationEnabled();var Z={dataIndex:Z2,layout:XY,itemModel:e,symbolType:m.getItemVisual(Z2,"symbol")||"circle",color:m.getItemVisual(Z2,"color"),symbolClip:g3,symbolRepeat:cc,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:i,rotation:g2,animationModel:g4?e:null,hoverAnimation:g4&&e.get("hoverAnimation"),z2:e.getShallow("z",true)||0};GJ(e,cc,XY,k,Z);TP(m,Z2,XY,cc,g3,Z.boundingLength,Z.pxSign,i,k,Z);ON(e,Z.symbolScale,g2,k,Z);var v=Z.symbolSize;var PI=e.get("symbolOffset");if(cW(PI)){PI=[Pw(PI[0],v[0]),Pw(PI[1],v[1])]}VI(e,v,XY,cc,g3,PI,WH,Z.valueLineWidth,Z.boundingLength,Z.repeatCutLength,k,Z);return Z}function GJ(e,g1,PI,i,k){var v=i.valueDim;var WH=e.get("symbolBoundingData");var Z=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis());var m=Z.toGlobalCoord(Z.dataToCoord(0));var XY=1-+(PI[v.wh]<=0);var Z2;if(cW(WH)){var cc=[ci(Z,WH[0])-m,ci(Z,WH[1])-m];cc[1]<cc[0]&&(cc.reverse());Z2=cc[XY]}else{if(WH!=null){Z2=ci(Z,WH)-m}else{if(g1){Z2=i.coordSysExtent[v.index][XY]-m}else{Z2=PI[v.wh]}}}k.boundingLength=Z2;if(g1){k.repeatCutLength=PI[v.wh]}k.pxSign=Z2>0?1:Z2<0?-1:0}function ci(e,Z){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(Z)))}function TP(v,Z2,XY,g2,g3,cc,WH,k,m,PI){var e=m.valueDim;var i=m.categoryDim;var g4=Math.abs(XY[i.wh]);var Z=v.getItemVisual(Z2,"symbolSize");if(cW(Z)){Z=Z.slice()}else{if(Z==null){Z="100%"}Z=[Z,Z]}Z[i.index]=Pw(Z[i.index],g4);Z[e.index]=Pw(Z[e.index],g2?g4:Math.abs(cc));PI.symbolSize=Z;var g1=PI.symbolScale=[Z[0]/k,Z[1]/k];g1[e.index]*=(m.isHorizontal?-1:1)*WH}function ON(e,i,Z,m,v){var k=e.get(TB)||0;if(k){Ty.attr({scale:i.slice(),rotation:Z});Ty.updateTransform();k/=Ty.getLineScale();k*=i[m.valueDim.index]}v.valueLineWidth=k}function VI(hi,k,g1,i,e,cc,g9,hd,PI,hf,XY,g5){var g3=XY.categoryDim;var g2=XY.valueDim;var Z2=g5.pxSign;var hh=Math.max(k[g2.index]+hd,0);var g6=hh;if(i){var g4=Math.abs(PI);var WH=ER(hi.get("symbolMargin"),"15%")+"";var v=false;if(WH.lastIndexOf("!")===WH.length-1){v=true;WH=WH.slice(0,WH.length-1)}WH=Pw(WH,k[g2.index]);var hc=Math.max(hh+WH*2,0);var Z=v?0:WH*2;var ha=QN(i);var hg=ha?i:VS((g4+Z)/hc);var m=g4-hg*hh;WH=m/2/(v?hg:hg-1);hc=hh+WH*2;Z=v?0:WH*2;if(!ha&&i!=="fixed"){hg=hf?VS((Math.abs(hf)+Z)/hc):0}g6=hg*hc-Z;g5.repeatTimes=hg;g5.symbolMargin=WH}var he=Z2*(g6/2);var hb=g5.pathPosition=[];hb[g3.index]=g1[g3.wh]/2;hb[g2.index]=g9==="start"?he:g9==="end"?PI-he:PI/2;if(cc){hb[0]+=cc[0];hb[1]+=cc[1]}var hj=g5.bundlePosition=[];hj[g3.index]=g1[g3.xy];hj[g2.index]=g1[g2.xy];var g7=g5.barRectShape=XN({},g1);g7[g2.wh]=Z2*Math.max(Math.abs(g1[g2.wh]),Math.abs(hb[g2.index]+he));g7[g3.wh]=g1[g3.wh];var g8=g5.clipShape={};g8[g3.xy]=-g1[g3.xy];g8[g3.wh]=XY.ecSize[g3.wh];g8[g2.xy]=0;g8[g2.wh]=g1[g2.wh]}function gB(e){var Z=e.symbolPatternSize;var i=FK(e.symbolType,-Z/2,-Z/2,Z,Z,e.color);i.attr({culling:true});i.type!=="image"&&i.setStyle({strokeNoScale:true});return i}function ab(i,PI,g1,e){var g6=i.__pictorialBundle;var k=g1.symbolSize;var g3=g1.valueLineWidth;var XY=g1.pathPosition;var WH=PI.valueDim;var g5=g1.repeatTimes||0;var m=0;var g2=k[PI.valueDim.index]+g3+g1.symbolMargin*2;IC(i,function(g7){g7.__pictorialAnimationIndex=m;g7.__pictorialRepeatTimes=g5;if(m<g5){KW(g7,null,cc(m),g1,e)}else{KW(g7,null,{scale:[0,0]},g1,e,function(){g6.remove(g7)})}bo(g7,g1);m++});for(;m<g5;m++){var Z2=gB(g1);Z2.__pictorialAnimationIndex=m;Z2.__pictorialRepeatTimes=g5;g6.add(Z2);var g4=cc(m);KW(Z2,{position:g4.position,scale:[0,0]},{scale:g4.scale,rotation:g4.rotation},g1,e);Z2.on("mouseover",v).on("mouseout",Z);bo(Z2,g1)}function cc(ha){var g9=XY.slice();var g8=g1.pxSign;var g7=ha;if(g1.symbolRepeatDirection==="start"?g8>0:g8<0){g7=g5-1-ha}g9[WH.index]=g2*(g7-g5/2+0.5)+XY[WH.index];return{position:g9,scale:g1.symbolScale.slice(),rotation:g1.rotation}}function v(){IC(i,function(g7){g7.trigger("emphasis")})}function Z(){IC(i,function(g7){g7.trigger("normal")})}}function f(v,k,Z,PI){var i=v.__pictorialBundle;var e=v.__pictorialMainPath;if(!e){e=v.__pictorialMainPath=gB(Z);i.add(e);KW(e,{position:Z.pathPosition.slice(),scale:[0,0],rotation:Z.rotation},{scale:Z.symbolScale.slice()},Z,PI);e.on("mouseover",m).on("mouseout",WH)}else{KW(e,null,{position:Z.pathPosition.slice(),scale:Z.symbolScale.slice(),rotation:Z.rotation},Z,PI)}bo(e,Z);function m(){this.trigger("emphasis")}function WH(){this.trigger("normal")}}function HO(i,k,m){var Z=XN({},k.barRectShape);var e=i.__pictorialBarRect;if(!e){e=i.__pictorialBarRect=new Fm({z2:2,shape:Z,silent:true,style:{stroke:"transparent",fill:"transparent",lineWidth:0}});i.add(e)}else{KW(e,null,{shape:Z},k,m)}}function Te(v,e,Z,Z2){if(Z.symbolClip){var XY=v.__pictorialClipPath;var k=XN({},Z.clipShape);var m=e.valueDim;var i=Z.animationModel;var PI=Z.dataIndex;if(XY){Qr(XY,{shape:k},i,PI)}else{k[m.wh]=0;XY=new Fm({shape:k});v.__pictorialBundle.setClipPath(XY);v.__pictorialClipPath=XY;var WH={};WH[m.wh]=Z.clipShape[m.wh];S8[Z2?"updateProps":"initProps"](XY,{shape:WH},i,PI)}}}function f5(i,Z){var e=i.getItemModel(Z);e.getAnimationDelayParams=T8;e.isAnimationEnabled=eZ;return e}function T8(Z){return{index:Z.__pictorialAnimationIndex,count:Z.__pictorialRepeatTimes}}function eZ(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function bo(i,Z){i.off("emphasis").off("normal");var e=Z.symbolScale.slice();Z.hoverAnimation&&i.on("emphasis",function(){this.animateTo({scale:[e[0]*1.1,e[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:e.slice()},400,"elasticOut")})}function Pm(v,e,k,m){var i=new U3();var Z=new U3();i.add(Z);i.__pictorialBundle=Z;Z.attr("position",k.bundlePosition.slice());if(k.symbolRepeat){ab(i,e,k)}else{f(i,e,k)}HO(i,k,m);Te(i,e,k,m);i.__pictorialShapeStr=WM(v,k);i.__pictorialSymbolMeta=k;return i}function ZY(i,e,k){var m=k.animationModel;var Z=k.dataIndex;var v=i.__pictorialBundle;Qr(v,{position:k.bundlePosition.slice()},m,Z);if(k.symbolRepeat){ab(i,e,k,true)}else{f(i,e,k,true)}HO(i,k,true);Te(i,e,k,true)}function Xw(v,Z,m,k){var i=k.__pictorialBarRect;i&&(i.style.text=null);var e=[];IC(k,function(PI){e.push(PI)});k.__pictorialMainPath&&e.push(k.__pictorialMainPath);k.__pictorialClipPath&&(m=null);Dy(e,function(PI){Qr(PI,{scale:[0,0]},m,Z,function(){k.parent&&k.parent.remove(k)})});v.setItemGraphicEl(Z,null)}function WM(e,Z){return[e.getItemVisual(Z.dataIndex,"symbol")||"none",!!Z.symbolRepeat,!!Z.symbolClip].join(":")}function IC(i,Z,e){Dy(i.__pictorialBundle.children(),function(k){k!==i.__pictorialBarRect&&Z.call(e,k)})}function KW(Z,m,i,k,v,e){m&&Z.attr(m);if(k.symbolClip&&!v){i&&Z.attr(i)}else{i&&S8[v?"updateProps":"initProps"](Z,i,k.animationModel,k.dataIndex,e)}}function DR(Z2,k,Z){var m=Z.color;var cc=Z.dataIndex;var e=Z.itemModel;var XY=e.getModel("itemStyle").getItemStyle(["color"]);var g1=e.getModel("emphasis.itemStyle").getItemStyle();var i=e.getShallow("cursor");IC(Z2,function(g2){g2.setColor(m);g2.setStyle(IK({fill:m,opacity:Z.opacity},XY));N7(g2,g1);i&&(g2.cursor=i);g2.z2=Z.z2});var v={};var PI=k.valueDim.posDesc[+(Z.boundingLength>0)];var WH=Z2.__pictorialBarRect;cT(WH.style,v,e,m,k.seriesModel,cc,PI);N7(WH,v)}function VS(Z){var e=Math.round(Z);return Math.abs(Z-e)<0.0001?e:Math.ceil(Z)}gH(c3(I6,"pictorialBar"));Ao(RB("pictorialBar","roundRect"));var Z7=function(i,k,e,m,Z){Vs.call(this,i,k,e);this.type=m||"value";this.position=Z||"bottom";this.orient=null;this._labelInterval=null};Z7.prototype={constructor:Z7,model:null,isHorizontal:function(){var Z=this.position;return Z==="top"||Z==="bottom"},pointToData:function(Z,e){return this.coordinateSystem.pointToData(Z,e)[0]},toGlobalCoord:null,toLocalCoord:null};K8(Z7,Vs);function Hk(e,Z,i){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(e,Z,i);this.model=e}Hk.prototype={type:"singleAxis",axisPointerEnabled:true,constructor:Hk,_init:function(i,e,m){var k=this.dimension;var v=new Z7(k,Zo(i),[0,0],i.get("type"),i.get("position"));var Z=v.type==="category";v.onBand=Z&&i.get("boundaryGap");v.inverse=i.get("inverse");v.orient=i.get("orient");i.axis=v;v.model=i;v.coordinateSystem=this;this._axis=v},update:function(Z,e){Z.eachSeries(function(i){if(i.coordinateSystem===this){var k=i.getData();Dy(k.mapDimension(this.dimension,true),function(m){this._axis.scale.unionExtentFromData(k,m)},this);WA(this._axis.scale,this._axis.model)}},this)},resize:function(Z,e){this._rect=CU({left:Z.get("left"),top:Z.get("top"),right:Z.get("right"),bottom:Z.get("bottom"),width:Z.get("width"),height:Z.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect;var m=this._axis;var Z=m.isHorizontal();var i=Z?[0,e.width]:[0,e.height];var k=m.reverse?1:0;m.setExtent(i[k],i[1-k]);this._updateAxisTransform(m,Z?e.x:e.y)},_updateAxisTransform:function(m,i){var Z=m.getExtent();var e=Z[0]+Z[1];var k=m.isHorizontal();m.toGlobalCoord=k?function(v){return v+i}:function(v){return e-v+i};m.toLocalCoord=k?function(v){return v-i}:function(v){return e-v+i}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(Z){var e=this.getRect();var k=this.getAxis();var i=k.orient;if(i==="horizontal"){return k.contain(k.toLocalCoord(Z[0]))&&(Z[1]>=e.y&&Z[1]<=(e.y+e.height))}else{return k.contain(k.toLocalCoord(Z[1]))&&(Z[0]>=e.y&&Z[0]<=(e.y+e.height))}},pointToData:function(Z){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(Z[e.orient==="horizontal"?0:1]))]},dataToPoint:function(k){var m=this.getAxis();var e=this.getRect();var Z=[];var i=m.orient==="horizontal"?0:1;if(k instanceof Array){k=k[0]}Z[i]=m.toGlobalCoord(m.dataToCoord(+k));Z[1-i]=i===0?(e.y+e.height/2):(e.x+e.width/2);return Z}};function PS(Z,i){var e=[];Z.eachComponent("singleAxis",function(k,v){var m=new Hk(k,Z,i);m.name="single_"+v;m.resize(k,i);k.coordinateSystem=m;e.push(m)});Z.eachSeries(function(k){if(k.get("coordinateSystem")==="singleAxis"){var m=Z.queryComponents({mainType:"singleAxis",index:k.get("singleAxisIndex"),id:k.get("singleAxisId")})[0];k.coordinateSystem=m&&m.coordinateSystem}});return e}Rn.register("single",{create:PS,dimensions:Hk.prototype.dimensions});function Jr(v,m){m=m||{};var g2=v.coordinateSystem;var i=v.axis;var XY={};var Z=i.position;var Z2=i.orient;var PI=g2.getRect();var cc=[PI.x,PI.x+PI.width,PI.y,PI.y+PI.height];var e={horizontal:{top:cc[2],bottom:cc[3]},vertical:{left:cc[0],right:cc[1]}};XY.position=[Z2==="vertical"?e.vertical[Z]:cc[0],Z2==="horizontal"?e.horizontal[Z]:cc[3]];var k={horizontal:0,vertical:1};XY.rotation=Math.PI/2*k[Z2];var WH={top:-1,bottom:1,right:1,left:-1};XY.labelDirection=XY.tickDirection=XY.nameDirection=WH[Z];if(v.get("axisTick.inside")){XY.tickDirection=-XY.tickDirection}if(ER(m.labelInside,v.get("axisLabel.inside"))){XY.labelDirection=-XY.labelDirection}var g1=m.rotate;g1==null&&(g1=v.get("axisLabel.rotate"));XY.labelRotation=Z==="top"?-g1:g1;XY.labelInterval=i.getLabelInterval();XY.z2=1;return XY}var SL=YS.getInterval;var T5=YS.ifIgnoreOnTick;var Ci=["axisLine","axisTickLabel","axisName"];var eP="splitLine";var I=O7.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(i,e,v,k){var Z=this.group;Z.removeAll();var m=Jr(i);var PI=new YS(i,m);Dy(Ci,PI.add,PI);Z.add(PI.getGroup());if(i.get(eP+".show")){this["_"+eP](i,m.labelInterval)}I.superCall(this,"render",i,e,v,k)},_splitLine:function(Z2,g8){var g9=Z2.axis;if(g9.scale.isBlank()){return}var g4=Z2.getModel("splitLine");var g7=g4.getModel("lineStyle");var g6=g7.get("width");var cc=g7.get("color");var g1=SL(g4,g8);cc=cc instanceof Array?cc:[cc];var XY=Z2.coordinateSystem.getRect();var g2=g9.isHorizontal();var m=[];var g3=0;var e=g9.getTicksCoords();var ha=[];var k=[];var WH=Z2.get("axisLabel.showMinLabel");var PI=Z2.get("axisLabel.showMaxLabel");for(var v=0;v<e.length;++v){if(T5(g9,v,g1,e.length,WH,PI)){continue}var Z=g9.toGlobalCoord(e[v]);if(g2){ha[0]=Z;ha[1]=XY.y;k[0]=Z;k[1]=XY.y+XY.height}else{ha[0]=XY.x;ha[1]=Z;k[0]=XY.x+XY.width;k[1]=Z}var g5=(g3++)%cc.length;m[g5]=m[g5]||[];m[g5].push(new Ut(KZ({shape:{x1:ha[0],y1:ha[1],x2:k[0],y2:k[1]},style:{lineWidth:g6},silent:true})))}for(var v=0;v<m.length;++v){this.group.add(HX(m[v],{style:{stroke:cc[v%cc.length],lineDash:g7.getLineDash(g6),lineWidth:g6},silent:true}))}}});var A=Dt.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});var VB={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:true,lineStyle:{width:2,type:"solid"}},tooltip:{show:true},axisTick:{show:true,length:6,lineStyle:{width:2}},axisLabel:{show:true,interval:"auto"},splitLine:{show:true,lineStyle:{type:"dashed",opacity:0.2}}};function fh(e,Z){return Z.type||(Z.data?"category":"value")}LB(A.prototype,Mm);P9("single",A,fh,VB);var Rp=function(Z,e){var XY=[];var v=Z.seriesIndex;var Z2;if(v==null||!(Z2=e.getSeriesByIndex(v))){return{point:[]}}var m=Z2.getData();var WH=Ly(m,Z);if(WH==null||WH<0||cW(WH)){return{point:[]}}var PI=m.getItemGraphicEl(WH);var i=Z2.coordinateSystem;if(Z2.getTooltipPosition){XY=Z2.getTooltipPosition(WH)||[]}else{if(i&&i.dataToPoint){XY=i.dataToPoint(m.getValues(QL(i.dimensions,function(cc){return m.mapDimension(cc)}),WH,true))||[]}else{if(PI){var k=PI.getBoundingRect().clone();k.applyTransform(PI.transform);XY=[k.x+k.width/2,k.y+k.height/2]}}}return{point:XY,el:PI}};var b6=Dy;var UA=c3;var Zs=Uw();var Cu=function(g5,k,XY){var WH=g5.currTrigger;var e=[g5.x,g5.y];var Z=g5;var m=g5.dispatchAction||ei(XY.dispatchAction,XY);var v=k.getComponent("axisPointer").coordSysAxesInfo;if(!v){return}if(aS(e)){e=Rp({seriesIndex:Z.seriesIndex,dataIndex:Z.dataIndex},k).point}var g6=aS(e);var PI=Z.axesInfo;var g2=v.axesInfo;var Z2=WH==="leave"||aS(e);var cc={};var g4={};var i={list:[],map:{}};var g1={showPointer:UA(LI,g4),showTooltip:UA(bx,i)};b6(v.coordSysMap,function(g7,g9){var g8=g6||g7.containPoint(e);b6(v.coordSysAxesInfo[g9],function(hb,ha){var he=hb.axis;var hc=V3(PI,hb);if(!Z2&&g8&&(!PI||hc)){var hd=hc&&hc.value;if(hd==null&&!g6){hd=he.pointToData(e)}hd!=null&&SP(hb,hd,g1,false,cc)}})});var g3={};b6(g2,function(g8,g7){var g9=g8.linkGroup;if(g9&&!g4[g7]){b6(g9.axesInfo,function(hd,hb){var ha=g4[hb];if(hd!==g8&&ha){var hc=ha.value;g9.mapper&&(hc=g8.axis.scale.parse(g9.mapper(hc,bM(hd),bM(g8))));g3[g8.key]=hc}})}});b6(g3,function(g8,g7){SP(g2[g7],g8,g1,true,cc)});KE(g4,g2,cc);n(i,e,g5,m);B1(g2,m,XY);return cc};function SP(WH,i,e,XY,PI){var Z=WH.axis;if(Z.scale.isBlank()||!Z.containData(i)){return}if(!WH.involveSeries){e.showPointer(WH,i);return}var v=R8(i,WH);var k=v.payloadBatch;var m=v.snapToValue;if(k[0]&&PI.seriesIndex==null){XN(PI,k[0])}if(!XY&&WH.snap){if(Z.containData(m)&&m!=null){i=m}}e.showPointer(WH,i,k,PI);e.showTooltip(WH,v,m)}function R8(k,PI){var Z=PI.axis;var v=Z.dim;var i=k;var e=[];var m=Number.MAX_VALUE;var WH=-1;b6(PI.seriesModels,function(g4,Z2){var g5=g4.getData().mapDimension(v,true);var cc;var g3;if(g4.getAxisTooltipData){var XY=g4.getAxisTooltipData(g5,k,Z);g3=XY.dataIndices;cc=XY.nestestValue}else{g3=g4.getData().indicesOfNearest(g5[0],k,Z.type==="category"?0.5:null);if(!g3.length){return}cc=g4.getData().get(g5[0],g3[0])}if(cc==null||!isFinite(cc)){return}var g1=k-cc;var g2=Math.abs(g1);if(g2<=m){if(g2<m||(g1>=0&&WH<0)){m=g2;WH=g1;i=cc;e.length=0}b6(g3,function(g6){e.push({seriesIndex:g4.seriesIndex,dataIndexInside:g6,dataIndex:g4.getData().getRawIndex(g6)})})}});return{payloadBatch:e,snapToValue:i}}function LI(k,Z,i,e){k[Z.key]={value:i,payloadBatch:e}}function bx(i,cc,m,v){var k=m.payloadBatch;var Z=cc.axis;var XY=Z.model;var e=cc.axisPointerModel;if(!cc.triggerTooltip||!k.length){return}var WH=cc.coordSys.model;var Z2=Ha(WH);var PI=i.map[Z2];if(!PI){PI=i.map[Z2]={coordSysId:WH.id,coordSysIndex:WH.componentIndex,coordSysType:WH.type,coordSysMainType:WH.mainType,dataByAxis:[]};i.list.push(PI)}PI.dataByAxis.push({axisDim:Z.dim,axisIndex:XY.componentIndex,axisType:XY.type,axisId:XY.id,value:v,valueLabelOpt:{precision:e.get("label.precision"),formatter:e.get("label.formatter")},seriesDataIndices:k.slice()})}function KE(i,Z,k){var e=k.axesInfo=[];b6(Z,function(v,m){var PI=v.axisPointerModel.option;var WH=i[m];if(WH){!v.useHandle&&(PI.status="show");PI.value=WH.value;PI.seriesDataIndices=(WH.payloadBatch||[]).slice()}else{!v.useHandle&&(PI.status="hide")}PI.status==="show"&&e.push({axisDim:v.axis.dim,axisIndex:v.axis.model.componentIndex,value:PI.value})})}function n(i,e,k,m){if(aS(e)||!i.list.length){m({type:"hideTip"});return}var Z=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};m({type:"showTip",escapeConnect:true,x:e[0],y:e[1],tooltipOption:k.tooltipOption,position:k.position,dataIndexInside:Z.dataIndexInside,dataIndex:Z.dataIndex,seriesIndex:Z.seriesIndex,dataByCoordSys:i.list})}function B1(m,Z,XY){var PI=XY.getZr();var v="axisPointerLastHighlights";var k=Zs(PI)[v]||{};var i=Zs(PI)[v]={};b6(m,function(cc,Z2){var g1=cc.axisPointerModel.option;g1.status==="show"&&b6(g1.seriesDataIndices,function(g3){var g2=g3.seriesIndex+" | "+g3.dataIndex;i[g2]=g3})});var e=[];var WH=[];Dy(k,function(cc,Z2){!i[Z2]&&WH.push(cc)});Dy(i,function(cc,Z2){!k[Z2]&&e.push(cc)});WH.length&&XY.dispatchAction({type:"downplay",escapeConnect:true,batch:WH});e.length&&XY.dispatchAction({type:"highlight",escapeConnect:true,batch:e})}function V3(Z,k){for(var e=0;e<(Z||[]).length;e++){var m=Z[e];if(k.axis.dim===m.axisDim&&k.axis.model.componentIndex===m.axisIndex){return m}}}function bM(Z){var e=Z.axis.model;var i={};var k=i.axisDim=Z.axis.dim;i.axisIndex=i[k+"AxisIndex"]=e.componentIndex;i.axisName=i[k+"AxisName"]=e.name;i.axisId=i[k+"AxisId"]=e.id;return i}function aS(Z){return !Z||Z[0]==null||isNaN(Z[0])||Z[1]==null||isNaN(Z[1])}var Qy=Hl({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:false,triggerTooltip:true,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:true,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:false,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var Iu=Uw();var b7=Dy;function Yw(Z,m,i){if(QH.node){return}var e=m.getZr();Iu(e).records||(Iu(e).records={});Eq(e,m);var k=Iu(e).records[Z]||(Iu(e).records[Z]={});k.handler=i}function Eq(Z,e){if(Iu(Z).initialized){return}Iu(Z).initialized=true;i("click",c3(IS,"click"));i("mousemove",c3(IS,"mousemove"));i("globalout",Nk);function i(m,k){Z.on(m,function(PI){var v=Rl(e);b7(Iu(Z).records,function(WH){WH&&k(WH,PI,v.dispatchAction)});D9(v.pendings,e)})}}function D9(k,m){var i=k.showTip.length;var Z=k.hideTip.length;var e;if(i){e=k.showTip[i-1]}else{if(Z){e=k.hideTip[Z-1]}}if(e){e.dispatchAction=null;m.dispatchAction(e)}}function Nk(i,Z,k){i.handler("leave",null,k)}function IS(m,i,Z,k){i.handler(m,Z,k)}function Rl(i){var Z={showTip:[],hideTip:[]};var e=function(m){var k=Z[m.type];if(k){k.push(m)}else{m.dispatchAction=e;i.dispatchAction(m)}};return{dispatchAction:e,pendings:Z}}function GE(Z,k){if(QH.node){return}var e=k.getZr();var i=(Iu(e).records||{})[Z];if(i){Iu(e).records[Z]=null}}var Se=ec({type:"axisPointer",render:function(Z,i,m){var k=i.getComponent("tooltip");var e=Z.get("triggerOn")||(k&&k.get("triggerOn")||"mousemove|click");Yw("axisPointer",m,function(WH,v,PI){if(e!=="none"&&(WH==="leave"||e.indexOf(WH)>=0)){PI({type:"updateAxisPointer",currTrigger:WH,x:v&&v.offsetX,y:v&&v.offsetY})}})},remove:function(Z,e){GE(e.getZr(),"axisPointer");Se.superApply(this._model,"remove",arguments)},dispose:function(Z,e){GE("axisPointer",e);Se.superApply(this._model,"dispose",arguments)}});var It=Uw();var ZJ=fJ;var Mk=ei;function LK(){}LK.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:false,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(i,e,Z2,cc){var m=e.get("value");var XY=e.get("status");this._axisModel=i;this._axisPointerModel=e;this._api=Z2;if(!cc&&this._lastValue===m&&this._lastStatus===XY){return}this._lastValue=m;this._lastStatus=XY;var v=this._group;var k=this._handle;if(!XY||XY==="hide"){v&&v.hide();k&&k.hide();return}v&&v.show();k&&k.show();var WH={};this.makeElOption(WH,m,i,e,Z2);var PI=WH.graphicKey;if(PI!==this._lastGraphicKey){this.clear(Z2)}this._lastGraphicKey=PI;var Z=this._moveAnimation=this.determineAnimation(i,e);if(!v){v=this._group=new U3();this.createPointerEl(v,WH,i,e);this.createLabelEl(v,WH,i,e);Z2.getZr().add(v)}else{var g1=c3(G2,e,Z);this.updatePointerEl(v,WH,g1,e);this.updateLabelEl(v,WH,g1,e)}HC(v,e,true);this._renderHandle(m)},remove:function(Z){this.clear(Z)},dispose:function(Z){this.clear(Z)},determineAnimation:function(m,k){var XY=k.get("animation");var i=m.axis;var e=i.type==="category";var v=k.get("snap");if(!v&&!e){return false}if(XY==="auto"||XY==null){var WH=this.animationThreshold;if(e&&i.getBandWidth()>WH){return true}if(v){var Z=Bd(m).seriesDataCount;var PI=i.getExtent();return Math.abs(PI[0]-PI[1])/Z>WH}return false}return XY===true},makeElOption:function(Z,k,e,i,m){},createPointerEl:function(e,Z,k,m){var i=Z.pointer;if(i){var v=It(e).pointerEl=new S8[i.type](ZJ(Z.pointer));e.add(v)}},createLabelEl:function(e,Z,i,k){if(Z.label){var m=It(e).labelEl=new Fm(ZJ(Z.label));e.add(m);DU(m,k)}},updatePointerEl:function(e,Z,i){var k=It(e).pointerEl;if(k){k.setStyle(Z.pointer.style);i(k,{shape:Z.pointer.shape})}},updateLabelEl:function(e,Z,k,m){var i=It(e).labelEl;if(i){i.setStyle(Z.label.style);k(i,{shape:Z.label.shape,position:Z.label.position});DU(i,m)}},_renderHandle:function(m){if(this._dragging||!this.updateHandleTransform){return}var e=this._axisPointerModel;var PI=this._api.getZr();var k=this._handle;var Z=e.getModel("handle");var WH=e.get("status");if(!Z.get("show")||!WH||WH==="hide"){k&&PI.remove(k);this._handle=null;return}var i;if(!this._handle){i=true;k=this._handle=DK(Z.get("icon"),{cursor:"move",draggable:true,onmousemove:function(Z2){GL(Z2.event)},onmousedown:Mk(this._onHandleDragMove,this,0,0),drift:Mk(this._onHandleDragMove,this),ondragend:Mk(this._onHandleDragEnd,this)});PI.add(k)}HC(k,e,false);var XY=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];k.setStyle(Z.getItemStyle(null,XY));var v=Z.get("size");if(!cW(v)){v=[v,v]}k.attr("scale",[v[0]/2,v[1]/2]);YN(this,"_doDispatchAxisPointer",Z.get("throttle")||0,"fixRate");this._moveHandleToValue(m,i)},_moveHandleToValue:function(Z,e){G2(this._axisPointerModel,!e&&this._moveAnimation,this._handle,MN(this.getHandleTransform(Z,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,k){var Z=this._handle;if(!Z){return}this._dragging=true;var i=this.updateHandleTransform(MN(Z),[e,k],this._axisModel,this._axisPointerModel);this._payloadInfo=i;Z.stopAnimation();Z.attr(MN(i));It(Z).lastProp=null;this._doDispatchAxisPointer()},_doDispatchAxisPointer:function(){var Z=this._handle;if(!Z){return}var i=this._payloadInfo;var e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:i.cursorPoint[0],y:i.cursorPoint[1],tooltipOption:i.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})},_onHandleDragEnd:function(Z){this._dragging=false;var e=this._handle;if(!e){return}var i=this._axisPointerModel.get("value");this._moveHandleToValue(i);this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(k){this._lastValue=null;this._lastStatus=null;var e=k.getZr();var i=this._group;var Z=this._handle;if(e&&i){this._lastGraphicKey=null;i&&e.remove(i);Z&&e.remove(Z);this._group=null;this._handle=null;this._payloadInfo=null}},doClear:function(){},buildLabel:function(Z,i,e){e=e||0;return{x:Z[e],y:Z[1-e],width:i[e],height:i[1-e]}}};LK.prototype.constructor=LK;function G2(k,Z,e,i){if(!U(It(e).lastProp,i)){It(e).lastProp=i;Z?Qr(e,i,k):(e.stopAnimation(),e.attr(i))}}function U(Z,e){if(EJ(Z)&&EJ(e)){var i=true;Dy(e,function(m,k){i=i&&U(Z[k],m)});return !!i}else{return Z===e}}function DU(Z,e){Z[e.get("label.show")?"show":"hide"]()}function MN(Z){return{position:Z.position.slice(),rotation:Z.rotation||0}}function HC(Z,i,m){var e=i.get("z");var k=i.get("zlevel");Z&&Z.traverse(function(v){if(v.type!=="group"){e!=null&&(v.z=e);k!=null&&(v.zlevel=k);v.silent=m}})}AZ(LK);function gG(e){var Z=e.get("type");var i=e.getModel(Z+"Style");var k;if(Z==="line"){k=i.getLineStyle();k.fill=null}else{if(Z==="shadow"){k=i.getAreaStyle();k.stroke=null}}return k}function cP(m,XY,g3,WH,i){var g4=g3.get("value");var Z=JE(g4,XY.axis,XY.ecModel,g3.get("seriesDataIndices"),{precision:g3.get("label.precision"),formatter:g3.get("label.formatter")});var e=g3.getModel("label");var cc=R7(e.get("padding")||0);var v=e.getFont();var g6=HY(Z,v);var g2=i.position;var Z2=g6.width+cc[1]+cc[3];var g5=g6.height+cc[0]+cc[2];var k=i.align;k==="right"&&(g2[0]-=Z2);k==="center"&&(g2[0]-=Z2/2);var g1=i.verticalAlign;g1==="bottom"&&(g2[1]-=g5);g1==="middle"&&(g2[1]-=g5/2);Kd(g2,Z2,g5,WH);var PI=e.get("backgroundColor");if(!PI||PI==="auto"){PI=XY.get("axisLine.lineStyle.color")}m.label={shape:{x:0,y:0,width:Z2,height:g5,r:e.get("borderRadius")},position:g2.slice(),style:{text:Z,textFont:v,textFill:e.getTextColor(),textPosition:"inside",fill:PI,stroke:e.get("borderColor")||"transparent",lineWidth:e.get("borderWidth")||0,shadowBlur:e.get("shadowBlur"),shadowColor:e.get("shadowColor"),shadowOffsetX:e.get("shadowOffsetX"),shadowOffsetY:e.get("shadowOffsetY")},z2:10}}function Kd(k,m,e,v){var i=v.getWidth();var Z=v.getHeight();k[0]=Math.min(k[0]+m,i)-m;k[1]=Math.min(k[1]+e,Z)-e;k[0]=Math.max(k[0],0);k[1]=Math.max(k[1],0)}function JE(i,Z,WH,PI,e){var v=Z.scale.getLabel(i,{precision:e.precision});var k=e.formatter;if(k){var m={value:AX(Z,i),seriesData:[]};Dy(PI,function(cc){var g1=WH.getSeriesByIndex(cc.seriesIndex);var Z2=cc.dataIndexInside;var XY=g1&&g1.getDataParams(Z2);XY&&m.seriesData.push(XY)});if(Ei(k)){v=k.replace("{value}",v)}else{if(Pl(k)){v=k(m)}}}return v}function UL(k,i,Z){var e=HZ();eX(e,e,Z.rotation);Zc(e,e,Z.position);return Bp([k.dataToCoord(i),(Z.labelOffset||0)+(Z.labelDirection||1)*(Z.labelMargin||0)],e)}function AM(m,Z,PI,e,i,v){var k=YS.innerTextLayout(PI.rotation,0,PI.labelDirection);PI.labelMargin=i.get("label.margin");cP(Z,e,i,v,{position:UL(e.axis,m,PI),align:k.textAlign,verticalAlign:k.textVerticalAlign})}function gf(e,i,Z){Z=Z||0;return{x1:e[Z],y1:e[1-Z],x2:i[Z],y2:i[1-Z]}}function AD(Z,i,e){e=e||0;return{x:Z[e],y:Z[1-e],width:i[e],height:i[1-e]}}function Wt(v,Z,m,e,k,i){return{cx:v,cy:Z,r0:m,r:e,startAngle:k,endAngle:i,clockwise:true}}var fb=LK.extend({makeElOption:function(g2,PI,m,k,cc){var i=m.axis;var g1=i.grid;var e=k.get("type");var Z2=ZI(g1,i).getOtherAxis(i).getGlobalExtent();var XY=i.toGlobalCoord(i.dataToCoord(PI,true));if(e&&e!=="none"){var Z=gG(k);var v=Xc[e](i,XY,Z2,Z);v.style=Z;g2.graphicKey=v.type;g2.pointer=v}var WH=Hy(g1.model,m);AM(PI,g2,WH,m,k,cc)},getHandleTransform:function(i,Z,e){var k=Hy(Z.axis.grid.model,Z,{labelInside:false});k.labelMargin=e.get("handle.margin");return{position:UL(Z.axis,i,k),rotation:k.rotation+(k.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(WH,cc,k,i){var e=k.axis;var g1=e.grid;var XY=e.getGlobalExtent(true);var Z2=ZI(g1,e).getOtherAxis(e).getGlobalExtent();var m=e.dim==="x"?0:1;var Z=WH.position;Z[m]+=cc[m];Z[m]=Math.min(XY[1],Z[m]);Z[m]=Math.max(XY[0],Z[m]);var v=(Z2[1]+Z2[0])/2;var g2=[v,v];g2[m]=Z[m];var PI=[{verticalAlign:"middle"},{align:"center"}];return{position:Z,rotation:WH.rotation,cursorPoint:g2,tooltipOption:PI[m]}}});function ZI(i,e){var Z={};Z[e.dim+"AxisIndex"]=e.index;return i.getCartesian(Z)}var Xc={line:function(m,i,e,Z){var k=gf([i,e[0]],[i,e[1]],Kn(m));KZ({shape:k,style:Z});return{type:"Line",shape:k}},shadow:function(v,k,i,e){var m=v.getBandWidth();var Z=i[1]-i[0];return{type:"Rect",shape:AD([k-m/2,i[0]],[m,Z],Kn(v))}}};function Kn(Z){return Z.dim==="x"?0:1}O7.registerAxisPointerClass("CartesianAxisPointer",fb);Jo(function(Z){if(Z){(!Z.axisPointer||Z.axisPointer.length===0)&&(Z.axisPointer={});var e=Z.axisPointer.link;if(e&&!cW(e)){Z.axisPointer.link=[e]}}});dU(eK.PROCESSOR.STATISTIC,function(Z,e){Z.getComponent("axisPointer").coordSysAxesInfo=VK(Z,e)});S9({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Cu);var gz=["x","y"];var HR=["width","height"];var LE=LK.extend({makeElOption:function(g2,PI,m,k,g1){var i=m.axis;var cc=i.coordinateSystem;var Z2=RA(cc,1-cp(i));var XY=cc.dataToPoint(PI)[0];var e=k.get("type");if(e&&e!=="none"){var Z=gG(k);var v=VF[e](i,XY,Z2,Z);v.style=Z;g2.graphicKey=v.type;g2.pointer=v}var WH=Jr(m);AM(PI,g2,WH,m,k,g1)},getHandleTransform:function(i,Z,e){var k=Jr(Z,{labelInside:false});k.labelMargin=e.get("handle.margin");return{position:UL(Z.axis,i,k),rotation:k.rotation+(k.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(v,Z2,k,i){var e=k.axis;var cc=e.coordinateSystem;var XY=cp(e);var WH=RA(cc,XY);var Z=v.position;Z[XY]+=Z2[XY];Z[XY]=Math.min(WH[1],Z[XY]);Z[XY]=Math.max(WH[0],Z[XY]);var PI=RA(cc,1-XY);var m=(PI[1]+PI[0])/2;var g1=[m,m];g1[XY]=Z[XY];return{position:Z,rotation:v.rotation,cursorPoint:g1,tooltipOption:{verticalAlign:"middle"}}}});var VF={line:function(m,i,e,Z){var k=gf([i,e[0]],[i,e[1]],cp(m));KZ({shape:k,style:Z});return{type:"Line",shape:k}},shadow:function(v,k,i,e){var m=v.getBandWidth();var Z=i[1]-i[0];return{type:"Rect",shape:AD([k-m/2,i[0]],[m,Z],cp(v))}}};function cp(Z){return Z.isHorizontal()?0:1}function RA(e,Z){var i=e.getRect();return[i[gz[Z]],i[gz[Z]]+i[HR[Z]]]}O7.registerAxisPointerClass("SingleAxisPointer",LE);ec({type:"single"});var eM=2;var Z0=S7.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(Z){Z0.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(g6){var g1=g6.length;var Z2=e4().key(function(i){return i[2]}).entries(g6);var g3=QL(Z2,function(i){return{name:i.key,dataList:i.values}});var cc=g3.length;var g4=-1;var v=-1;for(var XY=0;XY<cc;++XY){var e=g3[XY].dataList.length;if(e>g4){g4=e;v=XY}}for(var WH=0;WH<cc;++WH){if(WH===v){continue}var g5=g3[WH].name;for(var PI=0;PI<g4;++PI){var m=g3[v].dataList[PI][0];var Z=g3[WH].dataList.length;var g2=-1;for(var g8=0;g8<Z;++g8){var g7=g3[WH].dataList[g8][0];if(g7===m){g2=g8;break}}if(g2===-1){g6[g1]=[];g6[g1][0]=m;g6[g1][1]=0;g6[g1][2]=g5;g1++}}}return g6},getInitialData:function(g1,cc){var PI=cc.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0];var e=PI.get("type");var Z=bs(g1.data,function(i){return i[2]!==undefined});var v=this.fixData(Z||[]);var WH=[];var Z2=this.nameMap=Fj();var m=0;for(var XY=0;XY<v.length;++XY){WH.push(v[XY][eM]);if(!Z2.get(v[XY][eM])){Z2.set(v[XY][eM],m);m++}}var k=F0(v,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Tl(e)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}});var g2=new Mh(k,this);g2.initData(v);return g2},getLayerSeries:function(){var e=this.getData();var WH=e.count();var v=[];for(var m=0;m<WH;++m){v[m]=m}var PI=e4().key(function(i){return e.get("name",i)}).entries(v);var XY=QL(PI,function(i){return{name:i.key,indices:i.values}});var Z2=e.mapDimension("single");for(var k=0;k<XY.length;++k){XY[k].indices.sort(Z)}function Z(cc,i){return e.get(Z2,cc)-e.get(Z2,i)}return XY},getAxisTooltipData:function(WH,v,g3){if(!cW(WH)){WH=WH?[WH]:[]}var m=this.getData();var g5=this.getLayerSeries();var XY=[];var k=g5.length;var g2;for(var cc=0;cc<k;++cc){var Z2=Number.MAX_VALUE;var Z=-1;var g4=g5[cc].indices.length;for(var PI=0;PI<g4;++PI){var e=m.get(WH[0],g5[cc].indices[PI]);var g1=Math.abs(e-v);if(g1<=Z2){g2=e;Z2=g1;Z=g5[cc].indices[PI]}}XY.push(Z)}return{dataIndices:XY,nestestValue:g2}},formatTooltip:function(Z){var k=this.getData();var e=k.getName(Z);var i=k.get(k.mapDimension("value"),Z);if(isNaN(i)||i==null){i="-"}return Qp(e+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,textAlign:"right",show:true,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:true}}}});YB({type:"themeRiver",init:function(){this._layers=[]},render:function(g2,Z,Z2){var k=g2.getData();var PI=this.group;var g1=g2.getLayerSeries();var v=k.getLayout("layoutInfo");var i=v.rect;var XY=v.boundaryGap;PI.attr("position",[0,i.y+XY[0]]);function m(g3){return g3.name}var e=new WG(this._layersSeries||[],g1,m,m);var WH={};e.add(ei(cc,this,"add")).update(ei(cc,this,"update")).remove(ei(cc,this,"remove")).execute();function cc(hi,hn,g8){var ha=this._layers;if(hi==="remove"){PI.remove(ha[hn]);return}var hf=[];var he=[];var g4;var hk=g1[hn].indices;for(var g5=0;g5<hk.length;g5++){var hc=k.getItemLayout(hk[g5]);var hl=hc.x;var g9=hc.y0;var hm=hc.y;hf.push([hl,g9]);he.push([hl,g9+hm]);g4=k.getItemVisual(hk[g5],"color")}var g7;var hd;var hh=k.getItemLayout(hk[0]);var g6=k.getItemModel(hk[g5-1]);var g3=g6.getModel("label");var hb=g3.get("margin");if(hi==="add"){var hj=WH[hn]=new U3();g7=new WP({shape:{points:hf,stackedOnPoints:he,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:false},z2:0});hd=new FW({style:{x:hh.x-hb,y:hh.y0+hh.y/2}});hj.add(g7);hj.add(hd);PI.add(hj);g7.setClipPath(TF(g7.getBoundingRect(),g2,function(){g7.removeClipPath()}))}else{var hj=ha[g8];g7=hj.childAt(0);hd=hj.childAt(1);PI.add(hj);WH[hn]=hj;Qr(g7,{shape:{points:hf,stackedOnPoints:he}},g2);Qr(hd,{style:{x:hh.x-hb,y:hh.y0+hh.y/2}},g2)}var hg=g6.getModel("emphasis.itemStyle");var ho=g6.getModel("itemStyle");DQ(hd.style,g3,{text:g3.get("show")?g2.getFormattedLabel(hk[g5-1],"normal")||k.getName(hk[g5-1]):null,textVerticalAlign:"middle"});g7.setStyle(XN({fill:g4},ho.getItemStyle(["color"])));N7(g7,hg.getItemStyle())}this._layersSeries=g1;this._layers=WH},dispose:function(){}});function TF(i,e,Z){var k=new Fm({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});ef(k,{shape:{width:i.width+20,height:i.height+20}},e,Z);return k}var O4=function(Z,e){Z.eachSeriesByType("themeRiver",function(cc){var v=cc.getData();var Z2=cc.coordinateSystem;var PI={};var m=Z2.getRect();PI.rect=m;var XY=cc.get("boundaryGap");var i=Z2.getAxis();PI.boundaryGap=XY;if(i.orient==="horizontal"){XY[0]=Pw(XY[0],m.height);XY[1]=Pw(XY[1],m.height);var k=m.height-XY[0]-XY[1];Ll(v,cc,k)}else{XY[0]=Pw(XY[0],m.width);XY[1]=Pw(XY[1],m.width);var WH=m.width-XY[0]-XY[1];Ll(v,cc,WH)}v.setLayout("layoutInfo",PI)})};function Ll(PI,XY,v){if(!PI.count()){return}var g5=XY.coordinateSystem;var g6=XY.getLayerSeries();var g7=PI.mapDimension("single");var Z2=PI.mapDimension("value");var k=QL(g6,function(i){return QL(i.indices,function(g8){var m=g5.dataToPoint(PI.get(g7,g8));m[1]=PI.get(Z2,g8);return m})});var g4=Dz(k);var g1=g4.y0;var Z=v/g4.max;var g2=g6.length;var e=g6[0].indices.length;var g3;for(var WH=0;WH<e;++WH){g3=g1[WH]*Z;PI.setItemLayout(g6[0].indices[WH],{layerIndex:0,x:k[0][WH][0],y0:g3,y:k[0][WH][1]*Z});for(var cc=1;cc<g2;++cc){g3+=k[cc-1][WH][1]*Z;PI.setItemLayout(g6[cc].indices[WH],{layerIndex:cc,x:k[cc][WH][0],y0:g3,y:k[cc][WH][1]*Z})}}}function Dz(v){var m=v.length;var g3=v[0].length;var e=[];var PI=[];var g4=0;var Z2;var g1={};for(var cc=0;cc<g3;++cc){for(var g2=0,Z2=0;g2<m;++g2){Z2+=v[g2][cc][1]}if(Z2>g4){g4=Z2}e.push(Z2)}for(var WH=0;WH<g3;++WH){PI[WH]=(g4-e[WH])/2}g4=0;for(var Z=0;Z<g3;++Z){var XY=e[Z]+PI[Z];if(XY>g4){g4=XY}}g1.y0=PI;g1.max=g4;return g1}var JD=function(Z){Z.eachSeriesByType("themeRiver",function(e){var v=e.getData();var m=e.getRawData();var i=e.get("color");var k=Fj();v.each(function(PI){k.set(v.getRawIndex(PI),PI)});m.each(function(PI){var WH=m.getName(PI);var Z2=i[(e.nameMap.get(WH)-1)%i.length];m.setItemVisual(PI,"color",Z2);var XY=k.get(PI);if(XY!=null){v.setItemVisual(XY,"color",Z2)}})})};gH(O4);Ao(JD);dU(EG("themeRiver"));S7.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,k){var i={name:e.name,children:e.data};gJ(i);var Z=e.levels||[];var m={};m.levels=Z;return SH.createTree(i,this,m).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(Z){var i=S7.prototype.getDataParams.apply(this,arguments);var e=this.getData().tree.getNodeByDataIndex(Z);i.treePathInfo=Bi(e,this);return i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:true,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:true,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:false,label:{rotate:"radial",show:true,opacity:1,align:"center",position:"inside",distance:5,silent:true,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:0.9}},animationType:"expansion",animationDuration:1000,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(Z){Z?(this._viewRoot=Z):(Z=this._viewRoot);var e=this.getRawData().tree.root;if(!Z||(Z!==e&&!e.contains(Z))){this._viewRoot=e}}});function gJ(e){var i=0;Dy(e.children,function(k){gJ(k);var m=k.value;cW(m)&&(m=m[0]);i+=m});var Z=e.value;if(cW(Z)){Z=Z[0]}if(Z==null||isNaN(Z)){Z=i}if(Z<0){Z=0}cW(e.value)?(e.value[0]=Z):(e.value=Z)}var LM={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"};var t=2;var NY=4;function cu(k,e,i){U3.call(this);var Z=new LA({z2:t});var m=new FW({z2:NY,silent:k.getModel("label").get("silent")});this.add(Z);this.add(m);this.updateData(true,k,"normal",e,i);function v(){m.ignore=m.hoverIgnore}function PI(){m.ignore=m.normalIgnore}this.on("emphasis",v).on("normal",PI).on("mouseover",v).on("mouseout",PI)}var Yy=cu.prototype;Yy.updateData=function(k,Z2,WH,g4,g2){this.node=Z2;Z2.piece=this;g4=g4||this._seriesModel;g2=g2||this._ecModel;var v=this.childAt(0);v.dataIndex=Z2.dataIndex;var i=Z2.getModel();var XY=Z2.getLayout();var g1=XN({},XY);g1.label=null;var g3=Y0(Z2,g4,g2);var m=i.getModel("itemStyle").getItemStyle();var PI;if(WH==="normal"){PI=m}else{var cc=i.getModel(WH+".itemStyle").getItemStyle();PI=LB(cc,m)}PI=IK({lineJoin:"bevel",fill:PI.fill||g3},PI);if(k){v.setShape(g1);v.shape.r=XY.r0;Qr(v,{shape:{r:XY.r}},g4,Z2.dataIndex);v.useStyle(PI)}else{if(typeof PI.fill==="object"&&PI.fill.type||typeof v.style.fill==="object"&&v.style.fill.type){Qr(v,{shape:g1},g4);v.useStyle(PI)}else{Qr(v,{shape:g1,style:PI},g4)}}this._updateLabel(g4,g3,WH);var Z=i.getShallow("cursor");Z&&v.attr("cursor",Z);if(k){var e=g4.getShallow("highlightPolicy");this._initEvents(v,Z2,g4,e)}this._seriesModel=g4||this._seriesModel;this._ecModel=g2||this._ecModel};Yy.onEmphasis=function(Z){var e=this;this.node.hostTree.root.eachNode(function(i){if(i.piece){if(e.node===i){i.piece.updateData(false,i,"emphasis")}else{if(RL(i,e.node,Z)){i.piece.childAt(0).trigger("highlight")}else{if(Z!==LM.NONE){i.piece.childAt(0).trigger("downplay")}}}}})};Yy.onNormal=function(){this.node.hostTree.root.eachNode(function(Z){if(Z.piece){Z.piece.updateData(false,Z,"normal")}})};Yy.onHighlight=function(){this.updateData(false,this.node,"highlight")};Yy.onDownplay=function(){this.updateData(false,this.node,"downplay")};Yy._updateLabel=function(v,g8,k){var hc=this.node.getModel();var g7=hc.getModel("label");var e=k==="normal"||k==="emphasis"?g7:hc.getModel(k+".label");var g2=hc.getModel("emphasis.label");var g1=ER(v.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);if(i("show")===false){g1=""}var WH=this.node.getLayout();var cc=e.get("minAngle");if(cc==null){cc=g7.get("minAngle")}cc=cc/180*Math.PI;var PI=WH.endAngle-WH.startAngle;if(cc!=null&&Math.abs(PI)<cc){g1=""}var hb=this.childAt(1);HB(hb.style,hb.hoverStyle||{},g7,g2,{defaultText:e.getShallow("show")?g1:null,autoColor:g8,useInsideStyle:true});var hd=(WH.startAngle+WH.endAngle)/2;var m=Math.cos(hd);var ha=Math.sin(hd);var Z;var g5=i("position");var g3=i("distance")||0;var XY=i("align");if(g5==="outside"){Z=WH.r+g3;XY=hd>Math.PI/2?"right":"left"}else{if(!XY||XY==="center"){Z=(WH.r+WH.r0)/2;XY="center"}else{if(XY==="left"){Z=WH.r0+g3;if(hd>Math.PI/2){XY="right"}}else{if(XY==="right"){Z=WH.r-g3;if(hd>Math.PI/2){XY="left"}}}}}hb.attr("style",{text:g1,textAlign:XY,textVerticalAlign:i("verticalAlign")||"middle",opacity:i("opacity")});var g9=Z*m+WH.cx;var g4=Z*ha+WH.cy;hb.attr("position",[g9,g4]);var Z2=i("rotate");var g6=0;if(Z2==="radial"){g6=-hd;if(g6<-Math.PI/2){g6+=Math.PI}}else{if(Z2==="tangential"){g6=Math.PI/2-hd;if(g6>Math.PI/2){g6-=Math.PI}else{if(g6<-Math.PI/2){g6+=Math.PI}}}else{if(typeof Z2==="number"){g6=Z2*Math.PI/180}}}hb.attr("rotation",g6);function i(he){var hf=e.get(he);if(hf==null){return g7.get(he)}else{return hf}}};Yy._initEvents=function(k,v,XY,Z){k.off("mouseover").off("mouseout").off("emphasis").off("normal");var m=this;var WH=function(){m.onEmphasis(Z)};var PI=function(){m.onNormal()};var e=function(){m.onDownplay()};var i=function(){m.onHighlight()};if(XY.isAnimationEnabled()){k.on("mouseover",WH).on("mouseout",PI).on("emphasis",WH).on("normal",PI).on("downplay",e).on("highlight",i)}};K8(cu,U3);function Y0(m,e,k){var i=m.getVisual("color");var Z=m.getVisual("visualMeta");if(!Z||Z.length===0){i=null}var PI=m.getModel("itemStyle").get("color");if(PI){return PI}else{if(i){return i}else{if(m.depth===0){return k.option.color[0]}else{var v=k.option.color.length;PI=k.option.color[c(m)%v]}}}return PI}function c(Z){var e=Z;while(e.depth>1){e=e.parentNode}var i=Z.getAncestors()[0];return FT(i.children,e)}function RL(Z,e,i){if(i===LM.NONE){return false}else{if(i===LM.SELF){return Z===e}else{if(i===LM.ANCESTOR){return Z===e||Z.isAncestorOf(e)}else{return Z===e||Z.isDescendantOf(e)}}}}var LO="sunburstRootToNode";var go=MQ.extend({type:"sunburst",init:function(){},render:function(k,e,m,cc){var g4=this;this.seriesModel=k;this.api=m;this.ecModel=e;var Z=k.getData();var g5=Z.tree.root;var PI=k.getViewRoot();var XY=this.group;var i=k.get("renderLabelForZeroData");var Z2=[];PI.eachNode(function(g8){Z2.push(g8)});var g6=this._oldChildren||[];WH(Z2,g6);g7(g5,PI);if(cc&&cc.highlight&&cc.highlight.piece){var g1=k.getShallow("highlightPolicy");cc.highlight.piece.onEmphasis(g1)}else{if(cc&&cc.unhighlight){var v=g5.piece;if(!v&&g5.children.length){v=g5.children[0].piece}if(v){v.onNormal()}}}this._initEvents();this._oldChildren=Z2;function WH(g9,hb){if(g9.length===0&&hb.length===0){return}new WG(hb,g9,g8,g8).add(ha).update(ha).remove(c3(ha,null)).execute();function g8(hc){return hc.getId()}function ha(hd,hf){var hc=hd==null?null:g9[hd];var he=hf==null?null:hb[hf];g2(hc,he)}}function g2(ha,g8){if(!i&&ha&&!ha.getValue()){ha=null}if(ha!==g5&&g8!==g5){if(g8&&g8.piece){if(ha){g8.piece.updateData(false,ha,"normal",k,e);Z.setItemGraphicEl(ha.dataIndex,g8.piece)}else{g3(g8)}}else{if(ha){var g9=new cu(ha,k,e);XY.add(g9);Z.setItemGraphicEl(ha.dataIndex,g9)}}}}function g3(g8){if(!g8){return}if(g8.piece){XY.remove(g8.piece);g8.piece=null}}function g7(g9,g8){if(g8.depth>0){if(g9.piece){g9.piece.updateData(false,g9,"normal",k,e)}else{g9.piece=new cu(g9,k,e);XY.add(g9.piece)}if(g8.piece._onclickEvent){g8.piece.off("click",g8.piece._onclickEvent)}var ha=function(hb){g4._rootToNode(g8.parentNode)};g8.piece._onclickEvent=ha;g9.piece.on("click",ha)}else{if(g9.piece){XY.remove(g9.piece);g9.piece=null}}}},dispose:function(){},_initEvents:function(){var Z=this;var e=function(k){var i=false;var m=Z.seriesModel.getViewRoot();m.eachNode(function(WH){if(!i&&WH.piece&&WH.piece.childAt(0)===k.target){var Z2=WH.getModel().get("nodeClick");if(Z2==="rootToNode"){Z._rootToNode(WH)}else{if(Z2==="link"){var PI=WH.getModel();var XY=PI.get("link");if(XY){var v=PI.get("target",true)||"_blank";window.open(XY,v)}}}i=true}})};if(this.group._onclickEvent){this.group.off("click",this.group._onclickEvent)}this.group.on("click",e);this.group._onclickEvent=e},_rootToNode:function(Z){if(Z!==this.seriesModel.getViewRoot()){this.api.dispatchAction({type:LO,from:this.uid,seriesId:this.seriesModel.id,targetNode:Z})}},containPoint:function(e,Z){var v=Z.getData();var m=v.getItemLayout(0);if(m){var i=e[0]-m.cx;var k=e[1]-m.cy;var PI=Math.sqrt(i*i+k*k);return PI<=m.r&&PI>=m.r0}}});var St="sunburstRootToNode";S9({type:St,update:"updateView"},function(i,e){e.eachComponent({mainType:"series",subType:"sunburst",query:i},Z);function Z(v,m){var k=YP(i,[St],v);if(k){var PI=v.getViewRoot();if(PI){i.direction=Yg(PI,k.node)?"rollUp":"drillDown"}v.resetViewRoot(k.node)}}});var Ul="sunburstHighlight";S9({type:Ul,update:"updateView"},function(e,Z){Z.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(v,m){var k=YP(e,[Ul],v);if(k){e.highlight=k.node}}});var TD="sunburstUnhighlight";S9({type:TD,update:"updateView"},function(i,e){e.eachComponent({mainType:"series",subType:"sunburst",query:i},Z);function Z(m,k){i.unhighlight=true}});var R0=Math.PI/180;var dJ=function(i,Z,k,e){Z.eachSeriesByType(i,function(g2){var hk=g2.get("center");var cc=g2.get("radius");if(!cW(cc)){cc=[0,cc]}if(!cW(hk)){hk=[hk,hk]}var ha=k.getWidth();var hj=k.getHeight();var XY=Math.min(ha,hj);var WH=Pw(hk[0],ha);var hb=Pw(hk[1],hj);var g6=Pw(cc[0],XY/2);var m=Pw(cc[1],XY/2);var g4=-g2.get("startAngle")*R0;var hd=g2.get("minAngle")*R0;var hi=g2.getData().tree.root;var hh=g2.getViewRoot();var Z2=hh.depth;var hc=g2.get("sort");if(hc!=null){P2(hh,hc)}var v=0;Dy(hh.children,function(hn){!isNaN(hn.getValue())&&v++});var g5=hh.getValue();var g3=Math.PI/(g5||v)*2;var g1=hh.depth>0;var g9=hh.height-(g1?-1:1);var hf=(m-g6)/(g9||1);var PI=g2.get("clockwise");var g7=g2.get("stillShowZeroSum");var g8=PI?1:-1;var he=function(ht,hw){if(!ht){return}var hn=hw;if(ht!==hi){var hs=ht.getValue();var hv=(g5===0&&g7)?g3:(hs*g3);if(hv<hd){hv=hd}else{}hn=hw+g8*hv;var hu=ht.depth-Z2-(g1?-1:1);var hp=g6+hf*hu;var hr=g6+hf*(hu+1);var ho=ht.getModel();if(ho.get("r0")!=null){hp=Pw(ho.get("r0"),XY/2)}if(ho.get("r")!=null){hr=Pw(ho.get("r"),XY/2)}ht.setLayout({angle:hv,startAngle:hw,endAngle:hn,clockwise:PI,cx:WH,cy:hb,r0:hp,r:hr})}if(ht.children&&ht.children.length){var hq=0;Dy(ht.children,function(hx){hq+=he(hx,hw+hq)})}return hn-hw};if(g1){var hg=g6;var hm=g6+hf;var hl=Math.PI*2;hi.setLayout({angle:hl,startAngle:g4,endAngle:g4+hl,clockwise:PI,cx:WH,cy:hb,r0:hg,r:hm})}he(hh,g4)})};function P2(e,Z){var i=e.children||[];e.children=MW(i,Z);if(i.length){Dy(e.children,function(k){P2(k,Z)})}}function MW(i,e){if(typeof e==="function"){return i.sort(e)}else{var Z=e==="asc";return i.sort(function(m,k){var v=(m.getValue()-k.getValue())*(Z?1:-1);return v===0?(m.dataIndex-k.dataIndex)*(Z?-1:1):v})}}Ao(c3(dz,"sunburst"));gH(c3(dJ,"sunburst"));dU(c3(EG,"sunburst"));function Dw(Z,e){e=e||[0,0];return QL(["x","y"],function(k,PI){var v=this.getAxis(k);var m=e[PI];var i=Z[PI]/2;return v.type==="category"?v.getBandWidth():Math.abs(v.dataToCoord(m-i)-v.dataToCoord(m+i))},this)}var EX=function(Z){var e=Z.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(i){return Z.dataToPoint(i)},size:ei(Dw,Z)}}};function Y(Z,e){e=e||[0,0];return QL([0,1],function(m){var v=e[m];var PI=Z[m]/2;var k=[];var i=[];k[m]=v-PI;i[m]=v+PI;k[1-m]=i[1-m]=e[1-m];return Math.abs(this.dataToPoint(k)[m]-this.dataToPoint(i)[m])},this)}var ZV=function(Z){var e=Z.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(i){return Z.dataToPoint(i)},size:ei(Y,Z)}}};function W(Z,e){var m=this.getAxis();var i=e instanceof Array?e[0]:e;var k=(Z instanceof Array?Z[0]:Z)/2;return m.type==="category"?m.getBandWidth():Math.abs(m.dataToCoord(i-k)-m.dataToCoord(i+k))}var Fu=function(Z){var e=Z.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(i){return Z.dataToPoint(i)},size:ei(W,Z)}}};function X(Z,e){return QL(["Radius","Angle"],function(v,XY){var WH=this["get"+v+"Axis"]();var PI=e[XY];var i=Z[XY]/2;var m="dataTo"+v;var k=WH.type==="category"?WH.getBandWidth():Math.abs(WH[m](PI-i)-WH[m](PI+i));if(v==="Angle"){k=k*Math.PI/180}return k},this)}var bv=function(e){var Z=e.getRadiusAxis();var k=e.getAngleAxis();var i=Z.getExtent();i[0]>i[1]&&i.reverse();return{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:i[1],r0:i[0]},api:{coord:ei(function(WH){var v=Z.dataToRadius(WH[0]);var m=k.dataToAngle(WH[1]);var PI=e.coordToPoint([v,m]);PI.push(v,m*Math.PI/180);return PI}),size:ei(X,e)}}};var B9=function(Z){var e=Z.getRect();var i=Z.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:Z.getCellWidth(),cellHeight:Z.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(m,k){return Z.dataToPoint(m,k)}}}};var DJ=["itemStyle"];var A4=["emphasis","itemStyle"];var Es=["label"];var cr=["emphasis","label"];var co="e\0\0";var Ax={cartesian2d:EX,geo:ZV,singleAxis:Fu,polar:bv,calendar:B9};Sa({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:true},getInitialData:function(Z,e){return VR(this.getSource(),this)}});YB({type:"custom",_data:null,render:function(i,e,v){var Z=this._data;var PI=i.getData();var m=this.group;var k=Qg(i,PI,e,v);this.group.removeAll();PI.diff(Z).add(function(WH){au(null,WH,k(WH),i,m,PI)}).update(function(XY,Z2){var WH=Z.getItemGraphicEl(Z2);au(WH,XY,k(XY),i,m,PI)}).remove(function(XY){var WH=Z.getItemGraphicEl(XY);WH&&m.remove(WH)}).execute();this._data=PI},incrementalPrepareRender:function(e,Z,i){this.group.removeAll();this._data=null},incrementalRender:function(WH,m,Z,XY){var i=m.getData();var v=Qg(m,i,Z,XY);function e(Z2){if(!Z2.isGroup){Z2.incremental=true;Z2.useHoverLayer=true}}for(var k=WH.start;k<WH.end;k++){var PI=au(null,k,v(k),m,this.group,i);PI.traverse(e)}},dispose:gw});function Ju(Z){var e=Z.type;var i;if(e==="path"){var m=Z.shape;i=JC(m.pathData,null,{x:m.x||0,y:m.y||0,width:m.width||0,height:m.height||0},"center");i.__customPathData=Z.pathData}else{if(e==="image"){i=new Hv({});i.__customImagePath=Z.style.image}else{if(e==="text"){i=new FW({});i.__customText=Z.style.text}else{var k=S8[e.charAt(0).toUpperCase()+e.slice(1)];if(W1){SR(k,'graphic type "'+e+'" can not be found.')}i=new k()}}}i.__customGraphicType=e;i.name=Z.name;return i}function KQ(m,PI,Z2,k,i,e){var v={};var XY=Z2.style||{};Z2.shape&&(v.shape=fJ(Z2.shape));Z2.position&&(v.position=Z2.position.slice());Z2.scale&&(v.scale=Z2.scale.slice());Z2.origin&&(v.origin=Z2.origin.slice());Z2.rotation&&(v.rotation=Z2.rotation);if(m.type==="image"&&Z2.style){var Z=v.style={};Dy(["x","y","width","height"],function(cc){cG(cc,Z,XY,m.style,e)})}if(m.type==="text"&&Z2.style){var Z=v.style={};Dy(["x","y"],function(cc){cG(cc,Z,XY,m.style,e)});!XY.hasOwnProperty("textFill")&&XY.fill&&(XY.textFill=XY.fill);!XY.hasOwnProperty("textStroke")&&XY.stroke&&(XY.textStroke=XY.stroke)}if(m.type!=="group"){m.useStyle(XY);if(e){m.style.opacity=0;var WH=XY.opacity;WH==null&&(WH=1);ef(m,{style:{opacity:WH}},k,PI)}}if(e){m.attr(v)}else{Qr(m,v,k,PI)}m.attr({z2:Z2.z2||0,silent:Z2.silent});Z2.styleEmphasis!==false&&N7(m,Z2.styleEmphasis)}function cG(i,m,k,e,Z){if(k[i]!=null&&!Z){m[i]=k[i];k[i]=e[i]}}function Qg(Z2,g7,e,XY){var g5=Z2.get("renderItem");var cc=Z2.coordinateSystem;var g8={};if(cc){if(W1){SR(g5,"series.render is required.");SR(cc.prepareCustoms||Ax[cc.type],"This coordSys does not support custom series.")}g8=cc.prepareCustoms?cc.prepareCustoms():Ax[cc.type](cc)}var g1=IK({getWidth:XY.getWidth,getHeight:XY.getHeight,getZr:XY.getZr,getDevicePixelRatio:XY.getDevicePixelRatio,value:g9,style:WH,styleEmphasis:m,visual:k,barLayout:g4,currentSeriesIndices:v,font:PI},g8.api||{});var g3={context:{},seriesId:Z2.id,seriesName:Z2.name,seriesIndex:Z2.seriesIndex,coordSys:g8.coordSys,dataInsideLength:g7.count(),encode:Q3(Z2.getData())};var hc;var Z=true;var i;var hb;var g6;var ha;return function(hd){hc=hd;Z=true;return g5&&g5(IK({dataIndexInside:hd,dataIndex:g7.getRawIndex(hd)},g3),g1)||{}};function g2(hd){hd==null&&(hd=hc);if(Z){i=g7.getItemModel(hd);hb=i.getModel(Es);g6=i.getModel(cr);ha=g7.getItemVisual(hd,"color");Z=false}}function g9(hd,he){he==null&&(he=hc);return g7.get(g7.getDimension(hd||0),he)}function WH(he,hg){hg==null&&(hg=hc);g2(hg);var hf=i.getModel(DJ).getItemStyle();ha!=null&&(hf.fill=ha);var hd=g7.getItemVisual(hg,"opacity");hd!=null&&(hf.opacity=hd);DQ(hf,hb,null,{autoColor:ha,isRectText:true});hf.text=hb.getShallow("show")?Vi(Z2.getFormattedLabel(hg,"normal"),TE(g7,hg)):null;he&&XN(hf,he);return hf}function m(hd,hf){hf==null&&(hf=hc);g2(hf);var he=i.getModel(A4).getItemStyle();DQ(he,g6,null,{isRectText:true},true);he.text=g6.getShallow("show")?Vh(Z2.getFormattedLabel(hf,"emphasis"),Z2.getFormattedLabel(hf,"normal"),TE(g7,hf)):null;hd&&XN(he,hd);return he}function k(hd,he){he==null&&(he=hc);return g7.getItemVisual(he,hd)}function g4(hd){if(cc.getBaseAxis){var he=cc.getBaseAxis();return Np(IK({axis:he},hd),XY)}}function v(){return e.getCurrentSeriesIndices()}function PI(hd){return AG(hd,e)}}function Q3(e){var Z={};Dy(e.dimensions,function(m,k){var PI=e.getDimensionInfo(m);if(!PI.isExtraCoord){var v=PI.coordDim;var i=Z[v]=Z[v]||[];i[PI.coordDimIndex]=k}});return Z}function au(Z,e,i,v,m,k){Z=BL(Z,e,i,v,m,k);Z&&k.setItemGraphicEl(e,Z);return Z}function BL(v,WH,cc,m,PI,i){var XY=cc.type;if(v&&XY!==v.__customGraphicType&&(XY!=="path"||cc.pathData!==v.__customPathData)&&(XY!=="image"||cc.style.image!==v.__customImagePath)&&(XY!=="text"||cc.style.text!==v.__customText)){PI.remove(v);v=null}if(XY==null){return}var e=!v;!v&&(v=Ju(cc));KQ(v,WH,cc,m,i,e);if(XY==="group"){var Z=v.children()||[];var k=cc.children||[];if(cc.diffChildrenByName){N4({oldChildren:Z,newChildren:k,dataIndex:WH,animatableModel:m,group:v,data:i})}else{var Z2=0;for(;Z2<k.length;Z2++){BL(v.childAt(Z2),WH,k[Z2],m,v,i)}for(;Z2<Z.length;Z2++){Z[Z2]&&v.remove(Z[Z2])}}}PI.add(v);return v}function N4(Z){(new WG(Z.oldChildren,Z.newChildren,G6,G6,Z)).add(CZ).update(CZ).remove(Ww).execute()}function G6(Z,i){var e=Z&&Z.name;return e!=null?e:co+i}function CZ(m,i){var e=this.context;var k=m!=null?e.newChildren[m]:null;var Z=i!=null?e.oldChildren[i]:null;BL(Z,e.dataIndex,k,e.animatableModel,e.group,e.data)}function Ww(i){var e=this.context;var Z=e.oldChildren[i];Z&&e.group.remove(Z)}Jo(function(Z){var e=Z.graphic;if(cW(e)){if(!e[0]||!e[0].elements){Z.graphic=[{elements:e}]}else{Z.graphic=[Z.graphic[0]]}}else{if(e&&!e.elements){Z.graphic=[{elements:[e]}]}}});var Cg=Hl({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(Z){var e=this.option.elements;this.option.elements=null;Cg.superApply(this,"mergeOption",arguments);this.option.elements=e},optionUpdated:function(Z,k){var XY=this.option;var PI=(k?XY:Z).elements;var WH=XY.elements=k?[]:XY.elements;var Z2=[];this._flatten(PI,Z2);var m=DO(WH,Z2);fH(m);var e=this._elOptionsToUpdate=[];Dy(m,function(g1,cc){var i=g1.option;if(W1){SR(EJ(i)||g1.exist,"Empty graphic option definition")}if(!i){return}e.push(i);Dh(g1,i);af(WH,cc,i);cq(WH[cc],i)},this);for(var v=WH.length-1;v>=0;v--){if(WH[v]==null){WH.splice(v,1)}else{delete WH[v].$action}}},_flatten:function(e,Z,i){Dy(e,function(k){if(!k){return}if(i){k.parentOption=i}Z.push(k);var m=k.children;if(k.type==="group"&&m){this._flatten(m,Z,k)}delete k.children},this)},useElOptionsToUpdate:function(){var Z=this._elOptionsToUpdate;this._elOptionsToUpdate=null;return Z}});ec({type:"graphic",init:function(Z,e){this._elMap=Fj();this._lastGraphicModel},render:function(e,Z,i){if(e!==this._lastGraphicModel){this._clear()}this._lastGraphicModel=e;this._updateElements(e,i);this._relocate(e,i)},_updateElements:function(e,k){var m=e.useElOptionsToUpdate();if(!m){return}var i=this._elMap;var Z=this.group;Dy(m,function(cc){var PI=cc.$action;var Z2=cc.id;var g2=i.get(Z2);var XY=cc.parentId;var WH=XY!=null?i.get(XY):Z;if(cc.type==="text"){var g1=cc.style;if(cc.hv&&cc.hv[1]){g1.textVerticalAlign=g1.textBaseline=null}!g1.hasOwnProperty("textFill")&&g1.fill&&(g1.textFill=g1.fill);!g1.hasOwnProperty("textStroke")&&g1.stroke&&(g1.textStroke=g1.stroke)}var g3=Km(cc);if(W1){g2&&SR(WH===g2.parent,"Changing parent is not supported.")}if(!PI||PI==="merge"){g2?g2.attr(g3):bn(Z2,WH,g3,i)}else{if(PI==="replace"){Vf(g2,i);bn(Z2,WH,g3,i)}else{if(PI==="remove"){Vf(g2,i)}}}var v=i.get(Z2);if(v){v.__ecGraphicWidth=cc.width;v.__ecGraphicHeight=cc.height}})},_relocate:function(Z,Z2){var WH=Z.option.elements;var e=this.group;var XY=this._elMap;for(var m=WH.length-1;m>=0;m--){var cc=WH[m];var k=XY.get(cc.id);if(!k){continue}var v=k.parent;var PI=v===e?{width:Z2.getWidth(),height:Z2.getHeight()}:{width:v.__ecGraphicWidth||0,height:v.__ecGraphicHeight||0};Lp(k,cc,PI,null,{hv:cc.hv,boundingMode:cc.bounding})}},_clear:function(){var Z=this._elMap;Z.each(function(e){Vf(e,Z)});this._elMap=Fj()},dispose:function(){this._clear()}});function bn(PI,Z,i,m){var e=i.type;if(W1){SR(e,"graphic type MUST be set")}var k=S8[e.charAt(0).toUpperCase()+e.slice(1)];if(W1){SR(k,"graphic type can not be found")}var v=new k(i);Z.add(v);m.set(PI,v);v.__ecGraphicId=PI}function Vf(i,e){var Z=i&&i.parent;if(Z){i.type==="group"&&i.traverse(function(k){Vf(k,e)});e.removeKey(i.__ecGraphicId);Z.remove(i)}}function Km(Z){Z=XN({},Z);Dy(["id","parentId","$action","hv","bounding"].concat(Ar),function(e){delete Z[e]});return Z}function bQ(Z,i){var e;Dy(i,function(k){Z[k]!=null&&Z[k]!=="auto"&&(e=true)});return e}function Dh(i,e){var k=i.exist;e.id=i.keyInfo.id;!e.type&&k&&(e.type=k.type);if(e.parentId==null){var Z=e.parentOption;if(Z){e.parentId=Z.id}else{if(k){e.parentId=k.parentId}}}e.parentOption=null}function af(k,m,i){var Z=XN({},i);var PI=k[m];var e=i.$action||"merge";if(e==="merge"){if(PI){if(W1){var v=i.type;SR(!v||PI.type===v,'Please set $action: "replace" to change `type`')}LB(PI,Z,true);c7(PI,Z,{ignoreSize:true});Tg(i,PI)}else{k[m]=Z}}else{if(e==="replace"){k[m]=Z}else{if(e==="remove"){PI&&(k[m]=null)}}}}function cq(Z,e){if(!Z){return}Z.hv=e.hv=[bQ(e,["left","right"]),bQ(e,["top","bottom"])];if(Z.type==="group"){Z.width==null&&(Z.width=e.width=0);Z.height==null&&(Z.height=e.height=0)}}var QF=Hl({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:true},init:function(Z,i,e){this.mergeDefaultAndTheme(Z,e);Z.selected=Z.selected||{}},mergeOption:function(Z){QF.superCall(this,"mergeOption",Z)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){var k=false;for(var Z=0; Z<e.length; Z++){var m=e[Z].get("name");if(this.isSelected(m)){this.select(m);k=true;break}}!k&&this.select(e[0].get("name"))}},_updateData:function(e){var k=[];var Z=[];e.eachRawSeries(function(PI){var XY=PI.name;Z.push(XY);var v;if(PI.legendDataProvider){var Z2=PI.legendDataProvider();var WH=Z2.mapArray(Z2.getName);if(!e.isSeriesFiltered(PI)){Z=Z.concat(WH)}if(WH.length){k=k.concat(WH)}else{v=true}}else{v=true}if(v&&M5(PI)){k.push(PI.name)}});this._availableNames=Z;var m=this.get("data")||k;var i=QL(m,function(v){if(typeof v==="string"||typeof v==="number"){v={name:v}}return new fx(v,this,this.ecModel)},this);this._data=i},getData:function(){return this._data},select:function(i){var k=this.option.selected;var Z=this.get("selectedMode");if(Z==="single"){var e=this._data;Dy(e,function(m){k[m.get("name")]=false})}k[i]=true},unSelect:function(Z){if(this.get("selectedMode")!=="single"){this.option.selected[Z]=false}},toggleSelected:function(Z){var e=this.option.selected;if(!e.hasOwnProperty(Z)){e[Z]=true}this[e[Z]?"unSelect":"select"](Z)},isSelected:function(Z){var e=this.option.selected;return !(e.hasOwnProperty(Z)&&!e[Z])&&FT(this._availableNames,Z)>=0},defaultOption:{zlevel:0,z:4,show:true,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:true,tooltip:{show:false}}});function Uf(i,k,e){var v={};var Z=i==="toggleSelected";var m;e.eachComponent("legend",function(WH){if(Z&&m!=null){WH[m?"select":"unSelect"](k.name)}else{WH[i](k.name);m=WH.isSelected(k.name)}var PI=WH.getData();Dy(PI,function(cc){var Z2=cc.get("name");if(Z2==="\n"||Z2===""){return}var XY=WH.isSelected(Z2);if(v.hasOwnProperty(Z2)){v[Z2]=v[Z2]&&XY}else{v[Z2]=XY}})});return{name:k.name,selected:v}}S9("legendToggleSelect","legendselectchanged",c3(Uf,"toggleSelected"));S9("legendSelect","legendselected",c3(Uf,"select"));S9("legendUnSelect","legendunselected",c3(Uf,"unSelect"));function PA(Z,m,PI){var i=m.getBoxLayoutParams();var e=m.get("padding");var k={width:PI.getWidth(),height:PI.getHeight()};var v=CU(i,k,e);e8(m.get("orient"),Z,m.get("itemGap"),v.width,v.height);Lp(Z,i,k,e)}function Mo(e,i){var Z=R7(i.get("padding"));var k=i.getItemStyle(["color","opacity"]);k.fill=i.get("backgroundColor");var e=new Fm({shape:{x:e.x-Z[3],y:e.y-Z[0],width:e.width+Z[1]+Z[3],height:e.height+Z[0]+Z[2],r:i.get("borderRadius")},style:k,silent:true,z2:-1});return e}var UE=c3;var b8=Dy;var bO=U3;var fF=ec({type:"legend.plain",newlineDisabled:false,init:function(){this.group.add(this._contentGroup=new bO());this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(XY,i,Z2){this.resetInner();if(!XY.get("show",true)){return}var e=XY.get("align");if(!e||e==="auto"){e=(XY.get("left")==="right"&&XY.get("orient")==="vertical")?"right":"left"}this.renderInner(e,XY,i,Z2);var m=XY.getBoxLayoutParams();var WH={width:Z2.getWidth(),height:Z2.getHeight()};var k=XY.get("padding");var Z=CU(m,WH,k);var PI=this.layoutInner(XY,e,Z);var v=CU(IK({width:PI.width,height:PI.height},m),WH,k);this.group.attr("position",[v.x-PI.x,v.y-PI.y]);this.group.add(this._backgroundEl=Mo(PI,XY))},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(i,m,e,v){var PI=this.getContentGroup();var Z=Fj();var k=m.get("selectedMode");b8(m.getData(),function(WH,g3){var XY=WH.get("name");if(!this.newlineDisabled&&(XY===""||XY==="\n")){PI.add(new bO({newline:true}));return}var g5=e.getSeriesByName(XY)[0];if(Z.get(XY)){return}if(g5){var Z2=g5.getData();var g1=Z2.getVisual("color");if(typeof g1==="function"){g1=g1(g5.getDataParams(0))}var cc=Z2.getVisual("legendSymbol")||"roundRect";var g2=Z2.getVisual("symbol");var g4=this._createItem(XY,g3,WH,m,cc,g2,i,g1,k);g4.on("click",UE(cK,XY,v)).on("mouseover",UE(Ku,g5,null,v)).on("mouseout",UE(ST,g5,null,v));Z.set(XY,true)}else{e.eachRawSeries(function(g6){if(Z.get(XY)){return}if(g6.legendDataProvider){var hb=g6.legendDataProvider();var g8=hb.indexOfName(XY);if(g8<0){return}var ha=hb.getItemVisual(g8,"color");var g9="roundRect";var g7=this._createItem(XY,g3,WH,m,g9,null,i,ha,k);g7.on("click",UE(cK,XY,v)).on("mouseover",UE(Ku,g6,XY,v)).on("mouseout",UE(ST,g6,XY,v));Z.set(XY,true)}},this)}if(W1){if(!Z.get(XY)){console.warn(XY+" series not exists. Legend data should be same with series name or data name.")}}},this)},_createItem:function(hb,ha,v,PI,hd,g3,g9,i,cc){var k=PI.get("itemWidth");var m=PI.get("itemHeight");var hc=PI.get("inactiveColor");var g2=PI.isSelected(hb);var g6=new bO();var g1=v.getModel("textStyle");var g4=v.get("icon");var Z=v.getModel("tooltip");var XY=Z.parentModel;hd=g4||hd;g6.add(FK(hd,0,0,k,m,g2?i:hc,true));if(!g4&&g3&&((g3!==hd)||g3=="none")){var WH=m*0.8;if(g3==="none"){g3="circle"}g6.add(FK(g3,(k-WH)/2,(m-WH)/2,WH,WH,g2?i:hc))}var g7=g9==="left"?k+5:-5;var Z2=g9;var e=PI.get("formatter");var g8=hb;if(typeof e==="string"&&e){g8=e.replace("{name}",hb!=null?hb:"")}else{if(typeof e==="function"){g8=e(hb)}}g6.add(new FW({style:DQ({},g1,{text:g8,x:g7,y:m/2,textFill:g2?g1.getTextColor():hc,textAlign:Z2,textVerticalAlign:"middle"})}));var g5=new Fm({shape:g6.getBoundingRect(),invisible:true,tooltip:Z.get("show")?XN({content:hb,formatter:XY.get("formatter",true)||function(){return hb},formatterParams:{componentType:"legend",legendIndex:PI.componentIndex,name:hb,$vars:["name"]}},Z.option):null});g6.add(g5);g6.eachChild(function(he){he.silent=true});g5.silent=!cc;this.getContentGroup().add(g6);N7(g6);g6.__legendDataIndex=ha;return g6},layoutInner:function(k,i,Z){var m=this.getContentGroup();e8(k.get("orient"),m,k.get("itemGap"),Z.width,Z.height);var e=m.getBoundingRect();m.attr("position",[-e.x,-e.y]);return this.group.getBoundingRect()}});function cK(Z,e){e.dispatchAction({type:"legendToggleSelect",name:Z})}function Ku(e,i,k){var Z=k.getZr().storage.getDisplayList()[0];if(!(Z&&Z.useHoverLayer)){e.get("legendHoverLink")&&k.dispatchAction({type:"highlight",seriesName:e.name,name:i})}}function ST(e,i,k){var Z=k.getZr().storage.getDisplayList()[0];if(!(Z&&Z.useHoverLayer)){e.get("legendHoverLink")&&k.dispatchAction({type:"downplay",seriesName:e.name,name:i})}}var fT=function(Z){var e=Z.findComponents({mainType:"legend"});if(e&&e.length){Z.filterSeries(function(m){for(var k=0;k<e.length;k++){if(!e[k].isSelected(m.name)){return false}}return true})}};dU(fT);Dt.registerSubTypeDefaulter("legend",function(){return"plain"});var LD=QF.extend({type:"legend.scroll",setScrollDataIndex:function(Z){this.option.scrollDataIndex=Z},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,m,i,k){var Z=ZT(e);LD.superCall(this,"init",e,m,i,k);dd(this,e,Z)},mergeOption:function(Z,e){LD.superCall(this,"mergeOption",Z,e);dd(this,this.option,Z)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function dd(k,i,m){var e=k.getOrient();var Z=[1,1];Z[e.index]=0;c7(i,m,{type:"box",ignoreSize:Z})}var bR=U3;var MG=["width","height"];var Nw=["x","y"];var C0=fF.extend({type:"legend.scroll",newlineDisabled:true,init:function(){C0.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new bR());this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new bR());this._showController},resetInner:function(){C0.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(Z,WH,e,XY){var v=this;C0.superCall(this,"renderInner",Z,WH,e,XY);var m=this._controllerGroup;var PI=WH.get("pageIconSize",true);if(!cW(PI)){PI=[PI,PI]}k("pagePrev",0);var i=WH.getModel("pageTextStyle");m.add(new FW({name:"pageText",style:{textFill:i.getTextColor(),font:i.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:true}));k("pageNext",1);function k(g1,cc){var Z2=g1+"DataIndex";var g2=DK(WH.get("pageIcons",true)[WH.getOrient().name][cc],{onclick:ei(v._pageGo,v,Z2,WH,XY)},{x:-PI[0]/2,y:-PI[1]/2,width:PI[0],height:PI[1]});g2.name=g1;m.add(g2)}},layoutInner:function(PI,g7,i){var k=this.getContentGroup();var g4=this._containerGroup;var e=this._controllerGroup;var XY=PI.getOrient().index;var v=MG[XY];var cc=MG[1-XY];var g9=Nw[1-XY];e8(PI.get("orient"),k,PI.get("itemGap"),!XY?null:i.width,XY?null:i.height);e8("horizontal",e,PI.get("pageButtonItemGap",true));var g1=k.getBoundingRect();var Z2=e.getBoundingRect();var ha=this._showController=g1[v]>i[v];var g2=[-g1.x,-g1.y];g2[XY]=k.position[XY];var m=[0,0];var g6=[-Z2.x,-Z2.y];var g3=Vi(PI.get("pageButtonGap",true),PI.get("itemGap",true));if(ha){var g5=PI.get("pageButtonPosition",true);if(g5==="end"){g6[XY]+=i[v]-Z2[v]}else{m[XY]+=Z2[v]+g3}}g6[1-XY]+=g1[cc]/2-Z2[cc]/2;k.attr("position",g2);g4.attr("position",m);e.attr("position",g6);var Z=this.group.getBoundingRect();var Z={x:0,y:0};Z[v]=ha?i[v]:g1[v];Z[cc]=Math.max(g1[cc],Z2[cc]);Z[g9]=Math.min(0,Z2[g9]+g6[1-XY]);g4.__rectSize=i[v];if(ha){var g8={x:0,y:0};g8[v]=Math.max(i[v]-Z2[v]-g3,0);g8[cc]=Z[cc];g4.setClipPath(new Fm({shape:g8}));g4.__rectSize=g8[v]}else{e.eachChild(function(hb){hb.attr({invisible:true,silent:true})})}var WH=this._getPageInfo(PI);WH.pageIndex!=null&&Qr(k,{position:WH.contentPosition},ha?PI:false);this._updatePageInfoView(PI,WH);return Z},_pageGo:function(Z,i,k){var e=this._getPageInfo(i)[Z];e!=null&&k.dispatchAction({type:"legendScroll",scrollDataIndex:e,legendId:i.id})},_updatePageInfoView:function(PI,i){var m=this._controllerGroup;Dy(["pagePrev","pageNext"],function(Z2){var XY=i[Z2+"DataIndex"]!=null;var cc=m.childOfName(Z2);if(cc){cc.setStyle("fill",XY?PI.get("pageIconColor",true):PI.get("pageIconInactiveColor",true));cc.cursor=XY?"pointer":"default"}});var WH=m.childOfName("pageText");var Z=PI.get("pageFormatter");var k=i.pageIndex;var e=k!=null?k+1:0;var v=i.pageCount;WH&&Z&&WH.setStyle("text",Ei(Z)?Z.replace("{current}",e).replace("{total}",v):Z({current:e,total:v}))},_getPageInfo:function(PI){var g9=PI.get("scrollDataIndex",true);var i=this.getContentGroup();var g5=i.getBoundingRect();var hc=this._containerGroup.__rectSize;var XY=PI.getOrient().index;var v=MG[XY];var g3=MG[1-XY];var k=Nw[XY];var g6=i.position.slice();var ha;var g8;var g7;var g1;if(this._showController){i.eachChild(function(hd){if(hd.__legendDataIndex===g9){g1=hd}})}else{g1=i.childAt(0)}var cc=hc?Math.ceil(g5[v]/hc):0;if(g1){var Z2=g1.getBoundingRect();var e=g1.position[XY]+Z2[k];g6[XY]=-e-g5[k];ha=Math.floor(cc*(e+Z2[k]+hc/2)/g5[v]);ha=(g5[v]&&cc)?Math.max(0,Math.min(cc-1,ha)):-1;var WH={x:0,y:0};WH[v]=hc;WH[g3]=g5[g3];WH[k]=-g6[XY]-g5[k];var hb;var g4=i.children();i.eachChild(function(hd,hf){var he=m(hd);if(he.intersect(WH)){hb==null&&(hb=hf);g7=hd.__legendDataIndex}if(hf===g4.length-1&&he[k]+he[v]<=WH[k]+WH[v]){g7=null}});if(hb!=null){var g2=g4[hb];var Z=m(g2);WH[k]=Z[k]+Z[v]-WH[v];if(hb<=0&&Z[k]>=WH[k]){g8=null}else{while(hb>0&&m(g4[hb-1]).intersect(WH)){hb--}g8=g4[hb].__legendDataIndex}}}return{contentPosition:g6,pageIndex:ha,pageCount:cc,pagePrevDataIndex:g8,pageNextDataIndex:g7};function m(hd){var he=hd.getBoundingRect().clone();he[k]+=hd.position[XY];return he}}});S9("legendScroll","legendscroll",function(e,Z){var i=e.scrollDataIndex;i!=null&&Z.eachComponent({mainType:"legend",subType:"scroll",query:e},function(k){k.setScrollDataIndex(i)})});Hl({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:true,showContent:true,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:false,displayMode:"single",confine:false,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var aX=Dy;var cH=NI;var Fa=["","-webkit-","-moz-","-o-"];var WX="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function OW(e){var Z="cubic-bezier(0.23, 1, 0.32, 1)";var i="left "+e+"s "+Z+",top "+e+"s "+Z;return QL(Fa,function(k){return k+"transition:"+i}).join(";")}function aM(Z){var i=[];var e=Z.get("fontSize");var k=Z.getTextColor();k&&i.push("color:"+k);i.push("font:"+Z.getFont());e&&i.push("line-height:"+Math.round(e*3/2)+"px");aX(["decoration","align"],function(m){var v=Z.get(m);v&&i.push("text-"+m+":"+v)});return i.join(";")}function fW(m){var v=[];var e=m.get("transitionDuration");var Z=m.get("backgroundColor");var i=m.getModel("textStyle");var k=m.get("padding");e&&v.push(OW(e));if(Z){if(QH.canvasSupported){v.push("background-Color:"+Z)}else{v.push("background-Color:#"+df(Z));v.push("filter:alpha(opacity=70)")}}aX(["width","color","radius"],function(XY){var PI="border-"+XY;var Z2=cH(PI);var WH=m.get(Z2);WH!=null&&v.push(PI+":"+WH+(XY==="color"?"":"px"))});v.push(aM(i));if(k!=null){v.push("padding:"+R7(k).join("px ")+"px")}return v.join(";")+";"}function dy(k,m){if(QH.wxa){return null}var Z=document.createElement("div");var e=this._zr=m.getZr();this.el=Z;this._x=m.getWidth()/2;this._y=m.getHeight()/2;k.appendChild(Z);this._container=k;this._show=false;this._hideTimeout;var i=this;Z.onmouseenter=function(){if(i._enterable){clearTimeout(i._hideTimeout);i._show=true}i._inContent=true};Z.onmousemove=function(v){v=v||window.event;if(!i._enterable){var PI=e.handler;NE(k,v,true);PI.dispatch("mousemove",v)}};Z.onmouseleave=function(){if(i._enterable){if(i._show){i.hideLater(i._hideDelay)}}i._inContent=false}}dy.prototype={constructor:dy,_enterable:true,update:function(){var Z=this._container;var e=Z.currentStyle||document.defaultView.getComputedStyle(Z);var i=Z.style;if(i.position!=="absolute"&&e.position!=="absolute"){i.position="relative"}},show:function(e){clearTimeout(this._hideTimeout);var Z=this.el;Z.style.cssText=WX+fW(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||"");Z.style.display=Z.innerHTML?"block":"none";this._show=true},setContent:function(Z){this.el.innerHTML=Z==null?"":Z},setEnterable:function(Z){this._enterable=Z},getSize:function(){var Z=this.el;return[Z.clientWidth,Z.clientHeight]},moveTo:function(i,k){var Z=this._zr;var m;if(Z&&Z.painter&&(m=Z.painter.getViewportRootOffset())){i+=m.offsetLeft;k+=m.offsetTop}var e=this.el.style;e.left=i+"px";e.top=k+"px";this._x=i;this._y=k},hide:function(){this.el.style.display="none";this._show=false},hideLater:function(Z){if(this._show&&!(this._inContent&&this._enterable)){if(Z){this._hideDelay=Z;this._show=false;this._hideTimeout=setTimeout(ei(this.hide,this),Z)}else{this.hide()}}},isShow:function(){return this._show}};var KP=ei;var bU=Dy;var a=Pw;var cl=new Fm({shape:{x:-1,y:-1,width:2,height:2}});ec({type:"tooltip",init:function(Z,i){if(QH.node){return}var e=new dy(i.getDom(),i);this._tooltipContent=e},render:function(e,Z,i){if(QH.node||QH.wxa){return}this.group.removeAll();this._tooltipModel=e;this._ecModel=Z;this._api=i;this._lastDataByCoordSys=null;this._alwaysShowContent=e.get("alwaysShowContent");var k=this._tooltipContent;k.update();k.setEnterable(e.get("enterable"));this._initGlobalListener();this._keepShow()},_initGlobalListener:function(){var e=this._tooltipModel;var Z=e.get("triggerOn");Yw("itemTooltip",this._api,KP(function(m,i,k){if(Z!=="none"){if(Z.indexOf(m)>=0){this._tryShow(i,k)}else{if(m==="leave"){this._hide(k)}}}},this))},_keepShow:function(){var i=this._tooltipModel;var e=this._ecModel;var k=this._api;if(this._lastX!=null&&this._lastY!=null&&i.get("triggerOn")!=="none"){var Z=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){Z.manuallyShowTip(i,e,k,{x:Z._lastX,y:Z._lastY})})}},manuallyShowTip:function(Z2,e,WH,i){if(i.from===this.uid||QH.node){return}var Z=ZZ(i,WH);this._ticket="";var m=i.dataByCoordSys;if(i.tooltip&&i.x!=null&&i.y!=null){var PI=cl;PI.position=[i.x,i.y];PI.update();PI.tooltip=i.tooltip;this._tryShow({offsetX:i.x,offsetY:i.y,target:PI},Z)}else{if(m){this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},Z)}else{if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(Z2,e,WH,i)){return}var XY=Rp(i,e);var v=XY.point[0];var k=XY.point[1];if(v!=null&&k!=null){this._tryShow({offsetX:v,offsetY:k,position:i.position,target:XY.el,event:{}},Z)}}else{if(i.x!=null&&i.y!=null){WH.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y});this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:WH.getZr().findHover(i.x,i.y).target,event:{}},Z)}}}}},manuallyHideTip:function(i,Z,k,e){var m=this._tooltipContent;if(!this._alwaysShowContent&&this._tooltipModel){m.hideLater(this._tooltipModel.get("hideDelay"))}this._lastX=this._lastY=null;if(e.from!==this.uid){this._hide(ZZ(e,k))}},_manuallyAxisShowTip:function(m,Z,WH,e){var k=e.seriesIndex;var PI=e.dataIndex;var v=Z.getComponent("axisPointer").coordSysAxesInfo;if(k==null||PI==null||v==null){return}var XY=Z.getSeriesByIndex(k);if(!XY){return}var i=XY.getData();var m=aE([i.getItemModel(PI),XY,(XY.coordinateSystem||{}).model,m]);if(m.get("trigger")!=="axis"){return}WH.dispatchAction({type:"updateAxisPointer",seriesIndex:k,dataIndex:PI,position:e.position});return true},_tryShow:function(k,v){var Z=k.target;var m=this._tooltipModel;if(!m){return}this._lastX=k.offsetX;this._lastY=k.offsetY;var i=k.dataByCoordSys;if(i&&i.length){this._showAxisTooltip(i,k)}else{if(Z&&Z.dataIndex!=null){this._lastDataByCoordSys=null;this._showSeriesItemTooltip(k,Z,v)}else{if(Z&&Z.tooltip){this._lastDataByCoordSys=null;this._showComponentItemTooltip(k,Z,v)}else{this._lastDataByCoordSys=null;this._hide(v)}}}},_showOrMove:function(e,Z){var i=e.get("showDelay");Z=ei(Z,this);clearTimeout(this._showTimout);i>0?(this._showTimout=setTimeout(Z,i)):Z()},_showAxisTooltip:function(PI,Z){var k=this._ecModel;var i=this._tooltipModel;var Z2=[Z.offsetX,Z.offsetY];var XY=[];var v=[];var WH=aE([Z.tooltipOption,i]);bU(PI,function(e){bU(e.dataByAxis,function(g3){var g2=k.getComponent(g3.axisDim+"Axis",g3.axisIndex);var cc=g3.value;var g5=[];if(!g2||cc==null){return}var g1=JE(cc,g2.axis,k,g3.seriesDataIndices,g3.valueLabelOpt);Dy(g3.seriesDataIndices,function(g8){var g9=k.getSeriesByIndex(g8.seriesIndex);var g7=g8.dataIndexInside;var g6=g9&&g9.getDataParams(g7);g6.axisDim=g3.axisDim;g6.axisIndex=g3.axisIndex;g6.axisType=g3.axisType;g6.axisId=g3.axisId;g6.axisValue=AX(g2.axis,cc);g6.axisValueLabel=g1;if(g6){v.push(g6);g5.push(g9.formatTooltip(g7,true))}});var g4=g1;XY.push((g4?Qp(g4)+"<br />":"")+g5.join("<br />"))})},this);XY.reverse();XY=XY.join("<br /><br />");var m=Z.position;this._showOrMove(WH,function(){if(this._updateContentNotChangedOnAxis(PI)){this._updatePosition(WH,m,Z2[0],Z2[1],this._tooltipContent,v)}else{this._showTooltipContent(WH,XY,v,Math.random(),Z2[0],Z2[1],m)}})},_showSeriesItemTooltip:function(m,WH,Z){var i=this._ecModel;var PI=WH.seriesIndex;var g5=i.getSeriesByIndex(PI);var g3=WH.dataModel||g5;var cc=WH.dataIndex;var k=WH.dataType;var v=g3.getData();var g4=aE([v.getItemModel(cc),g3,g5&&(g5.coordinateSystem||{}).model,this._tooltipModel]);var XY=g4.get("trigger");if(XY!=null&&XY!=="item"){return}var Z2=g3.getDataParams(cc,k);var g2=g3.formatTooltip(cc,false,k);var g1="item_"+g3.name+"_"+cc;this._showOrMove(g4,function(){this._showTooltipContent(g4,g2,Z2,g1,m.offsetX,m.offsetY,m.position,m.target)});Z({type:"showTip",dataIndexInside:cc,dataIndex:v.getRawIndex(cc),seriesIndex:PI,from:this.uid})},_showComponentItemTooltip:function(i,PI,Z){var m=PI.tooltip;if(typeof m==="string"){var XY=m;m={content:XY,formatter:XY}}var v=new fx(m,this._tooltipModel,this._ecModel);var WH=v.get("content");var k=Math.random();this._showOrMove(v,function(){this._showTooltipContent(v,WH,v.get("formatterParams")||{},k,i.offsetX,i.offsetY,i.position,PI)});Z({type:"showTip",from:this.uid})},_showTooltipContent:function(m,cc,PI,i,XY,Z2,k,Z){this._ticket="";if(!m.get("showContent")||!m.get("show")){return}var WH=this._tooltipContent;var v=m.get("formatter");k=k||m.get("position");var g1=cc;if(v&&typeof v==="string"){g1=Kc(v,PI,true)}else{if(typeof v==="function"){var e=KP(function(g3,g2){if(g3===this._ticket){WH.setContent(g2);this._updatePosition(m,k,XY,Z2,WH,PI,Z)}},this);this._ticket=i;g1=v(PI,i,e)}}WH.setContent(g1);WH.show(m);this._updatePosition(m,k,XY,Z2,WH,PI,Z)},_updatePosition:function(WH,v,g1,g2,g4,XY,Z){var Z2=this._api.getWidth();var e=this._api.getHeight();v=v||WH.get("position");var k=g4.getSize();var PI=WH.get("align");var g3=WH.get("verticalAlign");var i=Z&&Z.getBoundingRect().clone();Z&&i.applyTransform(Z.transform);if(typeof v==="function"){v=v([g1,g2],XY,g4.el,i,{viewSize:[Z2,e],contentSize:k.slice()})}if(cW(v)){g1=a(v[0],Z2);g2=a(v[1],e)}else{if(EJ(v)){v.width=k[0];v.height=k[1];var cc=CU(v,{width:Z2,height:e});g1=cc.x;g2=cc.y;PI=null;g3=null}else{if(typeof v==="string"&&Z){var m=Ru(v,i,k);g1=m[0];g2=m[1]}else{var m=IG(g1,g2,g4.el,Z2,e,PI?null:20,g3?null:20);g1=m[0];g2=m[1]}}}PI&&(g1-=Ng(PI)?k[0]/2:PI==="right"?k[0]:0);g3&&(g2-=Ng(g3)?k[1]/2:g3==="bottom"?k[1]:0);if(WH.get("confine")){var m=Ri(g1,g2,g4.el,Z2,e);g1=m[0];g2=m[1]}g4.moveTo(g1,g2)},_updateContentNotChangedOnAxis:function(Z){var i=this._lastDataByCoordSys;var e=!!i&&i.length===Z.length;e&&bU(i,function(v,WH){var k=v.dataByAxis||{};var m=Z[WH]||{};var PI=m.dataByAxis||[];e&=k.length===PI.length;e&&bU(k,function(g1,g2){var XY=PI[g2]||{};var Z2=g1.seriesDataIndices||[];var cc=XY.seriesDataIndices||[];e&=g1.value===XY.value&&g1.axisType===XY.axisType&&g1.axisId===XY.axisId&&Z2.length===cc.length;e&&bU(Z2,function(g5,g4){var g3=cc[g4];e&=g5.seriesIndex===g3.seriesIndex&&g5.dataIndex===g3.dataIndex})})});this._lastDataByCoordSys=Z;return !!e},_hide:function(Z){this._lastDataByCoordSys=null;Z({type:"hideTip",from:this.uid})},dispose:function(Z,e){if(QH.node){return}this._tooltipContent.hide();GE("itemTooltip",e)}});function aE(i){var Z=i.pop();while(i.length){var e=i.pop();if(e){if(fx.isInstance(e)){e=e.get("tooltip",true)}if(typeof e==="string"){e={formatter:e}}Z=new fx(e,Z,Z.ecModel)}}return Z}function ZZ(Z,e){return Z.dispatchAction||ei(e.dispatchAction,e)}function IG(WH,XY,Z,m,Z2,k,i){var v=Wx(Z);var PI=v.width;var e=v.height;if(k!=null){if(WH+PI+k>m){WH-=PI+k}else{WH+=k}}if(i!=null){if(XY+e+i>Z2){XY-=e+i}else{XY+=i}}return[WH,XY]}function Ri(v,PI,Z,k,WH){var i=Wx(Z);var m=i.width;var e=i.height;v=Math.min(v+m,k)-m;PI=Math.min(PI+e,WH)-e;v=Math.max(v,0);PI=Math.max(PI,0);return[v,PI]}function Wx(Z){var k=Z.clientWidth;var e=Z.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(Z);if(i){k+=parseInt(i.paddingLeft,10)+parseInt(i.paddingRight,10)+parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10);e+=parseInt(i.paddingTop,10)+parseInt(i.paddingBottom,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)}}return{width:k,height:e}}function Ru(v,i,e){var Z=e[0];var XY=e[1];var Z2=5;var PI=0;var WH=0;var k=i.width;var m=i.height;switch(v){case"inside":PI=i.x+k/2-Z/2;WH=i.y+m/2-XY/2;break;case"top":PI=i.x+k/2-Z/2;WH=i.y-XY-Z2;break;case"bottom":PI=i.x+k/2-Z/2;WH=i.y+m+Z2;break;case"left":PI=i.x-Z-Z2;WH=i.y+m/2-XY/2;break;case"right":PI=i.x+k+Z2;WH=i.y+m/2-XY/2}return[PI,WH]}function Ng(Z){return Z==="center"||Z==="middle"}S9({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});S9({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});function FQ(Z){return Z.get("stack")||"__ec_stack_"+Z.seriesIndex}function Yu(Z){return Z.dim}function Z9(k,i,v){var m=v.getWidth();var e=v.getHeight();var Z={};var PI=Fv(bs(i.getSeriesByType(k),function(WH){return !i.isSeriesFiltered(WH)&&WH.coordinateSystem&&WH.coordinateSystem.type==="polar"}));i.eachSeriesByType(k,function(g6){if(g6.coordinateSystem.type!=="polar"){return}var hk=g6.getData();var g5=g6.coordinateSystem;var Z2=g5.getBaseAxis();var hb=FQ(g6);var hf=PI[Yu(Z2)][hb];var hl=hf.offset;var hs=hf.width;var hc=g5.getOtherAxis(Z2);var hq=g6.get("center")||["50%","50%"];var g3=Pw(hq[0],m);var hh=Pw(hq[1],e);var hi=g6.get("barMinHeight")||0;var g9=g6.get("barMinAngle")||0;Z[hb]=Z[hb]||[];var g8=hk.mapDimension(hc.dim);var XY=hk.mapDimension(Z2.dim);var g4=ah(hk,g8,XY);var he=hc.getExtent()[0];for(var hp=0,cc=hk.count();hp<cc;hp++){var hn=hk.get(g8,hp);var hd=hk.get(XY,hp);if(isNaN(hn)){continue}var hg=hn>=0?"p":"n";var hr=he;if(g4){if(!Z[hb][hd]){Z[hb][hd]={p:he,n:he}}hr=Z[hb][hd][hg]}var ha;var WH;var g1;var hj;if(hc.dim==="radius"){var g2=hc.dataToRadius(hn)-he;var g7=Z2.dataToAngle(hd);if(Math.abs(g2)<hi){g2=(g2<0?-1:1)*hi}ha=hr;WH=hr+g2;g1=g7-hl;hj=g1-hs;g4&&(Z[hb][hd][hg]=WH)}else{var ho=hc.dataToAngle(hn,true)-he;var hm=Z2.dataToRadius(hd);if(Math.abs(ho)<g9){ho=(ho<0?-1:1)*g9}ha=hm+hl;WH=ha+hs;g1=hr;hj=hr+ho;g4&&(Z[hb][hd][hg]=hj)}hk.setItemLayout(hp,{cx:g3,cy:hh,r0:ha,r:WH,startAngle:-g1*Math.PI/180,endAngle:-hj*Math.PI/180})}},this)}function Fv(e,k){var Z={};Dy(e,function(g7,XY){var PI=g7.getData();var v=g7.coordinateSystem;var g5=v.getBaseAxis();var g3=g5.getExtent();var m=g5.type==="category"?g5.getBandWidth():(Math.abs(g3[1]-g3[0])/PI.count());var g4=Z[Yu(g5)]||{bandWidth:m,remainedWidth:m,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var g2=g4.stacks;Z[Yu(g5)]=g4;var g1=FQ(g7);if(!g2[g1]){g4.autoWidthCount++}g2[g1]=g2[g1]||{width:0,maxWidth:0};var WH=Pw(g7.get("barWidth"),m);var Z2=Pw(g7.get("barMaxWidth"),m);var cc=g7.get("barGap");var g6=g7.get("barCategoryGap");if(WH&&!g2[g1].width){WH=Math.min(g4.remainedWidth,WH);g2[g1].width=WH;g4.remainedWidth-=WH}Z2&&(g2[g1].maxWidth=Z2);(cc!=null)&&(g4.gap=cc);(g6!=null)&&(g4.categoryGap=g6)});var i={};Dy(Z,function(g2,PI){i[PI]={};var cc=g2.stacks;var m=g2.bandWidth;var WH=Pw(g2.categoryGap,m);var v=Pw(g2.gap,1);var XY=g2.remainedWidth;var Z2=g2.autoWidthCount;var g4=(XY-WH)/(Z2+(Z2-1)*v);g4=Math.max(g4,0);Dy(cc,function(g8,g6){var g7=g8.maxWidth;if(g7&&g7<g4){g7=Math.min(g7,XY);if(g8.width){g7=Math.min(g7,g8.width)}XY-=g7;g8.width=g7;Z2--}});g4=(XY-WH)/(Z2+(Z2-1)*v);g4=Math.max(g4,0);var g3=0;var g5;Dy(cc,function(g7,g6){if(!g7.width){g7.width=g4}g5=g7;g3+=g7.width*(1+v)});if(g5){g3-=g5.width*v}var g1=-g3/2;Dy(cc,function(g7,g6){i[PI][g6]=i[PI][g6]||{offset:g1,width:g7.width};g1+=g7.width*(1+v)})});return i}function Kg(e,Z){Vs.call(this,"radius",e,Z);this.type="category"}Kg.prototype={constructor:Kg,pointToData:function(Z,e){return this.polar.pointToData(Z,e)[this.dim==="radius"?0:1]},dataToRadius:Vs.prototype.dataToCoord,radiusToData:Vs.prototype.coordToData};K8(Kg,Vs);function EQ(e,Z){Z=Z||[0,360];Vs.call(this,"angle",e,Z);this.type="category"}EQ.prototype={constructor:EQ,pointToData:function(Z,e){return this.polar.pointToData(Z,e)[this.dim==="radius"?0:1]},dataToAngle:Vs.prototype.dataToCoord,angleToData:Vs.prototype.coordToData};K8(EQ,Vs);var BG=function(Z){this.name=Z||"";this.cx=0;this.cy=0;this._radiusAxis=new Kg();this._angleAxis=new EQ();this._radiusAxis.polar=this._angleAxis.polar=this};BG.prototype={type:"polar",axisPointerEnabled:true,constructor:BG,dimensions:["radius","angle"],model:null,containPoint:function(Z){var e=this.pointToCoord(Z);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(Z){return this._radiusAxis.containData(Z[0])&&this._angleAxis.containData(Z[1])},getAxis:function(Z){return this["_"+Z+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var Z=[];var i=this._angleAxis;var k=this._radiusAxis;i.scale.type===e&&Z.push(i);k.scale.type===e&&Z.push(k);return Z},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var Z=this._angleAxis;return e===Z?this._radiusAxis:Z},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(Z){var e=(Z!=null&&Z!=="auto")?this.getAxis(Z):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(e,Z){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],Z),this._angleAxis.dataToAngle(e[1],Z)])},pointToData:function(Z,e){var i=this.pointToCoord(Z);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(XY){var WH=XY[0]-this.cx;var v=XY[1]-this.cy;var e=this.getAngleAxis();var k=e.getExtent();var Z2=Math.min(k[0],k[1]);var i=Math.max(k[0],k[1]);e.inverse?(Z2=i-360):(i=Z2+360);var PI=Math.sqrt(WH*WH+v*v);WH/=PI;v/=PI;var m=Math.atan2(-v,WH)/Math.PI*180;var Z=m<Z2?1:-1;while(m<Z2||m>i){m+=Z*360}return[PI,m]},coordToPoint:function(Z){var i=Z[0];var e=Z[1]/180*Math.PI;var k=Math.cos(e)*i+this.cx;var m=-Math.sin(e)*i+this.cy;return[k,m]}};var Ej=Dt.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});LB(Ej.prototype,Mm);var aB={angle:{startAngle:90,clockwise:true,splitNumber:12,axisLabel:{rotate:false}},radius:{splitNumber:5}};function CW(e,Z){return Z.type||(Z.data?"category":"value")}P9("angle",Ej,CW,aB.angle);P9("radius",Ej,CW,aB.radius);Hl({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(i){var Z;var e=this.ecModel;e.eachComponent(i,function(k){if(k.getCoordSysModel()===this){Z=k}},this);return Z},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});function MV(e,XY,WH){var Z=XY.get("center");var PI=WH.getWidth();var i=WH.getHeight();e.cx=Pw(Z[0],PI);e.cy=Pw(Z[1],i);var k=e.getRadiusAxis();var m=Math.min(PI,i)/2;var v=Pw(XY.get("radius"),m);k.inverse?k.setExtent(v,0):k.setExtent(0,v)}function bu(e,v){var PI=this;var m=PI.getAngleAxis();var i=PI.getRadiusAxis();m.scale.setExtent(Infinity,-Infinity);i.scale.setExtent(Infinity,-Infinity);e.eachSeries(function(WH){if(WH.coordinateSystem===PI){var XY=WH.getData();Dy(XY.mapDimension("radius",true),function(Z2){i.scale.unionExtentFromData(XY,Z2)});Dy(XY.mapDimension("angle",true),function(Z2){m.scale.unionExtentFromData(XY,Z2)})}});WA(m.scale,m.model);WA(i.scale,i.model);if(m.type==="category"&&!m.onBand){var k=m.getExtent();var Z=360/m.scale.count();m.inverse?(k[1]+=Z):(k[1]-=Z);m.setExtent(k[0],k[1])}}function CC(i,Z){i.type=Z.get("type");i.scale=Zo(Z);i.onBand=Z.get("boundaryGap")&&i.type==="category";i.inverse=Z.get("inverse");if(Z.mainType==="angleAxis"){i.inverse^=Z.get("clockwise");var e=Z.get("startAngle");i.setExtent(e,e+(i.inverse?-360:360))}Z.axis=i;i.model=Z}var Mg={dimensions:BG.prototype.dimensions,create:function(e,i){var Z=[];e.eachComponent("polar",function(XY,WH){var Z2=new BG(WH);Z2.update=bu;var m=Z2.getRadiusAxis();var k=Z2.getAngleAxis();var v=XY.findAxisModel("radiusAxis");var PI=XY.findAxisModel("angleAxis");CC(m,v);CC(k,PI);MV(Z2,XY,i);Z.push(Z2);XY.coordinateSystem=Z2;Z2.model=XY});e.eachSeries(function(k){if(k.get("coordinateSystem")==="polar"){var m=e.queryComponents({mainType:"polar",index:k.get("polarIndex"),id:k.get("polarId")})[0];if(W1){if(!m){throw new Error('Polar "'+ER(k.get("polarIndex"),k.get("polarId"),0)+'" not found')}}k.coordinateSystem=m.coordinateSystem}});return Z}};Rn.register("polar",Mg);var Ms=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function G7(m,e,Z){e[1]>e[0]&&(e=e.slice().reverse());var k=m.coordToPoint([e[0],Z]);var i=m.coordToPoint([e[1],Z]);return{x1:k[0],y1:k[1],x2:i[0],y2:i[1]}}function CF(e){var Z=e.getRadiusAxis();return Z.inverse?0:1}O7.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(k,e){this.group.removeAll();if(!k.get("show")){return}var m=k.axis;var v=m.polar;var i=v.getRadiusAxis().getExtent();var Z=m.getTicksCoords();if(m.type!=="category"){Z.pop()}Dy(Ms,function(PI){if(k.get(PI+".show")&&(!m.scale.isBlank()||PI==="axisLine")){this["_"+PI](k,v,Z,i)}},this)},_axisLine:function(i,v,e,k){var m=i.getModel("axisLine.lineStyle");var Z=new cE({shape:{cx:v.cx,cy:v.cy,r:k[CF(v)]},style:m.getLineStyle(),z2:1,silent:true});Z.style.fill=null;this.group.add(Z)},_axisTick:function(WH,e,Z,k){var v=WH.getModel("axisTick");var m=(v.get("inside")?-1:1)*v.get("length");var PI=k[CF(e)];var i=QL(Z,function(XY){return new Ut({shape:G7(e,[PI,PI+m],XY)})});this.group.add(HX(i,{style:IK(v.getModel("lineStyle").getLineStyle(),{stroke:WH.get("axisLine.lineStyle.color")})}))},_axisLabel:function(g5,WH,Z2,g8){var g2=g5.axis;var cc=g5.getCategories();var e=g5.getModel("axisLabel");var Z=g5.getFormattedLabels();var XY=e.get("margin");var g1=g2.getLabelsCoords();for(var PI=0;PI<Z2.length;PI++){var g3=g8[CF(WH)];var k=WH.coordToPoint([g3+XY,g1[PI]]);var m=WH.cx;var g4=WH.cy;var v=Math.abs(k[0]-m)/g3<0.3?"center":(k[0]>m?"left":"right");var g6=Math.abs(k[1]-g4)/g3<0.3?"middle":(k[1]>g4?"top":"bottom");if(cc&&cc[PI]&&cc[PI].textStyle){e=new fx(cc[PI].textStyle,e,e.ecModel)}var g7=new FW({silent:true});this.group.add(g7);DQ(g7.style,e,{x:k[0],y:k[1],textFill:e.getTextColor()||g5.get("axisLine.lineStyle.color"),text:Z[PI],textAlign:v,textVerticalAlign:g6})}},_splitLine:function(cc,e,Z,v){var PI=cc.getModel("splitLine");var k=PI.getModel("lineStyle");var m=k.get("color");var WH=0;m=m instanceof Array?m:[m];var g1=[];for(var XY=0;XY<Z.length;XY++){var Z2=(WH++)%m.length;g1[Z2]=g1[Z2]||[];g1[Z2].push(new Ut({shape:G7(e,v,Z[XY])}))}for(var XY=0;XY<g1.length;XY++){this.group.add(HX(g1[XY],{style:IK({stroke:m[XY%m.length]},k.getLineStyle()),silent:true,z:cc.get("z")}))}},_splitArea:function(g4,e,Z,WH){var XY=g4.getModel("splitArea");var m=XY.getModel("areaStyle");var g2=m.get("color");var cc=0;g2=g2 instanceof Array?g2:[g2];var k=[];var v=Math.PI/180;var g1=-Z[0]*v;var g5=Math.min(WH[0],WH[1]);var g6=Math.max(WH[0],WH[1]);var PI=g4.get("clockwise");for(var g3=1;g3<Z.length;g3++){var Z2=(cc++)%g2.length;k[Z2]=k[Z2]||[];k[Z2].push(new LA({shape:{cx:e.cx,cy:e.cy,r0:g5,r:g6,startAngle:g1,endAngle:-Z[g3]*v,clockwise:PI},silent:true}));g1=-Z[g3]*v}for(var g3=0;g3<k.length;g3++){this.group.add(HX(k[g3],{style:IK({fill:g2[g3%g2.length]},m.getAreaStyle()),silent:true}))}}});var AS=["axisLine","axisTickLabel","axisName"];var e2=["splitLine","splitArea"];O7.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(PI,e){this.group.removeAll();if(!PI.get("show")){return}var m=PI.axis;var Z=m.polar;var k=Z.getAngleAxis();var XY=m.getTicksCoords();var Z2=k.getExtent()[0];var v=m.getExtent();var WH=ep(Z,PI,Z2);var i=new YS(PI,WH);Dy(AS,i.add,i);this.group.add(i.getGroup());Dy(e2,function(cc){if(PI.get(cc+".show")&&!m.scale.isBlank()){this["_"+cc](PI,Z,Z2,v,XY)}},this)},_splitLine:function(WH,Z,g1,v,cc){var PI=WH.getModel("splitLine");var k=PI.getModel("lineStyle");var m=k.get("color");var XY=0;m=m instanceof Array?m:[m];var g2=[];for(var Z2=0;Z2<cc.length;Z2++){var e=(XY++)%m.length;g2[e]=g2[e]||[];g2[e].push(new cE({shape:{cx:Z.cx,cy:Z.cy,r:cc[Z2]},silent:true}))}for(var Z2=0;Z2<g2.length;Z2++){this.group.add(HX(g2[Z2],{style:IK({stroke:m[Z2%m.length],fill:null},k.getLineStyle()),silent:true}))}},_splitArea:function(WH,e,g2,v,g1){var PI=WH.getModel("splitArea");var m=PI.getModel("areaStyle");var cc=m.get("color");var XY=0;cc=cc instanceof Array?cc:[cc];var k=[];var Z=g1[0];for(var Z2=1;Z2<g1.length;Z2++){var g3=(XY++)%cc.length;k[g3]=k[g3]||[];k[g3].push(new LA({shape:{cx:e.cx,cy:e.cy,r0:Z,r:g1[Z2],startAngle:0,endAngle:Math.PI*2},silent:true}));Z=g1[Z2]}for(var Z2=0;Z2<k.length;Z2++){this.group.add(HX(k[Z2],{style:IK({fill:cc[Z2%cc.length]},m.getAreaStyle()),silent:true}))}}});function ep(i,e,Z){return{position:[i.cx,i.cy],rotation:Z/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}var Rg=LK.extend({makeElOption:function(g3,XY,v,k,g2){var i=v.axis;if(i.dim==="angle"){this.animationThreshold=Math.PI/18}var e=i.polar;var m=e.getOtherAxis(i);var cc=m.getExtent();var g1;g1=i["dataTo"+F6(i.dim)](XY);var Z2=k.get("type");if(Z2&&Z2!=="none"){var Z=gG(k);var WH=Cn[Z2](i,e,g1,cc,Z);WH.style=Z;g3.graphicKey=WH.type;g3.pointer=WH}var PI=k.get("label.margin");var g4=fC(XY,v,k,e,PI);cP(g3,v,k,g2,g4)}});function fC(g6,XY,e,m,PI){var cc=XY.axis;var Z2=cc.dataToCoord(g6);var Z=m.getAngleAxis().getExtent()[0];Z=Z/180*Math.PI;var g7=m.getRadiusAxis().getExtent();var g4;var k;var g3;if(cc.dim==="radius"){var v=HZ();eX(v,v,Z);Zc(v,v,[m.cx,m.cy]);g4=Bp([Z2,-PI],v);var WH=XY.getModel("axisLabel").get("rotate")||0;var g5=YS.innerTextLayout(Z,WH*Math.PI/180,-1);k=g5.textAlign;g3=g5.textVerticalAlign}else{var g1=g7[1];g4=m.coordToPoint([g1+PI,Z2]);var i=m.cx;var g2=m.cy;k=Math.abs(g4[0]-i)/g1<0.3?"center":(g4[0]>i?"left":"right");g3=Math.abs(g4[1]-g2)/g1<0.3?"middle":(g4[1]>g2?"top":"bottom")}return{position:g4,align:k,verticalAlign:g3}}var Cn={line:function(m,Z,k,i,e){return m.dim==="angle"?{type:"Line",shape:gf(Z.coordToPoint([i[0],k]),Z.coordToPoint([i[1],k]))}:{type:"Circle",shape:{cx:Z.cx,cy:Z.cy,r:k}}},shadow:function(PI,Z,v,k,i){var m=PI.getBandWidth();var e=Math.PI/180;return PI.dim==="angle"?{type:"Sector",shape:Wt(Z.cx,Z.cy,k[0],k[1],(-v-m/2)*e,(-v+m/2)*e)}:{type:"Sector",shape:Wt(Z.cx,Z.cy,v-m/2,v+m/2,0,Math.PI*2)}}};O7.registerAxisPointerClass("PolarAxisPointer",Rg);gH(c3(Z9,"bar"));ec({type:"polar"});var FP=Dt.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(Z){Dt.prototype.init.apply(this,arguments);XI(Z,"label",["show"])},optionUpdated:function(){var Z=this.option;var e=this;Z.regions=bh.getFilledRegions(Z.regions,Z.map,Z.nameMap);this._optionModelMap=Pr(Z.regions||[],function(i,k){if(k.name){i.set(k.name,new fx(k,e))}return i},Fj());this.updateSelectedMap(Z.regions)},defaultOption:{zlevel:0,z:0,show:true,left:"center",top:"center",aspectScale:0.75,silent:false,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:false,color:"#000"},itemStyle:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:true,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(Z){return this._optionModelMap.get(Z)||new fx(null,this,this.ecModel)},getFormattedLabel:function(i,m){var e=this.getRegionModel(i);var Z=e.get("label."+m+".formatter");var k={name:i};if(typeof Z==="function"){k.status=m;return Z(k)}else{if(typeof Z==="string"){return Z.replace("{a}",i!=null?i:"")}}},setZoom:function(Z){this.option.zoom=Z},setCenter:function(Z){this.option.center=Z}});eG(FP,QP);ec({type:"geo",init:function(Z,i){var e=new aZ(i,true);this._mapDraw=e;this.group.add(e.group)},render:function(e,Z,m,i){if(i&&i.type==="geoToggleSelect"&&i.from===this.uid){return}var k=this._mapDraw;if(e.get("show")){k.draw(e,Z,m,this,i)}else{this._mapDraw.group.removeAll()}this.group.silent=e.get("silent")},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});function Yn(Z,e){e.update="updateView";S9(e,function(k,i){var m={};i.eachComponent({mainType:"geo",query:k},function(v){v[Z](k.name);var PI=v.coordinateSystem;Dy(PI.regions,function(WH){m[WH.name]=v.isSelected(WH.name)||false})});return{selected:m,name:k.name}})}Yn("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});Yn("select",{type:"geoSelect",event:"geoselected"});Yn("unSelect",{type:"geoUnSelect",event:"geounselected"});var Ij=["rect","polygon","keep","clear"];var gr=function(m,v){var e=m&&m.brush;if(!cW(e)){e=e?[e]:[]}if(!e.length){return}var WH=[];Dy(e,function(Z2){var XY=Z2.hasOwnProperty("toolbox")?Z2.toolbox:[];if(XY instanceof Array){WH=WH.concat(XY)}});var PI=m&&m.toolbox;if(cW(PI)){PI=PI[0]}if(!PI){PI={feature:{}};m.toolbox=[PI]}var i=(PI.feature||(PI.feature={}));var Z=i.brush||(i.brush={});var k=Z.type||(Z.type=[]);k.push.apply(k,WH);Xa(k);if(v&&!k.length){k.push.apply(k,Ij)}};function Xa(Z){var e={};Dy(Z,function(i){e[i]=1});Z.length=0;Dy(e,function(k,i){Z.push(i)})}var Up=Dy;function YE(Z){if(Z){for(var e in Z){if(Z.hasOwnProperty(e)){return true}}}}function g(Z,k,i){var e={};Up(k,function(PI){var v=e[PI]=m();Up(Z[PI],function(Z2,XY){if(!Oi.isValidType(XY)){return}var WH={type:XY,visual:Z2};i&&i(WH,PI);v[XY]=new Oi(WH);if(XY==="opacity"){WH=fJ(WH);WH.type="colorAlpha";v.__hidden.__alphaForOpacity=new Oi(WH)}})});return e;function m(){var PI=function(){};PI.prototype.__hidden=PI.prototype;var v=new PI();return v}}function CA(k,i,e){var Z;Dy(e,function(m){if(i.hasOwnProperty(m)&&YE(i[m])){Z=true}});Z&&Dy(e,function(m){if(i.hasOwnProperty(m)&&YE(i[m])){k[m]=fJ(i[m])}else{delete k[m]}})}function BI(XY,cc,e,PI,k,i){var m={};Dy(XY,function(g2){var g1=Oi.prepareVisualTypes(cc[g2]);m[g2]=g1});var Z2;function Z(g1){return e.getItemVisual(Z2,g1)}function v(g1,g2){e.setItemVisual(Z2,g1,g2)}if(i==null){e.each(WH)}else{e.each([i],WH)}function WH(g2,g3){Z2=i==null?g2:g3;var g9=e.getRawDataItem(Z2);if(g9&&g9.visualMap===false){return}var g7=PI.call(k,g2);var g6=cc[g7];var g5=m[g7];for(var g4=0,g1=g5.length;g4<g1;g4++){var g8=g5[g4];g6[g8]&&g6[g8].applyVisual(g2,Z,v)}}}function fd(i,e,k,m){var v={};Dy(i,function(WH){var PI=Oi.prepareVisualTypes(e[WH]);v[WH]=PI});function Z(g2,XY){if(m!=null){m=XY.getDimension(m)}function Z2(g9){return XY.getItemVisual(g4,g9)}function g6(g9,ha){XY.setItemVisual(g4,g9,ha)}for(var g4=g2.start;g4<g2.end;g4++){var g8=XY.getRawDataItem(g4);if(g8&&g8.visualMap===false){return}var cc=m!=null?XY.get(m,g4,true):g4;var WH=k(cc);var g5=e[WH];var g3=v[WH];for(var g1=0,PI=g3.length;g1<PI;g1++){var g7=g3[g1];g5[g7]&&g5[g7].applyVisual(cc,Z2,g6)}}}return{progress:Z}}var Gi={lineX:ge(0),lineY:ge(1),rect:{point:function(e,Z,i){return e&&i.boundingRect.contain(e[0],e[1])},rect:function(e,Z,i){return e&&i.boundingRect.intersect(e)}},polygon:{point:function(e,Z,i){return e&&i.boundingRect.contain(e[0],e[1])&&Q5(i.range,e[0],e[1])},rect:function(WH,XY,k){var i=k.range;if(!WH||i.length<=1){return false}var v=WH.x;var PI=WH.y;var m=WH.width;var e=WH.height;var Z=i[0];if(Q5(i,v,PI)||Q5(i,v+m,PI)||Q5(i,v,PI+e)||Q5(i,v+m,PI+e)||FY.create(WH).contain(Z[0],Z[1])||Oq(v,PI,v+m,PI,i)||Oq(v,PI,v,PI+e,i)||Oq(v+m,PI,v+m,PI+e,i)||Oq(v,PI+e,v+m,PI+e,i)){return true}}}};function ge(e){var Z=["x","y"];var i=["width","height"];return{point:function(v,m,WH){if(v){var PI=WH.range;var k=v[e];return Z8(k,PI)}},rect:function(v,k,WH){if(v){var PI=WH.range;var m=[v[Z[e]],v[Z[e]]+v[i[e]]];m[1]<m[0]&&m.reverse();return Z8(m[0],PI)||Z8(m[1],PI)||Z8(PI[0],m)||Z8(PI[1],m)}}}}function Z8(Z,e){return e[0]<=Z&&Z<=e[1]}function Oq(k,e,WH,XY,PI){for(var m=0,v=PI[PI.length-1];m<PI.length;m++){var Z=PI[m];if(U8(k,e,WH,XY,Z[0],Z[1],v[0],v[1])){return true}v=Z}}function U8(k,cc,PI,v,e,i,m,WH){var Z2=Bb(PI-k,e-m,v-cc,i-WH);if(ID(Z2)){return false}var XY=Bb(e-k,e-m,i-cc,i-WH)/Z2;if(XY<0||XY>1){return false}var Z=Bb(PI-k,e-k,v-cc,i-cc)/Z2;if(Z<0||Z>1){return false}return true}function ID(Z){return Z<=(1e-06)&&Z>=-(1e-06)}function Bb(i,k,Z,e){return i*e-k*Z}var aq=Dy;var Fq=FT;var UF=c3;var Sc=["dataToPoint","pointToData"];var BP=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function Hc(Z,i,e){var k=this._targetInfoList=[];var m={};var v=Kj(i,Z);aq(O2,function(WH,PI){if(!e||!e.include||Fq(e.include,PI)>=0){WH(v,k,m)}})}var Ho=Hc.prototype;Ho.setOutputRanges=function(Z,e){this.matchOutputRanges(Z,e,function(v,i,m){(v.coordRanges||(v.coordRanges=[])).push(i);if(!v.coordRange){v.coordRange=i;var k=P1[v.brushType](0,m,i);v.__rangeOffset={offset:HN[v.brushType](k.values,v.range,[1,1]),xyMinMax:k.xyMinMax}}})};Ho.matchOutputRanges=function(e,i,Z){aq(e,function(m){var k=this.findTargetInfo(m,i);if(k&&k!==true){Dy(k.coordSyses,function(PI){var v=P1[m.brushType](1,PI,m.range);Z(m,v.values,PI,i)})}},this)};Ho.setInputRanges=function(Z,e){aq(Z,function(v){var m=this.findTargetInfo(v,e);if(W1){SR(!m||m===true||v.coordRange,"coordRange must be specified when coord index specified.");SR(!m||m!==true||v.range,"range must be specified in global brush.")}v.range=v.range||[];if(m&&m!==true){v.panelId=m.panelId;var i=P1[v.brushType](0,m.coordSys,v.coordRange);var k=v.__rangeOffset;v.range=k?HN[v.brushType](i.values,k.offset,Hb(i.xyMinMax,k.xyMinMax)):i.values}},this)};Ho.makePanelOpts=function(Z,e){return QL(this._targetInfoList,function(k){var i=k.getPanelRect();return{panelId:k.panelId,defaultBrushType:e&&e(k),clipPath:ZC(i),isTargetByCursor:RP(i,Z,k.coordSysModel),getLinearBrushOtherExtent:Ls(i)}})};Ho.controlSeries=function(k,Z,e){var i=this.findTargetInfo(k,e);return i===true||(i&&Fq(i.coordSyses,Z.coordinateSystem)>=0)};Ho.findTargetInfo=function(WH,k){var m=this._targetInfoList;var e=Kj(k,WH);for(var Z=0;Z<m.length;Z++){var PI=m[Z];var v=WH.panelId;if(v){if(PI.panelId===v){return PI}}else{for(var Z=0;Z<Xz.length;Z++){if(Xz[Z](e,PI)){return PI}}}}return true};function LJ(Z){Z[0]>Z[1]&&Z.reverse();return Z}function Kj(e,Z){return Jh(e,Z,{includeMainTypes:BP})}var O2={grid:function(m,i){var WH=m.xAxisModels;var PI=m.yAxisModels;var k=m.gridModels;var v=Fj();var Z={};var e={};if(!WH&&!PI&&!k){return}aq(WH,function(Z2){var XY=Z2.axis.grid.model;v.set(XY.id,XY);Z[XY.id]=true});aq(PI,function(Z2){var XY=Z2.axis.grid.model;v.set(XY.id,XY);e[XY.id]=true});aq(k,function(XY){v.set(XY.id,XY);Z[XY.id]=true;e[XY.id]=true});v.each(function(XY){var cc=XY.coordinateSystem;var Z2=[];aq(cc.getCartesians(),function(g2,g1){if(Fq(WH,g2.getAxis("x").model)>=0||Fq(PI,g2.getAxis("y").model)>=0){Z2.push(g2)}});i.push({panelId:"grid--"+XY.id,gridModel:XY,coordSysModel:XY,coordSys:Z2[0],coordSyses:Z2,getPanelRect:QU.grid,xAxisDeclared:Z[XY.id],yAxisDeclared:e[XY.id]})})},geo:function(Z,e){aq(Z.geoModels,function(i){var k=i.coordinateSystem;e.push({panelId:"geo--"+i.id,geoModel:i,coordSysModel:i,coordSys:k,coordSyses:[k],getPanelRect:QU.geo})})}};var Xz=[function(i,k){var m=i.xAxisModel;var Z=i.yAxisModel;var e=i.gridModel;!e&&m&&(e=m.axis.grid.model);!e&&Z&&(e=Z.axis.grid.model);return e&&e===k.gridModel},function(Z,i){var e=Z.geoModel;return e&&e===i.geoModel}];var QU={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var Z=this.coordSys;var e=Z.getBoundingRect().clone();e.applyTransform(l(Z));return e}};var P1={lineX:UF(a4,0),lineY:UF(a4,1),rect:function(e,i,k){var Z=i[Sc[e]]([k[0][0],k[1][0]]);var v=i[Sc[e]]([k[0][1],k[1][1]]);var m=[LJ([Z[0],v[0]]),LJ([Z[1],v[1]])];return{values:m,xyMinMax:m}},polygon:function(Z,e,i){var m=[[Infinity,-Infinity],[Infinity,-Infinity]];var k=QL(i,function(PI){var v=e[Sc[Z]](PI);m[0][0]=Math.min(m[0][0],v[0]);m[1][0]=Math.min(m[1][0],v[1]);m[0][1]=Math.max(m[0][1],v[0]);m[1][1]=Math.max(m[1][1],v[1]);return v});return{values:k,xyMinMax:m}}};function a4(k,e,i,m){if(W1){SR(i.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.")}var PI=i.getAxis(["x","y"][k]);var v=LJ(QL([0,1],function(WH){return e?PI.coordToData(PI.toLocalCoord(m[WH])):PI.toGlobalCoord(PI.dataToCoord(m[WH]))}));var Z=[];Z[k]=v;Z[1-k]=[NaN,NaN];return{values:v,xyMinMax:Z}}var HN={lineX:UF(W5,0),lineY:UF(W5,1),rect:function(i,e,Z){return[[i[0][0]-Z[0]*e[0][0],i[0][1]-Z[0]*e[0][1]],[i[1][0]-Z[1]*e[1][0],i[1][1]-Z[1]*e[1][1]]]},polygon:function(i,e,Z){return QL(i,function(k,m){return[k[0]-Z[0]*e[m][0],k[1]-Z[1]*e[m][1]]})}};function W5(e,i,k,Z){return[i[0]-Z[e]*k[0],i[1]-Z[e]*k[1]]}function Hb(m,Z){var k=Eo(m);var e=Eo(Z);var i=[k[0]/e[0],k[1]/e[1]];isNaN(i[0])&&(i[0]=1);isNaN(i[1])&&(i[1]=1);return i}function Eo(Z){return Z?[Z[0][1]-Z[0][0],Z[1][1]-Z[1][0]]:[NaN,NaN]}var AA=["inBrush","outOfBrush"];var ao="__ecBrushSelect";var Zr="__ecInBrushSelectEvent";var ch=eK.VISUAL.BRUSH;gH(ch,function(Z,i,e){Z.eachComponent({mainType:"brush"},function(m){e&&e.type==="takeGlobalCursor"&&m.setBrushOption(e.key==="brush"?e.brushOption:{brushType:false});var k=m.brushTargetManager=new Hc(m.option,Z);k.setInputRanges(m.areas,Z)})});Ao(ch,function(e,v,i){var m=[];var Z;var k;e.eachComponent({mainType:"brush"},function(g7,Z2){var g1={brushId:g7.id,brushIndex:Z2,brushName:g7.name,areas:fJ(g7.areas),selected:[]};m.push(g1);var g8=g7.option;var g3=g8.brushLink;var PI=[];var g6=[];var g2=[];var g9=0;if(!Z2){Z=g8.throttleType;k=g8.throttleDelay}var g5=QL(g7.areas,function(hb){return Zm(IK({boundingRect:bD[hb.brushType](hb)},hb))});var ha=g(g7.option,AA,function(hb){hb.mappingMethod="fixed"});cW(g3)&&Dy(g3,function(hb){PI[hb]=1});function g4(hb){return g3==="all"||PI[hb]}function cc(hb){return !!hb.length}e.eachSeries(function(hb,hc){var hd=g2[hc]=[];hb.subType==="parallel"?XY(hb,hc,hd):WH(hb,hc,hd)});function XY(hb,hc){var hd=hb.coordinateSystem;g9|=hd.hasAxisBrushed();g4(hc)&&hd.eachActiveState(hb.getData(),function(he,hf){he==="active"&&(g6[hf]=1)})}function WH(hb,hc,he){var hd=Om(hb);if(!hd||Xh(g7,hc)){return}Dy(g5,function(hg){hd[hg.brushType]&&g7.brushTargetManager.controlSeries(hg,hb,e)&&he.push(hg);g9|=cc(he)});if(g4(hc)&&cc(he)){var hf=hb.getData();hf.each(function(hg){if(So(hd,he,hf,hg)){g6[hg]=1}})}}e.eachSeries(function(hc,hd){var he={seriesId:hc.id,seriesIndex:hd,seriesName:hc.name,dataIndex:[]};g1.selected.push(he);var hf=Om(hc);var hg=g2[hd];var hh=hc.getData();var hb=g4(hd)?function(hi){return g6[hi]?(he.dataIndex.push(hh.getRawIndex(hi)),"inBrush"):"outOfBrush"}:function(hi){return So(hf,hg,hh,hi)?(he.dataIndex.push(hh.getRawIndex(hi)),"inBrush"):"outOfBrush"};(g4(hd)?g9:cc(hg))&&BI(AA,ha,hh,hb)})});cj(v,Z,k,m,i)});function cj(PI,Z,m,v,k){if(!k){return}var e=PI.getZr();if(e[Zr]){return}if(!e[ao]){e[ao]=Gx}var i=YN(e,ao,m,Z);i(PI,v)}function Gx(i,e){if(!i.isDisposed()){var Z=i.getZr();Z[Zr]=true;i.dispatchAction({type:"brushSelect",batch:e});Z[Zr]=false}}function So(v,PI,WH,Z){for(var e=0,m=PI.length;e<m;e++){var k=PI[e];if(v[k.brushType](Z,WH,k.selectors,k)){return true}}}function Om(Z){var i=Z.brushSelector;if(Ei(i)){var e=[];Dy(Gi,function(m,v){e[v]=function(PI,cc,XY,WH){var Z2=cc.getItemLayout(PI);return m[i](Z2,XY,WH)}});return e}else{if(Pl(i)){var k={};Dy(Gi,function(m,v){k[v]=i});return k}}return i}function Xh(e,Z){var i=e.option.seriesIndex;return i!=null&&i!=="all"&&(cW(i)?FT(i,Z)<0:Z!==i)}function Zm(e){var Z=e.selectors={};Dy(Gi[e.brushType],function(k,i){Z[i]=function(m){return k(m,Z,e)}});return e}var bD={lineX:gw,lineY:gw,rect:function(Z){return aV(Z.range)},polygon:function(PI){var e;var v=PI.range;for(var Z=0,m=v.length;Z<m;Z++){e=e||[[Infinity,-Infinity],[Infinity,-Infinity]];var k=v[Z];k[0]<e[0][0]&&(e[0][0]=k[0]);k[0]>e[0][1]&&(e[0][1]=k[0]);k[1]<e[1][0]&&(e[1][0]=k[1]);k[1]>e[1][1]&&(e[1][1]=k[1])}return e&&aV(e)}};function aV(Z){return new FY(Z[0][0],Z[1][0],Z[0][1]-Z[0][0],Z[1][1]-Z[1][0])}var Je=["#ddd"];var bX=Hl({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:true,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:true,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(Z,e){var i=this.option;!e&&CA(i,Z,["inBrush","outOfBrush"]);i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:Je}},setAreas:function(Z){if(W1){SR(cW(Z));Dy(Z,function(e){SR(e.brushType,"Illegal areas")})}if(!Z){return}this.areas=QL(Z,function(e){return Vy(this.option,e)},this)},setBrushOption:function(Z){this.brushOption=Vy(this.option,Z);this.brushType=this.brushOption.brushType}});function Vy(Z,e){return LB({brushType:Z.brushType,brushMode:Z.brushMode,transformable:Z.transformable,brushStyle:new fx(Z.brushStyle).getItemStyle(),removeOnClick:Z.removeOnClick,z:Z.z},e,true)}ec({type:"brush",init:function(Z,e){this.ecModel=Z;this.api=e;this.model;(this._brushController=new YD(e.getZr())).on("brush",ei(this._onBrush,this)).mount()},render:function(Z){this.model=Z;return Gf.apply(this,arguments)},updateTransform:Gf,updateView:Gf,dispose:function(){this._brushController.dispose()},_onBrush:function(Z,e){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(Z,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:fJ(Z),$from:i})}});function Gf(i,e,k,Z){(!Z||Z.$from!==i.id)&&this._brushController.setPanels(i.brushTargetManager.makePanelOpts(k)).enableBrush(i.brushOption).updateCovers(i.areas.slice())}S9({type:"brush",event:"brush"},function(e,Z){Z.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})});S9({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var fL={};function Fk(e,Z){fL[e]=Z}function RX(Z){return fL[Z]}var CV=Xb.toolbox.brush;function Cl(i,Z,e){this.model=i;this.ecModel=Z;this.api=e;this._brushType;this._brushMode}Cl.defaultOption={show:true,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:fJ(CV.title)};var Hp=Cl.prototype;Hp.render=Hp.updateView=function(m,Z,v){var e;var k;var i;Z.eachComponent({mainType:"brush"},function(PI){e=PI.brushType;k=PI.brushOption.brushMode||"single";i|=PI.areas.length});this._brushType=e;this._brushMode=k;Dy(m.get("type",true),function(PI){m.setIconStatus(PI,(PI==="keep"?k==="multiple":PI==="clear"?i:PI===e)?"emphasis":"normal")})};Hp.getIcons=function(){var e=this.model;var i=e.get("icon",true);var Z={};Dy(e.get("type",true),function(k){if(i[k]){Z[k]=i[k]}});return Z};Hp.onclick=function(e,m,Z){var k=this._brushType;var i=this._brushMode;if(Z==="clear"){m.dispatchAction({type:"axisAreaSelect",intervals:[]});m.dispatchAction({type:"brush",command:"clear",areas:[]})}else{m.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:Z==="keep"?k:(k===Z?false:Z),brushMode:Z==="keep"?(i==="multiple"?"single":"multiple"):i}})}};Fk("brush",Cl);Jo(gr);var Ae=86400000;function W2(Z,e,i){this._model=Z}W2.prototype={constructor:W2,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(v){v=A0(v);var k=v.getFullYear();var i=v.getMonth()+1;i=i<10?"0"+i:i;var Z=v.getDate();Z=Z<10?"0"+Z:Z;var e=v.getDay();e=Math.abs((e+7-this.getFirstDayOfWeek())%7);return{y:k,m:i,d:Z,day:e,time:v.getTime(),formatedDate:k+"-"+i+"-"+Z,date:v}},getNextNDay:function(e,Z){Z=Z||0;if(Z===0){return this.getDateInfo(e)}e=new Date(this.getDateInfo(e).time);e.setDate(e.getDate()+Z);return this.getDateInfo(e)},update:function(e,XY){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var v=this._rangeInfo.weeks||1;var Z=["width","height"];var i=this._model.get("cellSize").slice();var PI=this._model.getBoxLayoutParams();var Z2=this._orient==="horizontal"?[v,7]:[7,v];Dy([0,1],function(cc){if(m(i,cc)){PI[Z[cc]]=i[cc]*Z2[cc]}});var WH={width:XY.getWidth(),height:XY.getHeight()};var k=this._rect=CU(PI,WH);Dy([0,1],function(cc){if(!m(i,cc)){i[cc]=k[Z[cc]]/Z2[cc]}});function m(cc,g1){return cc[g1]!=null&&cc[g1]!=="auto"}this._sw=i[0];this._sh=i[1]},dataToPoint:function(PI,i){cW(PI)&&(PI=PI[0]);i==null&&(i=true);var e=this.getDateInfo(PI);var v=this._rangeInfo;var m=e.formatedDate;if(i&&!(e.time>=v.start.time&&e.time<=v.end.time)){return[NaN,NaN]}var Z=e.day;var k=this._getRangeInfo([v.start.time,m]).nthWeek;if(this._orient==="vertical"){return[this._rect.x+Z*this._sw+this._sw/2,this._rect.y+k*this._sh+this._sh/2]}return[this._rect.x+k*this._sw+this._sw/2,this._rect.y+Z*this._sh+this._sh/2]},pointToData:function(Z){var e=this.pointToDate(Z);return e&&e.time},dataToRect:function(i,e){var Z=this.dataToPoint(i,e);return{contentShape:{x:Z[0]-(this._sw-this._lineWidth)/2,y:Z[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:Z,tl:[Z[0]-this._sw/2,Z[1]-this._sh/2],tr:[Z[0]+this._sw/2,Z[1]-this._sh/2],br:[Z[0]+this._sw/2,Z[1]+this._sh/2],bl:[Z[0]-this._sw/2,Z[1]+this._sh/2]}},pointToDate:function(e){var Z=Math.floor((e[0]-this._rect.x)/this._sw)+1;var i=Math.floor((e[1]-this._rect.y)/this._sh)+1;var k=this._rangeInfo.range;if(this._orient==="vertical"){return this._getDateByWeeksAndDay(i,Z-1,k)}return this._getDateByWeeksAndDay(Z,i-1,k)},convertToPixel:c3(Kp,"dataToPoint"),convertFromPixel:c3(Kp,"pointToData"),_initRangeOption:function(){var m=this._model.get("range");var i=m;if(cW(i)&&i.length===1){i=i[0]}if(/^\d{4}$/.test(i)){m=[i+"-01-01",i+"-12-31"]}if(/^\d{4}[\/|-]\d{1,2}$/.test(i)){var v=this.getDateInfo(i);var e=v.date;e.setMonth(e.getMonth()+1);var k=this.getNextNDay(e,-1);m=[v.formatedDate,k.formatedDate]}if(/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)){m=[i,i]}var Z=this._getRangeInfo(m);if(Z.start.time>Z.end.time){m.reverse()}return m},_getRangeInfo:function(WH){WH=[this.getDateInfo(WH[0]),this.getDateInfo(WH[1])];var m;if(WH[0].time>WH[1].time){m=true;WH.reverse()}var XY=Math.floor(WH[1].time/Ae)-Math.floor(WH[0].time/Ae)+1;var i=new Date(WH[0].time);var k=i.getDate();var e=WH[1].date.getDate();i.setDate(k+XY-1);if(i.getDate()!==e){var v=i.getTime()-WH[1].time>0?1:-1;while(i.getDate()!==e&&(i.getTime()-WH[1].time)*v>0){XY-=v;i.setDate(k+XY-1)}}var PI=Math.floor((XY+WH[0].day+6)/7);var Z=m?-PI+1:PI-1;m&&WH.reverse();return{range:[WH[0].formatedDate,WH[1].formatedDate],start:WH[0],end:WH[1],allDay:XY,weeks:PI,nthWeek:Z,fweek:WH[0].day,lweek:WH[1].day}},_getDateByWeeksAndDay:function(k,i,v){var m=this._getRangeInfo(v);if(k>m.weeks||(k===0&&i<m.fweek)||(k===m.weeks&&i>m.lweek)){return false}var Z=(k-1)*7-m.fweek+i;var e=new Date(m.start.time);e.setDate(m.start.d+Z);return this.getDateInfo(e)}};W2.dimensions=W2.prototype.dimensions;W2.getDimensionsInfo=W2.prototype.getDimensionsInfo;W2.create=function(Z,i){var e=[];Z.eachComponent("calendar",function(m){var k=new W2(m,Z,i);e.push(k);m.coordinateSystem=k});Z.eachSeries(function(k){if(k.get("coordinateSystem")==="calendar"){k.coordinateSystem=e[k.get("calendarIndex")||0]}});return e};function Kp(i,e,v,m){var Z=v.calendarModel;var k=v.seriesModel;var PI=Z?Z.coordinateSystem:k?k.coordinateSystem:null;return PI===this?PI[i](m):null}Rn.register("calendar",W2);var Mu=Dt.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:true,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:true,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:true,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:true,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,m,i,k){var Z=ZT(e);Mu.superApply(this,"init",arguments);X9(e,Z)},mergeOption:function(Z,e){Mu.superApply(this,"mergeOption",arguments);X9(this.option,Z)}});function X9(i,k){var e=i.cellSize;if(!cW(e)){e=i.cellSize=[e,e]}else{if(e.length===1){e[1]=e[0]}}var Z=QL([0,1],function(m){if(UQ(k,m)){e[m]="auto"}return e[m]!=null&&e[m]!=="auto"});c7(i,k,{type:"box",ignoreSize:Z})}var Gm={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]};var Cj={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};ec({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(Z,i,v){var m=this.group;m.removeAll();var k=Z.coordinateSystem;var e=k.getRangeInfo();var PI=k.getOrient();this._renderDayRect(Z,e,m);this._renderLines(Z,e,PI,m);this._renderYearText(Z,e,PI,m);this._renderMonthText(Z,PI,m);this._renderWeekText(Z,e,PI,m)},_renderDayRect:function(m,k,PI){var Z=m.coordinateSystem;var WH=m.getModel("itemStyle").getItemStyle();var v=Z.getCellWidth();var Z2=Z.getCellHeight();for(var XY=k.start.time;XY<=k.end.time;XY=Z.getNextNDay(XY,1).time){var cc=Z.dataToRect([XY],false).tl;var e=new Fm({shape:{x:cc[0],y:cc[1],width:v,height:Z2},cursor:"default",style:WH});PI.add(e)}},_renderLines:function(m,k,XY,WH){var g1=this;var Z=m.coordinateSystem;var e=m.getModel("splitLine.lineStyle").getLineStyle();var g3=m.get("splitLine.show");var Z2=e.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];var v=k.start;for(var PI=0;v.time<=k.end.time;PI++){cc(v.formatedDate);if(PI===0){v=Z.getDateInfo(k.start.y+"-"+k.start.m)}var g2=v.date;g2.setMonth(g2.getMonth()+1);v=Z.getDateInfo(g2)}cc(Z.getNextNDay(k.end.time,1).formatedDate);function cc(g4){g1._firstDayOfMonth.push(Z.getDateInfo(g4));g1._firstDayPoints.push(Z.dataToRect([g4],false).tl);var i=g1._getLinePointsOfOneWeek(m,g4,XY);g1._tlpoints.push(i[0]);g1._blpoints.push(i[i.length-1]);g3&&g1._drawSplitline(i,e,WH)}g3&&this._drawSplitline(g1._getEdgesPoints(g1._tlpoints,Z2,XY),e,WH);g3&&this._drawSplitline(g1._getEdgesPoints(g1._blpoints,Z2,XY),e,WH)},_getEdgesPoints:function(i,k,m){var Z=[i[0].slice(),i[i.length-1].slice()];var e=m==="horizontal"?0:1;Z[0][e]=Z[0][e]-k/2;Z[1][e]=Z[1][e]+k/2;return Z},_drawSplitline:function(i,e,Z){var k=new JI({z2:20,shape:{points:i},style:e});Z.add(k)},_getLinePointsOfOneWeek:function(e,XY,m){var Z=e.coordinateSystem;XY=Z.getDateInfo(XY);var v=[];for(var k=0;k<7;k++){var WH=Z.getNextNDay(XY.time,k);var PI=Z.dataToRect([WH.time],false);v[2*WH.day]=PI.tl;v[2*WH.day+1]=PI[m==="horizontal"?"bl":"tr"]}return v},_formatterLabel:function(Z,e){if(typeof Z==="string"&&Z){return Go(Z,e)}if(typeof Z==="function"){return Z(e)}return e.nameMap},_yearTextPositionControl:function(PI,i,v,k,Z){i=i.slice();var e=["center","bottom"];if(k==="bottom"){i[1]+=Z;e=["center","top"]}else{if(k==="left"){i[0]-=Z}else{if(k==="right"){i[0]+=Z;e=["center","top"]}else{i[1]-=Z}}}var m=0;if(k==="left"||k==="right"){m=Math.PI/2}return{rotation:m,position:i,style:{textAlign:e[0],textVerticalAlign:e[1]}}},_renderYearText:function(PI,XY,WH,g3){var m=PI.getModel("yearLabel");if(!m.get("show")){return}var v=m.get("margin");var g5=m.get("position");if(!g5){g5=WH!=="horizontal"?"top":"left"}var Z2=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]];var i=(Z2[0][0]+Z2[1][0])/2;var k=(Z2[0][1]+Z2[1][1])/2;var g6=WH==="horizontal"?0:1;var cc={top:[i,Z2[g6][1]],bottom:[i,Z2[1-g6][1]],left:[Z2[1-g6][0],k],right:[Z2[g6][0],k]};var g4=XY.start.y;if(+XY.end.y>+XY.start.y){g4=g4+"-"+XY.end.y}var e=m.get("formatter");var g2={start:XY.start.y,end:XY.end.y,nameMap:g4};var g1=this._formatterLabel(e,g2);var Z=new FW({z2:30});DQ(Z.style,m,{text:g1}),Z.attr(this._yearTextPositionControl(Z,cc[g5],WH,g5,v));g3.add(Z)},_monthTextPositionControl:function(WH,e,k,m,Z){var i="left";var XY="top";var v=WH[0];var PI=WH[1];if(k==="horizontal"){PI=PI+Z;if(e){i="center"}if(m==="start"){XY="bottom"}}else{v=v+Z;if(e){XY="middle"}if(m==="start"){i="right"}}return{x:v,y:PI,textAlign:i,textVerticalAlign:XY}},_renderMonthText:function(cc,XY,g5){var hb=cc.getModel("monthLabel");if(!hb.get("show")){return}var Z2=hb.get("nameMap");var v=hb.get("margin");var g8=hb.get("position");var k=hb.get("align");var Z=[this._tlpoints,this._blpoints];if(Ei(Z2)){Z2=Gm[Z2.toUpperCase()]||[]}var g9=g8==="start"?0:1;var g3=XY==="horizontal"?0:1;v=g8==="start"?-v:v;var g2=(k==="center");for(var WH=0;WH<Z[g9].length-1;WH++){var e=Z[g9][WH].slice();var PI=this._firstDayOfMonth[WH];if(g2){var g6=this._firstDayPoints[WH];e[g3]=(g6[g3]+Z[0][WH+1][g3])/2}var g1=hb.get("formatter");var g7=Z2[+PI.m-1];var g4={yyyy:PI.y,yy:(PI.y+"").slice(2),MM:PI.m,M:+PI.m,nameMap:g7};var m=this._formatterLabel(g1,g4);var ha=new FW({z2:30});XN(DQ(ha.style,hb,{text:m}),this._monthTextPositionControl(e,g2,XY,g8,v));g5.add(ha)}},_weekTextPositionControl:function(WH,k,m,Z,i){var e="center";var Z2="middle";var v=WH[0];var PI=WH[1];var XY=m==="start";if(k==="horizontal"){v=v+Z+(XY?1:-1)*i[0]/2;e=XY?"right":"left"}else{PI=PI+Z+(XY?1:-1)*i[1]/2;Z2=XY?"bottom":"top"}return{x:v,y:PI,textAlign:e,textVerticalAlign:Z2}},_renderWeekText:function(v,cc,WH,g3){var g4=v.getModel("dayLabel");if(!g4.get("show")){return}var g1=v.coordinateSystem;var g6=g4.get("position");var Z2=g4.get("nameMap");var m=g4.get("margin");var Z=g1.getFirstDayOfWeek();if(Ei(Z2)){Z2=Cj[Z2.toUpperCase()]||[]}var g7=g1.getNextNDay(cc.end.time,(7-cc.lweek)).time;var e=[g1.getCellWidth(),g1.getCellHeight()];m=Pw(m,e[WH==="horizontal"?0:1]);if(g6==="start"){g7=g1.getNextNDay(cc.start.time,-(7+cc.fweek)).time;m=-m}for(var PI=0;PI<7;PI++){var g2=g1.getNextNDay(g7,PI);var k=g1.dataToRect([g2.time],false).center;var g5=PI;g5=Math.abs((PI+Z)%7);var XY=new FW({z2:30});XN(DQ(XY.style,g4,{text:Z2[g5]}),this._weekTextPositionControl(k,WH,g6,m,e));g3.add(XY)}}});Hl({type:"title",layoutMode:{type:"box",ignoreSize:true},defaultOption:{zlevel:0,z:6,show:true,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});ec({type:"title",render:function(cc,i,m){this.group.removeAll();if(!cc.get("show")){return}var g3=this.group;var XY=cc.getModel("textStyle");var g6=cc.getModel("subtextStyle");var PI=cc.get("textAlign");var e=cc.get("textBaseline");var g7=new FW({style:DQ({},XY,{text:cc.get("text"),textFill:XY.getTextColor()},{disableBox:true}),z2:10});var ha=g7.getBoundingRect();var g8=cc.get("subtext");var g5=new FW({style:DQ({},g6,{text:g8,textFill:g6.getTextColor(),y:ha.height+cc.get("itemGap"),textVerticalAlign:"top"},{disableBox:true}),z2:10});var g1=cc.get("link");var g4=cc.get("sublink");g7.silent=!g1;g5.silent=!g4;if(g1){g7.on("click",function(){window.open(g1,"_"+cc.get("target"))})}if(g4){g5.on("click",function(){window.open(g4,"_"+cc.get("subtarget"))})}g3.add(g7);g8&&g3.add(g5);var k=g3.getBoundingRect();var WH=cc.getBoxLayoutParams();WH.width=k.width;WH.height=k.height;var g2=CU(WH,{width:m.getWidth(),height:m.getHeight()},cc.get("padding"));if(!PI){PI=cc.get("left")||cc.get("right");if(PI==="middle"){PI="center"}if(PI==="right"){g2.x+=g2.width}else{if(PI==="center"){g2.x+=g2.width/2}}}if(!e){e=cc.get("top")||cc.get("bottom");if(e==="center"){e="middle"}if(e==="bottom"){g2.y+=g2.height}else{if(e==="middle"){g2.y+=g2.height/2}}e=e||"top"}g3.attr("position",[g2.x,g2.y]);var Z={textAlign:PI,textVerticalAlign:e};g7.setStyle(Z);g5.setStyle(Z);k=g3.getBoundingRect();var Z2=g2.margin;var g9=cc.getItemStyle(["color","opacity"]);g9.fill=cc.get("backgroundColor");var v=new Fm({shape:{x:k.x-Z2[3],y:k.y-Z2[0],width:k.width+Z2[1]+Z2[3],height:k.height+Z2[0]+Z2[2],r:cc.get("borderRadius")},style:g9,silent:true});Bj(v);g3.add(v)}});Dt.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var HH=["x","y","z","radius","angle","single"];var Uu=["cartesian2d","polar","singleAxis"];function G4(Z){return FT(Uu,Z)>=0}function Z6(i,Z){i=i.slice();var e=QL(i,F6);Z=(Z||[]).slice();var k=QL(Z,F6);return function(m,v){Dy(i,function(WH,XY){var PI={name:WH,capital:e[XY]};for(var Z2=0;Z2<Z.length;Z2++){PI[Z[Z2]]=WH+k[Z2]}m.call(v,PI)})}}var Is=Z6(HH,["axisIndex","axis","index","id"]);function Qw(Z,k,e){return function(PI){var WH={nodes:[],records:{}};k(function(cc){WH.records[cc.name]={}});if(!PI){return WH}v(PI,WH);var Z2;do{Z2=false;Z(XY)}while(Z2);function XY(cc){if(!i(cc,WH)&&m(cc,WH)){v(cc,WH);Z2=true}}return WH};function i(WH,PI){return FT(PI.nodes,WH)>=0}function m(WH,PI){var XY=false;k(function(Z2){Dy(e(WH,Z2)||[],function(cc){PI.records[Z2.name][cc]&&(XY=true)})});return XY}function v(WH,PI){PI.nodes.push(WH);k(function(XY){Dy(e(WH,XY)||[],function(Z2){PI.records[XY.name][Z2]=true})})}}var Uq=Dy;var F=Jg;var Ac=function(e,k,i,Z){this._dimName=e;this._axisIndex=k;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=Z;this._dataZoomModel=i};Ac.prototype={constructor:Ac,hostedBy:function(Z){return this._dataZoomModel===Z},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[];var Z=this.ecModel;Z.eachSeries(function(i){if(G4(i.get("coordinateSystem"))){var m=this._dimName;var k=Z.queryComponents({mainType:m+"Axis",index:i.get(m+"AxisIndex"),id:i.get(m+"AxisId")})[0];if(this._axisIndex===(k&&k.componentIndex)){e.push(i)}}},this);return e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var v=this._dimName;var i=this.ecModel;var k=this.getAxisModel();var m=v==="x"||v==="y";var e;var Z;if(m){Z="gridIndex";e=v==="x"?"y":"x"}else{Z="polarIndex";e=v==="angle"?"radius":"angle"}var PI;i.eachComponent(e+"Axis",function(WH){if((WH.get(Z)||0)===(k.get(Z)||0)){PI=WH}});return PI},getMinMaxSpan:function(){return fJ(this._minMaxSpan)},calculateDataWindow:function(e){var i=this._dataExtent;var k=this.getAxisModel();var Z=k.axis.scale;var v=this._dataZoomModel.getRangePropMode();var m=[0,100];var PI=[e.start,e.end];var WH=[];Uq(["startValue","endValue"],function(XY){WH.push(e[XY]!=null?Z.parse(e[XY]):null)});Uq([0,1],function(Z2){var XY=WH[Z2];var cc=PI[Z2];if(v[Z2]==="percent"){if(cc==null){cc=m[Z2]}XY=Z.parse(Yv(cc,m,i,true))}else{cc=Yv(XY,i,m,true)}WH[Z2]=XY;PI[Z2]=cc});return{valueWindow:F(WH),percentWindow:F(PI)}},reset:function(i){if(i!==this._dataZoomModel){return}var e=this.getTargetSeriesModels();this._dataExtent=SY(this,this._dimName,e);var Z=this.calculateDataWindow(i.option);this._valueWindow=Z.valueWindow;this._percentWindow=Z.percentWindow;WT(this);Tc(this)},restore:function(Z){if(Z!==this._dataZoomModel){return}this._valueWindow=this._percentWindow=null;Tc(this,true)},filterData:function(v,PI){if(v!==this._dataZoomModel){return}var e=this._dimName;var i=this.getTargetSeriesModels();var m=v.get("filterMode");var Z=this._valueWindow;if(m==="none"){return}Uq(i,function(XY){var Z2=XY.getData();var WH=Z2.mapDimension(e,true);if(m==="weakFilter"){Z2.filterSelf(function(g6){var cc;var g3;var g7;for(var g5=0;g5<WH.length;g5++){var g4=Z2.get(WH[g5],g6);var g2=!isNaN(g4);var g8=g4<Z[0];var g1=g4>Z[1];if(g2&&!g8&&!g1){return true}g2&&(g7=true);g8&&(cc=true);g1&&(g3=true)}return g7&&cc&&g3})}else{Uq(WH,function(cc){if(m==="empty"){XY.setData(Z2.map(cc,function(g2){return !k(g2)?NaN:g2}))}else{var g1={};g1[cc]=Z;Z2.selectRange(g1)}})}Uq(WH,function(cc){Z2.setApproximateExtent(Z,cc)})});function k(WH){return WH>=Z[0]&&WH<=Z[1]}}};function SY(e,i,Z){var k=[Infinity,-Infinity];Uq(Z,function(m){var v=m.getData();if(v){Uq(v.mapDimension(i,true),function(PI){var WH=v.getApproximateExtent(PI);WH[0]<k[0]&&(k[0]=WH[0]);WH[1]>k[1]&&(k[1]=WH[1])})}});if(k[1]<k[0]){k=[NaN,NaN]}ea(e,k);return k}function ea(m,v){var i=m.getAxisModel();var Z=i.getMin(true);var k=i.get("type")==="category";var e=k&&i.getCategories().length;if(Z!=null&&Z!=="dataMin"&&typeof Z!=="function"){v[0]=Z}else{if(k){v[0]=e>0?0:NaN}}var PI=i.getMax(true);if(PI!=null&&PI!=="dataMax"&&typeof PI!=="function"){v[1]=PI}else{if(k){v[1]=e>0?e-1:NaN}}if(!i.get("scale",true)){v[0]>0&&(v[0]=0);v[1]<0&&(v[1]=0)}return v}function Tc(m,PI){var i=m.getAxisModel();var k=m._percentWindow;var Z=m._valueWindow;if(!k){return}var e=di(Z,[0,500]);e=Math.min(e,20);var v=PI||(k[0]===0&&k[1]===100);i.setRange(v?null:+Z[0].toFixed(e),v?null:+Z[1].toFixed(e))}function WT(e){var Z=e._minMaxSpan={};var i=e._dataZoomModel;Uq(["min","max"],function(k){Z[k+"Span"]=i.get(k+"Span");var v=i.get(k+"ValueSpan");if(v!=null){Z[k+"ValueSpan"]=v;v=e.getAxisModel().axis.scale.parse(v);if(v!=null){var m=e._dataExtent;Z[k+"Span"]=Yv(m[0]+v,m,[0,100],true)}}})}var Xq=Dy;var q=Is;var cz=Hl({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(Z,k,i){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=true;this._rangePropMode=["percent","percent"];var e=Qz(Z);this.mergeDefaultAndTheme(Z,i);this.doInit(e)},mergeOption:function(e){var Z=Qz(e);LB(this.option,e,true);this.doInit(Z)},doInit:function(Z){var e=this.option;if(!QH.canvasSupported){e.realtime=false}this._setDefaultThrottle(Z);RY(this,Z);Xq([["start","startValue"],["end","endValue"]],function(k,i){if(this._rangePropMode[i]==="value"){e[k[0]]=null}},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var Z=this._axisProxies;this.eachTargetAxis(function(m,PI,v,i){var k=this.dependentModels[m.axis][PI];var e=k.__dzAxisProxy||(k.__dzAxisProxy=new Ac(m.name,PI,this,i));Z[m.name+"_"+PI]=e},this)},_resetTarget:function(){var e=this.option;var Z=this._judgeAutoMode();q(function(i){var k=i.axisIndex;e[k]=Y1(e[k])},this);if(Z==="axisIndex"){this._autoSetAxisIndex()}else{if(Z==="orient"){this._autoSetOrient()}}},_judgeAutoMode:function(){var i=this.option;var Z=false;q(function(k){if(i[k.axisIndex]!=null){Z=true}},this);var e=i.orient;if(e==null&&Z){return"orient"}else{if(!Z){if(e==null){i.orient="horizontal"}return"axisIndex"}}},_autoSetAxisIndex:function(){var i=true;var k=this.get("orient",true);var m=this.option;var Z=this.dependentModels;if(i){var e=k==="vertical"?"y":"x";if(Z[e+"Axis"].length){m[e+"AxisIndex"]=[0];i=false}else{Xq(Z.singleAxis,function(v){if(i&&v.get("orient",true)===k){m.singleAxisIndex=[v.componentIndex];i=false}})}}if(i){q(function(WH){if(!i){return}var v=[];var Z2=this.dependentModels[WH.axis];if(Z2.length&&!v.length){for(var PI=0,XY=Z2.length;PI<XY;PI++){if(Z2[PI].get("type")==="category"){v.push(PI)}}}m[WH.axisIndex]=v;if(v.length){i=false}},this)}if(i){this.ecModel.eachSeries(function(v){if(this._isSeriesHasAllAxesTypeOf(v,"value")){q(function(XY){var PI=m[XY.axisIndex];var cc=v.get(XY.axisIndex);var Z2=v.get(XY.axisId);var WH=v.ecModel.queryComponents({mainType:XY.axis,index:cc,id:Z2})[0];if(W1){if(!WH){throw new Error(XY.axis+' "'+ER(cc,Z2,0)+'" not found')}}cc=WH.componentIndex;if(FT(PI,cc)<0){PI.push(cc)}})}},this)}},_autoSetOrient:function(){var Z;this.eachTargetAxis(function(e){!Z&&(Z=e.name)},this);this.option.orient=Z==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,i){var Z=true;q(function(v){var k=e.get(v.axisIndex);var m=this.dependentModels[v.axis][k];if(!m||m.get("type")!==i){Z=false}},this);return Z},_setDefaultThrottle:function(Z){if(Z.hasOwnProperty("throttle")){this._autoThrottle=false}if(this._autoThrottle){var e=this.ecModel.option;this.option.throttle=(e.animation&&e.animationDurationUpdate>0)?100:20}},getFirstTargetAxisModel:function(){var Z;q(function(i){if(Z==null){var e=this.get(i.axisIndex);if(e.length){Z=this.dependentModels[i.axis][e[0]]}}},this);return Z},eachTargetAxis:function(Z,e){var i=this.ecModel;q(function(k){Xq(this.get(k.axisIndex),function(m){Z.call(e,k,m,this,i)},this)},this)},getAxisProxy:function(Z,e){return this._axisProxies[Z+"_"+e]},getAxisModel:function(Z,i){var e=this.getAxisProxy(Z,i);return e&&e.getAxisModel()},setRawRange:function(e,i){var Z=this.option;Xq([["start","startValue"],["end","endValue"]],function(k){if(e[k[0]]!=null||e[k[1]]!=null){Z[k[0]]=e[k[0]];Z[k[1]]=e[k[1]]}},this);!i&&RY(this,e)},getPercentRange:function(){var Z=this.findRepresentativeAxisProxy();if(Z){return Z.getDataPercentWindow()}},getValueRange:function(i,Z){if(i==null&&Z==null){var e=this.findRepresentativeAxisProxy();if(e){return e.getDataValueWindow()}}else{return this.getAxisProxy(i,Z).getDataValueWindow()}},findRepresentativeAxisProxy:function(e){if(e){return e.__dzAxisProxy}var i=this._axisProxies;for(var Z in i){if(i.hasOwnProperty(Z)&&i[Z].hostedBy(this)){return i[Z]}}for(var Z in i){if(i.hasOwnProperty(Z)&&!i[Z].hostedBy(this)){return i[Z]}}},getRangePropMode:function(){return this._rangePropMode.slice()}});function Qz(Z){var e={};Xq(["start","end","startValue","endValue","throttle"],function(i){Z.hasOwnProperty(i)&&(e[i]=Z[i])});return e}function RY(k,e){var i=k._rangePropMode;var Z=k.get("rangeMode");Xq([["start","startValue"],["end","endValue"]],function(PI,v){var m=e[PI[0]]!=null;var WH=e[PI[1]]!=null;if(m&&!WH){i[v]="percent"}else{if(!m&&WH){i[v]="value"}else{if(Z){i[v]=Z[v]}else{if(m){i[v]="percent"}}}}})}var a6=Pd.extend({type:"dataZoom",render:function(i,Z,k,e){this.dataZoomModel=i;this.ecModel=Z;this.api=k},getTargetCoordInfo:function(){var k=this.dataZoomModel;var e=this.ecModel;var i={};k.eachTargetAxis(function(PI,WH){var v=e.getComponent(PI.axis,WH);if(v){var m=v.getCoordSysModel();m&&Z(m,v,i[m.mainType]||(i[m.mainType]=[]),m.componentIndex)}},this);function Z(PI,WH,m,Z2){var XY;for(var v=0;v<m.length;v++){if(m[v].model===PI){XY=m[v];break}}if(!XY){m.push(XY={model:PI,axisModels:[],coordIndex:Z2})}XY.axisModels.push(WH)}return i}});var Yt=cz.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:true,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:true,showDataShadow:"auto",realtime:true,zoomLock:false,textStyle:{color:"#333"}}});var CP=Fm;var Wl=Yv;var Ex=Jg;var DP=ei;var Xs=Dy;var Gp=7;var EC=1;var Nj=30;var VV="horizontal";var bB="vertical";var SF=5;var PL=["line","bar","candlestick","scatter"];var Dk=a6.extend({type:"dataZoom.slider",init:function(Z,e){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=e},render:function(i,Z,k,e){Dk.superApply(this,"render",arguments);YN(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=i.get("orient");if(this.dataZoomModel.get("show")===false){this.group.removeAll();return}if(!e||e.type!=="dataZoom"||e.from!==this.uid){this._buildView()}this._updateView()},remove:function(){Dk.superApply(this,"remove",arguments);gx(this,"_dispatchZoomAction")},dispose:function(){Dk.superApply(this,"dispose",arguments);gx(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll();this._resetLocation();this._resetInterval();var Z=this._displayables.barGroup=new U3();this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(Z);this._positionGroup()},_resetLocation:function(){var m=this.dataZoomModel;var v=this.api;var Z=this._findCoordRect();var PI={width:v.getWidth(),height:v.getHeight()};var i=this._orient===VV?{right:PI.width-Z.x-Z.width,top:(PI.height-Nj-Gp),width:Z.width,height:Nj}:{right:Gp,top:Z.y,width:Nj,height:Z.height};var e=ZT(m.option);Dy(["right","top","width","height"],function(WH){if(e[WH]==="ph"){e[WH]=i[WH]}});var k=CU(e,PI,m.padding);this._location={x:k.x,y:k.y};this._size=[k.width,k.height];this._orient===bB&&this._size.reverse()},_positionGroup:function(){var WH=this.group;var v=this._location;var m=this._orient;var k=this.dataZoomModel.getFirstTargetAxisModel();var PI=k&&k.get("inverse");var Z=this._displayables.barGroup;var e=(this._dataShadowInfo||{}).otherAxisInverse;Z.attr((m===VV&&!PI)?{scale:e?[1,1]:[1,-1]}:(m===VV&&PI)?{scale:e?[-1,1]:[-1,-1]}:(m===bB&&!PI)?{scale:e?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:e?[-1,-1]:[-1,1],rotation:Math.PI/2});var i=WH.getBoundingRect([Z]);WH.attr("position",[v.x-i.x,v.y-i.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel;var Z=this._size;var i=this._displayables.barGroup;i.add(new CP({silent:true,shape:{x:0,y:0,width:Z[0],height:Z[1]},style:{fill:e.get("backgroundColor")},z2:-40}));i.add(new CP({shape:{x:0,y:0,width:Z[0],height:Z[1]},style:{fill:"transparent"},z2:0,onclick:ei(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var cc=this._dataShadowInfo=this._prepareDataShadowInfo();if(!cc){return}var PI=this._size;var v=cc.series;var e=v.getRawData();var k=v.getShadowDim?v.getShadowDim():cc.otherDim;if(k==null){return}var g5=e.getDataExtent(k);var g3=(g5[1]-g5[0])*0.3;g5=[g5[0]-g3,g5[1]+g3];var Z=[0,PI[1]];var m=[0,PI[0]];var g2=[[PI[0],0],[0,0]];var XY=[];var Z2=m[1]/(e.count()-1);var g1=0;var g4=Math.round(e.count()/PI[0]);var i;e.each([k],function(g8,g7){if(g4>0&&(g7%g4)){g1+=Z2;return}var g6=g8==null||isNaN(g8)||g8==="";var g9=g6?0:Wl(g8,g5,Z,true);if(g6&&!i&&g7){g2.push([g2[g2.length-1][0],0]);XY.push([XY[XY.length-1][0],0])}else{if(!g6&&i){g2.push([g1,0]);XY.push([g1,0])}}g2.push([g1,g9]);XY.push([g1,g9]);g1+=Z2;i=g6});var WH=this.dataZoomModel;this._displayables.barGroup.add(new Hd({shape:{points:g2},style:IK({fill:WH.get("dataBackgroundColor")},WH.getModel("dataBackground.areaStyle").getAreaStyle()),silent:true,z2:-20}));this._displayables.barGroup.add(new JI({shape:{points:XY},style:WH.getModel("dataBackground.lineStyle").getLineStyle(),silent:true,z2:-19}))},_prepareDataShadowInfo:function(){var i=this.dataZoomModel;var k=i.get("showDataShadow");if(k===false){return}var Z;var e=this.ecModel;i.eachTargetAxis(function(v,PI){var m=i.getAxisProxy(v.name,PI).getTargetSeriesModels();Dy(m,function(WH){if(Z){return}if(k!==true&&FT(PL,WH.get("type"))<0){return}var cc=e.getComponent(v.axis,PI).axis;var g1=dD(v.name);var XY;var Z2=WH.coordinateSystem;if(g1!=null&&Z2.getOtherAxis){XY=Z2.getOtherAxis(cc).inverse}g1=WH.getData().mapDimension(g1);Z={thisAxis:cc,series:WH,thisDim:v.name,otherDim:g1,otherAxisInverse:XY}},this)},this);return Z},_renderHandle:function(){var e=this._displayables;var i=e.handles=[];var m=e.handleLabels=[];var v=this._displayables.barGroup;var Z=this._size;var k=this.dataZoomModel;v.add(e.filler=new CP({draggable:true,cursor:U5(this._orient),drift:DP(this._onDragMove,this,"all"),onmousemove:function(PI){GL(PI.event)},ondragstart:DP(this._showDataInfo,this,true),ondragend:DP(this._onDragEnd,this),onmouseover:DP(this._showDataInfo,this,true),onmouseout:DP(this._showDataInfo,this,false),style:{fill:k.get("fillerColor"),textPosition:"inside"}}));v.add(new CP(Bj({silent:true,shape:{x:0,y:0,width:Z[0],height:Z[1]},style:{stroke:k.get("dataBackgroundColor")||k.get("borderColor"),lineWidth:EC,fill:"rgba(0,0,0,0)"}})));Xs([0,1],function(XY){var cc=DK(k.get("handleIcon"),{cursor:U5(this._orient),draggable:true,drift:DP(this._onDragMove,this,XY),onmousemove:function(g1){GL(g1.event)},ondragend:DP(this._onDragEnd,this),onmouseover:DP(this._showDataInfo,this,true),onmouseout:DP(this._showDataInfo,this,false)},{x:-1,y:0,width:2,height:2});var WH=cc.getBoundingRect();this._handleHeight=Pw(k.get("handleSize"),this._size[1]);this._handleWidth=WH.width/WH.height*this._handleHeight;cc.setStyle(k.getModel("handleStyle").getItemStyle());var Z2=k.get("handleColor");if(Z2!=null){cc.style.fill=Z2}v.add(i[XY]=cc);var PI=k.textStyleModel;this.group.add(m[XY]=new FW({silent:true,invisible:true,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:PI.getTextColor(),textFont:PI.getFont()},z2:10}))},this)},_resetInterval:function(){var Z=this._range=this.dataZoomModel.getPercentRange();var e=this._getViewExtent();this._handleEnds=[Wl(Z[0],[0,100],e,true),Wl(Z[1],[0,100],e,true)]},_updateInterval:function(k,e){var PI=this.dataZoomModel;var Z=this._handleEnds;var m=this._getViewExtent();var i=PI.findRepresentativeAxisProxy().getMinMaxSpan();var v=[0,100];Kt(e,Z,m,PI.get("zoomLock")?"all":k,i.minSpan!=null?Wl(i.minSpan,v,m,true):null,i.maxSpan!=null?Wl(i.maxSpan,v,m,true):null);this._range=Ex([Wl(Z[0],m,v,true),Wl(Z[1],m,v,true)])},_updateView:function(e){var i=this._displayables;var Z=this._handleEnds;var m=Ex(Z.slice());var k=this._size;Xs([0,1],function(WH){var v=i.handles[WH];var PI=this._handleHeight;v.attr({scale:[PI/2,PI/2],position:[Z[WH],k[1]/2-PI/2]})},this);i.filler.setShape({x:m[0],y:0,width:m[1]-m[0],height:k[1]});this._updateDataInfo(e)},_updateDataInfo:function(Z){var WH=this.dataZoomModel;var e=this._displayables;var XY=e.handleLabels;var Z2=this._orient;var PI=["",""];if(WH.get("showDetail")){var k=WH.findRepresentativeAxisProxy();if(k){var i=k.getAxisModel().axis;var g1=this._range;var cc=Z?k.calculateDataWindow({start:g1[0],end:g1[1]}).valueWindow:k.getDataValueWindow();PI=[this._formatLabel(cc[0],i),this._formatLabel(cc[1],i)]}}var m=Ex(this._handleEnds.slice());v.call(this,0);v.call(this,1);function v(g4){var g6=l(e.handles[g4].parent,this.group);var g3=cn(g4===0?"right":"left",g6);var g2=this._handleWidth/2+SF;var g5=Bp([m[g4]+(g4===0?-g2:g2),this._size[1]/2],g6);XY[g4].setStyle({x:g5[0],y:g5[1],textVerticalAlign:Z2===VV?"middle":g3,textAlign:Z2===VV?g3:"center",text:PI[g4]})}},_formatLabel:function(k,v){var m=this.dataZoomModel;var e=m.get("labelFormatter");var i=m.get("labelPrecision");if(i==null||i==="auto"){i=v.getPixelPrecision()}var Z=(k==null||isNaN(k))?"":(v.type==="category"||v.type==="time")?v.scale.getLabel(Math.round(k)):k.toFixed(Math.min(i,20));return Pl(e)?e(k,Z):Ei(e)?e.replace("{value}",Z):Z},_showDataInfo:function(Z){Z=this._dragging||Z;var e=this._displayables.handleLabels;e[0].attr("invisible",!Z);e[1].attr("invisible",!Z)},_onDragMove:function(e,Z,i){this._dragging=true;var m=this._displayables.barGroup.getLocalTransform();var k=Bp([Z,i],m,true);this._updateInterval(e,k[0]);var v=this.dataZoomModel.get("realtime");this._updateView(!v);v&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=false;this._showDataInfo(false);var Z=this.dataZoomModel.get("realtime");!Z&&this._dispatchZoomAction()},_onClickPanelClick:function(i){var Z=this._size;var v=this._displayables.barGroup.transformCoordToLocal(i.offsetX,i.offsetY);if(v[0]<0||v[0]>Z[0]||v[1]<0||v[1]>Z[1]){return}var m=this._handleEnds;var k=(m[0]+m[1])/2;this._updateInterval("all",v[0]-k);this._updateView();this._dispatchZoomAction()},_dispatchZoomAction:function(){var Z=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:Z[0],end:Z[1]})},_findCoordRect:function(){var e;Xs(this.getTargetCoordInfo(),function(m){if(!e&&m.length){var k=m[0].model.coordinateSystem;e=k.getRect&&k.getRect()}});if(!e){var i=this.api.getWidth();var Z=this.api.getHeight();e={x:i*0.2,y:Z*0.2,width:i*0.6,height:Z*0.6}}return e}});function dD(Z){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[Z]}function U5(Z){return Z==="vertical"?"ns-resize":"ew-resize"}cz.extend({type:"dataZoom.inside",defaultOption:{disabled:false,zoomLock:false,zoomOnMouseWheel:true,moveOnMouseMove:true,preventDefaultMouseMove:true}});var UC=c3;var SE="\0_ec_dataZoom_roams";function AT(PI,i){var e=FS(PI);var Z=i.dataZoomId;var k=i.coordId;Dy(e,function(WH,XY){var Z2=WH.dataZoomInfos;if(Z2[Z]&&FT(i.allCoordIds,k)<0){delete Z2[Z];WH.count--}});Dp(e);var v=e[k];if(!v){v=e[k]={coordId:k,dataZoomInfos:{},count:0};v.controller=Bf(PI,v);v.dispatchAction=c3(S2,PI)}!(v.dataZoomInfos[Z])&&v.count++;v.dataZoomInfos[Z]=i;var m=Mf(v.dataZoomInfos);v.controller.enable(m.controlType,m.opt);v.controller.setPointerChecker(i.containsPoint);YN(v,"dispatchAction",i.throttleRate,"fixRate")}function Wz(i,e){var Z=FS(i);Dy(Z,function(k){k.controller.dispose();var m=k.dataZoomInfos;if(m[e]){delete m[e];k.count--}});Dp(Z)}function Mz(k,e){if(k&&k.type==="dataZoom"&&k.batch){for(var Z=0,m=k.batch.length;Z<m;Z++){if(k.batch[Z].dataZoomId===e){return false}}}return true}function HI(Z){return Z.type+"\0_"+Z.id}function FS(e){var Z=e.getZr();return Z[SE]||(Z[SE]={})}function Bf(e,Z){var i=new C7(e.getZr());i.on("pan",UC(CD,Z));i.on("zoom",UC(L7,Z));return i}function Dp(Z){Dy(Z,function(e,i){if(!e.count){e.controller.dispose();delete Z[i]}})}function CD(k,i,m,Z,PI,e,v){bj(k,function(WH){return WH.panGetRange(k.controller,i,m,Z,PI,e,v)})}function L7(Z,i,e,k){bj(Z,function(m){return m.zoomGetRange(Z.controller,i,e,k)})}function bj(Z,i){var e=[];Dy(Z.dataZoomInfos,function(k){var m=i(k);!k.disabled&&m&&e.push({dataZoomId:k.dataZoomId,start:m[0],end:m[1]})});Z.dispatchAction(e)}function S2(e,Z){e.dispatchAction({type:"dataZoom",batch:Z})}function Mf(m){var k;var e={};var i="type_";var Z={"type_true":2,"type_move":1,"type_false":0,"type_undefined":-1};Dy(m,function(v){var PI=v.disabled?false:v.zoomLock?"move":true;if(Z[i+PI]>Z[i+k]){k=PI}XN(e,v.roamControllerOpt)});return{controlType:k,opt:e}}var H8=ei;var Rc=a6.extend({type:"dataZoom.inside",init:function(Z,e){this._range},render:function(i,Z,k,e){Rc.superApply(this,"render",arguments);if(Mz(e,i.id)){this._range=i.getPercentRange()}Dy(this.getTargetCoordInfo(),function(PI,m){var v=QL(PI,function(WH){return HI(WH.model)});Dy(PI,function(Z2){var WH=Z2.model;var XY=i.option;AT(k,{coordId:HI(WH),allCoordIds:v,containsPoint:function(cc,g1,g2){return WH.coordinateSystem.containPoint([g1,g2])},dataZoomId:i.id,throttleRate:i.get("throttle",true),panGetRange:H8(this._onPan,this,Z2,m),zoomGetRange:H8(this._onZoom,this,Z2,m),zoomLock:XY.zoomLock,disabled:XY.disabled,roamControllerOpt:{zoomOnMouseWheel:XY.zoomOnMouseWheel,moveOnMouseMove:XY.moveOnMouseMove,preventDefaultMouseMove:XY.preventDefaultMouseMove}})},this)},this)},dispose:function(){Wz(this.api,this.dataZoomModel.id);Rc.superApply(this,"dispose",arguments);this._range=null},_onPan:function(v,i,m,XY,PI,Z,g1,g2,cc){var Z2=this._range.slice();var k=v.axisModels[0];if(!k){return}var WH=eT[i]([Z,g1],[g2,cc],k,m,v);var e=WH.signal*(Z2[1]-Z2[0])*WH.pixel/WH.pixelLength;Kt(e,Z2,[0,100],"all");return(this._range=Z2)},_onZoom:function(PI,Z,v,i,XY,WH){var Z2=this._range.slice();var k=PI.axisModels[0];if(!k){return}var m=eT[Z](null,[XY,WH],k,v,PI);var e=(m.signal>0?(m.pixelStart+m.pixelLength-m.pixel):(m.pixel-m.pixelStart))/m.pixelLength*(Z2[1]-Z2[0])+Z2[0];i=Math.max(1/i,0);Z2[0]=(Z2[0]-e)*i+e;Z2[1]=(Z2[1]-e)*i+e;var cc=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Kt(0,Z2,[0,100],0,cc.minSpan,cc.maxSpan);return(this._range=Z2)}});var eT={grid:function(PI,Z,k,m,v){var e=k.axis;var WH={};var i=v.model.coordinateSystem.getRect();PI=PI||[0,0];if(e.dim==="x"){WH.pixel=Z[0]-PI[0];WH.pixelLength=i.width;WH.pixelStart=i.x;WH.signal=e.inverse?1:-1}else{WH.pixel=Z[1]-PI[1];WH.pixelLength=i.height;WH.pixelStart=i.y;WH.signal=e.inverse?-1:1}return WH},polar:function(XY,Z,m,PI,WH){var i=m.axis;var Z2={};var e=WH.model.coordinateSystem;var v=e.getRadiusAxis().getExtent();var k=e.getAngleAxis().getExtent();XY=XY?e.pointToCoord(XY):[0,0];Z=e.pointToCoord(Z);if(m.mainType==="radiusAxis"){Z2.pixel=Z[0]-XY[0];Z2.pixelLength=v[1]-v[0];Z2.pixelStart=v[0];Z2.signal=i.inverse?1:-1}else{Z2.pixel=Z[1]-XY[1];Z2.pixelLength=k[1]-k[0];Z2.pixelStart=k[0];Z2.signal=i.inverse?-1:1}return Z2},singleAxis:function(PI,Z,k,m,v){var e=k.axis;var i=v.model.coordinateSystem.getRect();var WH={};PI=PI||[0,0];if(e.orient==="horizontal"){WH.pixel=Z[0]-PI[0];WH.pixelLength=i.width;WH.pixelStart=i.x;WH.signal=e.inverse?1:-1}else{WH.pixel=Z[1]-PI[1];WH.pixelLength=i.height;WH.pixelStart=i.y;WH.signal=e.inverse?-1:1}return WH}};dU({getTargetSeries:function(e){var Z=Fj();e.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(m,PI,v){var k=v.getAxisProxy(m.name,PI);Dy(k.getTargetSeriesModels(),function(WH){Z.set(WH.uid,WH)})})});return Z},isOverallFilter:true,overallReset:function(Z,e){Z.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(k,v,m){m.getAxisProxy(k.name,v).reset(m,e)});i.eachTargetAxis(function(k,v,m){m.getAxisProxy(k.name,v).filterData(m,e)})});Z.eachComponent("dataZoom",function(v){var m=v.findRepresentativeAxisProxy();var i=m.getDataPercentWindow();var k=m.getDataValueWindow();v.setRawRange({start:i[0],end:i[1],startValue:k[0],endValue:k[1]},true)})}});S9("dataZoom",function(k,i){var e=Qw(ei(i.eachComponent,i,"dataZoom"),Is,function(v,m){return v.get(m.axisIndex)});var Z=[];i.eachComponent({mainType:"dataZoom",query:k},function(v,m){Z.push.apply(Z,e(v).nodes)});Dy(Z,function(v,m){v.setRawRange({start:k.start,end:k.end,startValue:k.startValue,endValue:k.endValue})})});var av=Dy;var eU=function(Z){var e=Z&&Z.visualMap;if(!cW(e)){e=e?[e]:[]}av(e,function(i){if(!i){return}if(IJ(i,"splitList")&&!IJ(i,"pieces")){i.pieces=i.splitList;delete i.splitList}var k=i.pieces;if(k&&cW(k)){av(k,function(m){if(EJ(m)){if(IJ(m,"start")&&!IJ(m,"min")){m.min=m.start}if(IJ(m,"end")&&!IJ(m,"max")){m.max=m.end}}})}})};function IJ(Z,e){return Z&&Z.hasOwnProperty&&Z.hasOwnProperty(e)}Dt.registerSubTypeDefaulter("visualMap",function(Z){return(!Z.categories&&(!(Z.pieces?Z.pieces.length>0:Z.splitNumber>0)||Z.calculable))?"continuous":"piecewise"});var Vv=eK.VISUAL.COMPONENT;Ao(Vv,{createOnAllSeries:true,reset:function(Z,e){var i=[];e.eachComponent("visualMap",function(k){if(!k.isTargetSeries(Z)){return}i.push(fd(k.stateList,k.targetVisuals,ei(k.getValueState,k),k.getDataDimension(Z.getData())))});return i}});Ao(Vv,{createOnAllSeries:true,reset:function(e,i){var k=e.getData();var Z=[];i.eachComponent("visualMap",function(v){if(v.isTargetSeries(e)){var m=v.getVisualMeta(ei(bb,null,e,v))||{stops:[],outerColors:[]};var WH=v.getDataDimension(k);var PI=k.getDimensionInfo(WH);if(PI!=null){m.dimension=PI.index;Z.push(m)}}});e.getData().setVisual("visualMeta",Z)}});function bb(g3,g1,PI,v){var cc=g1.targetVisuals[v];var Z2=Oi.prepareVisualTypes(cc);var e={color:g3.getData().getVisual("color")};for(var WH=0,Z=Z2.length;WH<Z;WH++){var g2=Z2[WH];var XY=cc[g2==="opacity"?"__alphaForOpacity":g2];XY&&XY.applyVisual(PI,k,m)}return e.color;function k(i){return e[i]}function m(i,g4){e[i]=g4}}var H9={get:function(i,Z,e){var k=fJ((M4[i]||{})[Z]);return e?(cW(k)?k[k.length-1]:k):k}};var M4={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};var Pi=Oi.mapVisual;var dB=Oi.eachVisual;var M1=cW;var aw=Dy;var Ey=Jg;var Wm=Yv;var IN=gw;var Zt=Hl({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:true},defaultOption:{show:true,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:false,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(Z,i,e){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(Z,e)},optionUpdated:function(Z,e){var i=this.option;if(!QH.canvasSupported){i.realtime=false}!e&&CA(i,Z,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(Z){var e=this.stateList;Z=ei(Z,this);this.controllerVisuals=g(this.option.controller,e,Z);this.targetVisuals=g(this.option.target,e,Z)},getTargetSeriesIndices:function(){var Z=this.option.seriesIndex;var e=[];if(Z==null||Z==="all"){this.ecModel.eachSeries(function(i,k){e.push(k)})}else{e=Y1(Z)}return e},eachTargetSeries:function(Z,e){Dy(this.getTargetSeriesIndices(),function(i){Z.call(e,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(e){var Z=false;this.eachTargetSeries(function(i){i===e&&(Z=true)});return Z},formatValueText:function(k,v,Z){var XY=this.option;var e=XY.precision;var i=this.dataBound;var WH=XY.formatter;var Z2;var PI;Z=Z||["<",">"];if(cW(k)){k=k.slice();Z2=true}PI=v?k:(Z2?[m(k[0]),m(k[1])]:m(k));if(Ei(WH)){return WH.replace("{value}",Z2?PI[0]:PI).replace("{value2}",Z2?PI[1]:PI)}else{if(Pl(WH)){return Z2?WH(k[0],k[1]):WH(k)}}if(Z2){if(k[0]===i[0]){return Z[0]+" "+PI[1]}else{if(k[1]===i[1]){return Z[1]+" "+PI[0]}else{return PI[0]+" - "+PI[1]}}}else{return PI}function m(cc){return cc===i[0]?"min":cc===i[1]?"max":(+cc).toFixed(Math.min(e,20))}},resetExtent:function(){var e=this.option;var Z=Ey([e.min,e.max]);this._dataExtent=Z},getDataDimension:function(v){var e=this.option.dimension;var WH=v.dimensions;if(e==null&&!WH.length){return}if(e!=null){return v.getDimension(e)}var PI=v.dimensions;for(var Z=PI.length-1;Z>=0;Z--){var m=PI[Z];var k=v.getDimensionInfo(m);if(!k.isCalculationCoord){return m}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var WH=this.ecModel;var XY=this.option;var Z={inRange:XY.inRange,outOfRange:XY.outOfRange};var v=XY.target||(XY.target={});var k=XY.controller||(XY.controller={});LB(v,Z);LB(k,Z);var m=this.isCategory();i.call(this,v);i.call(this,k);PI.call(this,v,"inRange","outOfRange");e.call(this,k);function i(Z2){if(M1(XY.color)&&!Z2.inRange){Z2.inRange={color:XY.color.slice().reverse()}}Z2.inRange=Z2.inRange||{color:WH.get("gradientColor")};aw(this.stateList,function(g2){var cc=Z2[g2];if(Ei(cc)){var g1=H9.get(cc,"active",m);if(g1){Z2[g2]={};Z2[g2][cc]=g1}else{delete Z2[g2]}}},this)}function PI(g3,Z2,g2){var g1=g3[Z2];var cc=g3[g2];if(g1&&!cc){cc=g3[g2]={};aw(g1,function(g6,g4){if(!Oi.isValidType(g4)){return}var g5=H9.get(g4,"inactive",m);if(g5!=null){cc[g4]=g5;if(g4==="color"&&!cc.hasOwnProperty("opacity")&&!cc.hasOwnProperty("colorAlpha")){cc.opacity=[0,0]}}})}}function e(g2){var g1=(g2.inRange||{}).symbol||(g2.outOfRange||{}).symbol;var cc=(g2.inRange||{}).symbolSize||(g2.outOfRange||{}).symbolSize;var Z2=this.get("inactiveColor");aw(this.stateList,function(g7){var g4=this.itemSize;var g5=g2[g7];if(!g5){g5=g2[g7]={color:m?Z2:[Z2]}}if(g5.symbol==null){g5.symbol=g1&&fJ(g1)||(m?"roundRect":["roundRect"])}if(g5.symbolSize==null){g5.symbolSize=cc&&fJ(cc)||(m?g4[0]:[g4[0],g4[0]])}g5.symbol=Pi(g5.symbol,function(g8){return(g8==="none"||g8==="square")?"roundRect":g8});var g6=g5.symbolSize;if(g6!=null){var g3=-Infinity;dB(g6,function(g8){g8>g3&&(g3=g8)});g5.symbolSize=Pi(g6,function(g8){return Wm(g8,[0,g3],[0,g4[0]],true)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:IN,getValueState:IN,getVisualMeta:IN});var BV=[20,140];var Ry=Zt.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:false,range:null,realtime:true,itemHeight:null,itemWidth:null,hoverLink:true,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(Z,e){Ry.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(i){i.mappingMethod="linear";i.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){Ry.superApply(this,"resetItemSize",arguments);var Z=this.itemSize;this._orient==="horizontal"&&Z.reverse();(Z[0]==null||isNaN(Z[0]))&&(Z[0]=BV[0]);(Z[1]==null||isNaN(Z[1]))&&(Z[1]=BV[1])},_resetRange:function(){var e=this.getExtent();var Z=this.option.range;if(!Z||Z.auto){e.auto=1;this.option.range=e}else{if(cW(Z)){if(Z[0]>Z[1]){Z.reverse()}Z[0]=Math.max(Z[0],e[0]);Z[1]=Math.min(Z[1],e[1])}}},completeVisualOption:function(){Zt.prototype.completeVisualOption.apply(this,arguments);Dy(this.stateList,function(e){var Z=this.option.controller[e].symbolSize;if(Z&&Z[0]!==Z[1]){Z[0]=0}},this)},setSelected:function(Z){this.option.range=Z.slice();this._resetRange()},getSelected:function(){var e=this.getExtent();var Z=Jg((this.get("range")||[]).slice());Z[0]>e[1]&&(Z[0]=e[1]);Z[1]>e[1]&&(Z[1]=e[1]);Z[0]<e[0]&&(Z[0]=e[0]);Z[1]<e[0]&&(Z[1]=e[0]);return Z},getValueState:function(e){var i=this.option.range;var Z=this.getExtent();return((i[0]<=Z[0]||i[0]<=e)&&(i[1]>=Z[1]||e<=i[1]))?"inRange":"outOfRange"},findTargetDataIndices:function(e){var Z=[];this.eachTargetSeries(function(i){var m=[];var k=i.getData();k.each(this.getDataDimension(k),function(PI,v){e[0]<=PI&&PI<=e[1]&&m.push(v)},this);Z.push({seriesId:i.id,dataIndex:m})},this);return Z},getVisualMeta:function(m){var v=Gg(this,"outOfRange",this.getExtent());var e=Gg(this,"inRange",this.option.range.slice());var XY=[];function WH(g2,g1){XY.push({value:g2,color:m(g2,g1)})}var i=0;var k=0;var Z=e.length;var cc=v.length;for(;k<cc&&(!e.length||v[k]<=e[0]);k++){if(v[k]<e[i]){WH(v[k],"outOfRange")}}for(var PI=1;i<Z;i++,PI=0){PI&&XY.length&&WH(e[i],"outOfRange");WH(e[i],"inRange")}for(var PI=1;k<cc;k++){if(!e.length||e[e.length-1]<v[k]){if(PI){XY.length&&WH(XY[XY.length-1].value,"outOfRange");PI=0}WH(v[k],"outOfRange")}}var Z2=XY.length;return{stops:XY,outerColors:[Z2?XY[0].color:"transparent",Z2?XY[Z2-1].color:"transparent"]}}});function Gg(XY,Z,m){if(m[0]===m[1]){return m.slice()}var k=200;var v=(m[1]-m[0])/k;var PI=m[0];var e=[];for(var WH=0;WH<=k&&PI<m[1];WH++){e.push(PI);PI+=v}e.push(m[1]);return e}var u=ec({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(Z,e){this.ecModel=Z;this.api=e;this.visualMapModel},render:function(i,e,k,Z){this.visualMapModel=i;if(i.get("show")===false){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(Z){var k=this.visualMapModel;var e=R7(k.get("padding")||0);var i=Z.getBoundingRect();Z.add(new Fm({z2:-1,silent:true,shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[3]+e[1],height:i.height+e[0]+e[2]},style:{fill:k.get("backgroundColor"),stroke:k.get("borderColor"),lineWidth:k.get("borderWidth")}}))},getControllerVisual:function(WH,Z,m){m=m||{};var e=m.forceState;var XY=this.visualMapModel;var Z2={};if(Z==="symbol"){Z2.symbol=XY.get("itemSymbol")}if(Z==="color"){var cc=XY.get("contentColor");Z2.color=cc}function i(g1){return Z2[g1]}function k(g1,g2){Z2[g1]=g2}var PI=XY.controllerVisuals[e||XY.getValueState(WH)];var v=Oi.prepareVisualTypes(PI);Dy(v,function(g1){var g2=PI[g1];if(m.convertOpacityToAlpha&&g1==="opacity"){g1="colorAlpha";g2=PI.__alphaForOpacity}if(Oi.dependsOn(g1,Z)){g2&&g2.applyVisual(WH,i,k)}});return Z2[Z]},positionGroup:function(Z){var i=this.visualMapModel;var e=this.api;Lp(Z,i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})},doRender:gw});function M(g1,g2,k){var m=g1.option;var Z=m.align;if(Z!=null&&Z!=="auto"){return Z}var WH={width:g2.getWidth(),height:g2.getHeight()};var g3=m.orient==="horizontal"?1:0;var PI=[["left","right","width"],["top","bottom","height"]];var XY=PI[g3];var e=[0,null,10];var Z2={};for(var cc=0;cc<3;cc++){Z2[PI[1-g3][cc]]=e[cc];Z2[XY[cc]]=cc===2?k[0]:m[XY[cc]]}var g4=[["x","width",3],["y","height",0]][g3];var v=CU(Z2,WH,m.padding);return XY[(v.margin[g4[2]]||0)+v[g4[0]]+v[g4[1]]*0.5<WH[g4[1]]*0.5?0:1]}function Hj(Z){Dy(Z||[],function(e){if(Z.dataIndex!=null){Z.dataIndexInside=Z.dataIndex;Z.dataIndex=null}});return Z}var Wj=Yv;var ax=Dy;var MF=Math.min;var Bs=Math.max;var DB=12;var Os=6;var QT=u.extend({type:"visualMap.continuous",init:function(){QT.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(i,e,k,Z){if(!Z||Z.type!=="selectDataRange"||Z.from!==this.uid){this._buildView()}},_buildView:function(){this.group.removeAll();var Z=this.visualMapModel;var e=this.group;this._orient=Z.get("orient");this._useHandle=Z.get("calculable");this._resetInterval();this._renderBar(e);var i=Z.get("text");this._renderEndsText(e,i,0);this._renderEndsText(e,i,1);this._updateView(true);this.renderBackground(e);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(e)},_renderEndsText:function(v,g1,XY){if(!g1){return}var PI=g1[1-XY];PI=PI!=null?PI+"":"";var Z2=this.visualMapModel;var i=Z2.get("textGap");var cc=Z2.itemSize;var Z=this._shapes.barGroup;var WH=this._applyTransform([cc[0]/2,XY===0?-i:cc[1]+i],Z);var m=this._applyTransform(XY===0?"bottom":"top",Z);var e=this._orient;var k=this.visualMapModel.textStyleModel;this.group.add(new FW({style:{x:WH[0],y:WH[1],textVerticalAlign:e==="horizontal"?"middle":m,textAlign:e==="horizontal"?m:"center",text:PI,textFont:k.getFont(),textFill:k.getTextColor()}}))},_renderBar:function(k){var WH=this.visualMapModel;var Z2=this._shapes;var XY=WH.itemSize;var v=this._orient;var Z=this._useHandle;var e=M(WH,this.api,XY);var PI=Z2.barGroup=this._createBarGroup(e);PI.add(Z2.outOfRange=gk());PI.add(Z2.inRange=gk(null,Z?DI(this._orient):null,ei(this._dragHandle,this,"all",false),ei(this._dragHandle,this,"all",true)));var i=WH.textStyleModel.getTextRect("");var m=Bs(i.width,i.height);if(Z){Z2.handleThumbs=[];Z2.handleLabels=[];Z2.handleLabelPoints=[];this._createHandle(PI,0,XY,m,v,e);this._createHandle(PI,1,XY,m,v,e)}this._createIndicator(PI,XY,m,v);k.add(PI)},_createHandle:function(Z,m,cc,v,WH){var PI=ei(this._dragHandle,this,m,false);var i=ei(this._dragHandle,this,m,true);var k=gk(Gw(m,v),DI(this._orient),PI,i);k.position[0]=cc[0];Z.add(k);var g1=this.visualMapModel.textStyleModel;var Z2=new FW({draggable:true,drift:PI,onmousemove:function(g2){GL(g2.event)},ondragend:i,style:{x:0,y:0,text:"",textFont:g1.getFont(),textFill:g1.getTextColor()}});this.group.add(Z2);var XY=[WH==="horizontal"?v/2:v*1.5,WH==="horizontal"?(m===0?-(v*1.5):(v*1.5)):(m===0?-v/2:v/2)];var e=this._shapes;e.handleThumbs[m]=k;e.handleLabelPoints[m]=XY;e.handleLabels[m]=Z2},_createIndicator:function(Z,PI,k,m){var WH=gk([[0,0]],"move");WH.position[0]=PI[0];WH.attr({invisible:true,silent:true});Z.add(WH);var XY=this.visualMapModel.textStyleModel;var v=new FW({silent:true,invisible:true,style:{x:0,y:0,text:"",textFont:XY.getFont(),textFill:XY.getTextColor()}});this.group.add(v);var e=[m==="horizontal"?k/2:Os+3,0];var i=this._shapes;i.indicator=WH;i.indicatorLabel=v;i.indicatorLabelPoint=e},_dragHandle:function(e,k,Z,i){if(!this._useHandle){return}this._dragging=!k;if(!k){var m=this._applyTransform([Z,i],this._shapes.barGroup,true);this._updateInterval(e,m[1]);this._updateView()}if(k===!this.visualMapModel.get("realtime")){this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}if(k){!this._hovering&&this._clearHoverLinkToSeries()}else{if(Bo(this.visualMapModel)){this._doHoverLinkToSeries(this._handleEnds[e],false)}}},_resetInterval:function(){var Z=this.visualMapModel;var e=this._dataInterval=Z.getSelected();var k=Z.getExtent();var i=[0,Z.itemSize[1]];this._handleEnds=[Wj(e[0],k,i,true),Wj(e[1],k,i,true)]},_updateInterval:function(k,e){e=e||0;var m=this.visualMapModel;var Z=this._handleEnds;var v=[0,m.itemSize[1]];Kt(e,Z,v,k,0);var i=m.getExtent();this._dataInterval=[Wj(Z[0],v,i,true),Wj(Z[1],v,i,true)]},_updateView:function(m){var k=this.visualMapModel;var i=k.getExtent();var WH=this._shapes;var v=[0,k.itemSize[1]];var Z=m?v:this._handleEnds;var e=this._createBarVisual(this._dataInterval,i,Z,"inRange");var PI=this._createBarVisual(i,i,v,"outOfRange");WH.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);WH.outOfRange.setStyle({fill:PI.barColor,opacity:PI.opacity}).setShape("points",PI.barPoints);this._updateHandle(Z,e)},_createBarVisual:function(v,e,PI,Z){var m={forceState:Z,convertOpacityToAlpha:true};var k=this._makeColorGradient(v,m);var WH=[this.getControllerVisual(v[0],"symbolSize",m),this.getControllerVisual(v[1],"symbolSize",m)];var i=this._createBarPoints(PI,WH);return{barColor:new dn(0,0,0,1,k),barPoints:i,handlesColor:[k[0].color,k[k.length-1].color]}},_makeColorGradient:function(m,k){var v=100;var PI=[];var Z=(m[1]-m[0])/v;PI.push({color:this.getControllerVisual(m[0],"color",k),offset:0});for(var e=1;e<v;e++){var WH=m[0]+Z*e;if(WH>m[1]){break}PI.push({color:this.getControllerVisual(WH,"color",k),offset:e/v})}PI.push({color:this.getControllerVisual(m[1],"color",k),offset:1});return PI},_createBarPoints:function(Z,i){var e=this.visualMapModel.itemSize;return[[e[0]-i[0],Z[0]],[e[0],Z[0]],[e[0],Z[1]],[e[0]-i[1],Z[1]]]},_createBarGroup:function(e){var i=this._orient;var Z=this.visualMapModel.get("inverse");return new U3((i==="horizontal"&&!Z)?{scale:e==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:(i==="horizontal"&&Z)?{scale:e==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:(i==="vertical"&&!Z)?{scale:e==="left"?[1,-1]:[-1,-1]}:{scale:e==="left"?[1,1]:[-1,1]})},_updateHandle:function(Z,e){if(!this._useHandle){return}var i=this._shapes;var k=this.visualMapModel;var m=i.handleThumbs;var v=i.handleLabels;ax([0,1],function(WH){var XY=m[WH];XY.setStyle("fill",e.handlesColor[WH]);XY.position[1]=Z[WH];var PI=Bp(i.handleLabelPoints[WH],l(XY,this.group));v[WH].setStyle({x:PI[0],y:PI[1],text:k.formatValueText(this._dataInterval[WH]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?(WH===0?"bottom":"top"):"left",i.barGroup)})},this)},_showIndicator:function(XY,cc,PI,g1){var e=this.visualMapModel;var WH=e.getExtent();var Z2=e.itemSize;var Z=[0,Z2[1]];var g4=Wj(XY,WH,Z,true);var g6=this._shapes;var g5=g6.indicator;if(!g5){return}g5.position[1]=g4;g5.attr("invisible",false);g5.setShape("points",Fy(!!PI,g1,g4,Z2[1]));var g2={convertOpacityToAlpha:true};var v=this.getControllerVisual(XY,"color",g2);g5.setStyle("fill",v);var g3=Bp(g6.indicatorLabelPoint,l(g5,this.group));var k=g6.indicatorLabel;k.attr("invisible",false);var i=this._applyTransform("left",g6.barGroup);var m=this._orient;k.setStyle({text:(PI?PI:"")+e.formatValueText(cc),textVerticalAlign:m==="horizontal"?i:"middle",textAlign:m==="horizontal"?"center":i,x:g3[0],y:g3[1]})},_enableHoverLinkToSeries:function(){var Z=this;this._shapes.barGroup.on("mousemove",function(i){Z._hovering=true;if(!Z._dragging){var m=Z.visualMapModel.itemSize;var k=Z._applyTransform([i.offsetX,i.offsetY],Z._shapes.barGroup,true,true);k[1]=MF(Bs(0,k[1]),m[1]);Z._doHoverLinkToSeries(k[1],0<=k[0]&&k[0]<=m[0])}}).on("mouseout",function(){Z._hovering=false;!Z._dragging&&Z._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var Z=this.api.getZr();if(this.visualMapModel.option.hoverLink){Z.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);Z.on("mouseout",this._hideIndicator,this)}else{this._clearHoverLinkFromSeries()}},_doHoverLinkToSeries:function(m,g2){var g1=this.visualMapModel;var Z2=g1.itemSize;if(!g1.option.hoverLink){return}var XY=[0,Z2[1]];var k=g1.getExtent();m=MF(Bs(XY[0],m),XY[1]);var i=Ml(g1,k,XY);var PI=[m-i,m+i];var Z=Wj(m,XY,k,true);var cc=[Wj(PI[0],XY,k,true),Wj(PI[1],XY,k,true)];PI[0]<XY[0]&&(cc[0]=-Infinity);PI[1]>XY[1]&&(cc[1]=Infinity);if(g2){if(cc[0]===-Infinity){this._showIndicator(Z,cc[1],"< ",i)}else{if(cc[1]===Infinity){this._showIndicator(Z,cc[0],"> ",i)}else{this._showIndicator(Z,Z," ",i)}}}var WH=this._hoverLinkDataIndices;var v=[];if(g2||Bo(g1)){v=this._hoverLinkDataIndices=g1.findTargetDataIndices(cc)}var e=F9(WH,v);this._dispatchHighDown("downplay",Hj(e[0]));this._dispatchHighDown("highlight",Hj(e[1]))},_hoverLinkFromSeriesMouseOver:function(i){var Z=i.target;var m=this.visualMapModel;if(!Z||Z.dataIndex==null){return}var v=this.ecModel.getSeriesByIndex(Z.seriesIndex);if(!m.isTargetSeries(v)){return}var PI=v.getData(Z.dataType);var k=PI.get(m.getDataDimension(PI),Z.dataIndex,true);if(!isNaN(k)){this._showIndicator(k,k)}},_hideIndicator:function(){var Z=this._shapes;Z.indicator&&Z.indicator.attr("invisible",true);Z.indicatorLabel&&Z.indicatorLabel.attr("invisible",true)},_clearHoverLinkToSeries:function(){this._hideIndicator();var Z=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Hj(Z));Z.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var Z=this.api.getZr();Z.off("mouseover",this._hoverLinkFromSeriesMouseOver);Z.off("mouseout",this._hideIndicator)},_applyTransform:function(e,k,Z,i){var m=l(k,i?null:this.group);return S8[cW(e)?"applyTransform":"transformDirection"](e,m,Z)},_dispatchHighDown:function(Z,e){e&&e.length&&this.api.dispatchAction({type:Z,batch:e})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});function gk(e,Z,i,k){return new Hd({shape:{points:e},draggable:!!i,cursor:Z,drift:i,onmousemove:function(m){GL(m.event)},ondragend:k})}function Gw(Z,e){return Z===0?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function Fy(Z,k,e,i){return Z?[[0,-MF(k,Bs(e,0))],[Os,0],[0,MF(k,Bs(i-e,0))]]:[[0,0],[5,-5],[5,5]]}function Ml(Z,k,e){var i=DB/2;var m=Z.get("hoverLinkDataSize");if(m){i=Wj(m,k,e,true)/2}return i}function Bo(Z){var e=Z.get("hoverLinkOnHandle");return !!(e==null?Z.get("realtime"):e)}function DI(Z){return Z==="vertical"?"ns-resize":"ew-resize"}var Pn={type:"selectDataRange",event:"dataRangeSelected",update:"update"};S9(Pn,function(e,Z){Z.eachComponent({mainType:"visualMap",query:e},function(i){i.setSelected(e.selected)})});Jo(eU);var OR=Zt.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:false,maxOpen:false,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:true,showLabel:null},optionUpdated:function(e,i){OR.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var Z=this._mode=this._determineMode();bI[this._mode].call(this);this._resetSelected(e,i);var k=this.option.categories;this.resetVisual(function(m,v){if(Z==="categories"){m.mappingMethod="category";m.categories=fJ(k)}else{m.dataExtent=this.getExtent();m.mappingMethod="piecewise";m.pieceList=QL(this._pieceList,function(PI){var PI=fJ(PI);if(v!=="inRange"){PI.visual=null}return PI})}})},completeVisualOption:function(){var Z=this.option;var i={};var k=Oi.listVisualTypes();var e=this.isCategory();Dy(Z.pieces,function(v){Dy(k,function(PI){if(v.hasOwnProperty(PI)){i[PI]=1}})});Dy(i,function(WH,PI){var XY=0;Dy(this.stateList,function(v){XY|=m(Z,v,PI)||m(Z.target,v,PI)},this);!XY&&Dy(this.stateList,function(v){(Z[v]||(Z[v]={}))[PI]=H9.get(PI,v==="inRange"?"active":"inactive",e)})},this);function m(v,WH,PI){return v&&v[WH]&&(EJ(v[WH])?v[WH].hasOwnProperty(PI):v[WH]===PI)}Zt.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(k,m){var v=this.option;var i=this._pieceList;var e=(m?v:k).selected||{};v.selected=e;Dy(i,function(WH,XY){var PI=this.getSelectedMapKey(WH);if(!e.hasOwnProperty(PI)){e[PI]=true}},this);if(v.selectedMode==="single"){var Z=false;Dy(i,function(WH,XY){var PI=this.getSelectedMapKey(WH);if(e[PI]){Z?(e[PI]=false):(Z=true)}},this)}},getSelectedMapKey:function(Z){return this._mode==="categories"?Z.value+"":Z.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var Z=this.option;return Z.pieces&&Z.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(Z){this.option.selected=fJ(Z)},getValueState:function(e){var Z=Oi.findPieceIndex(e,this._pieceList);return Z!=null?(this.option.selected[this.getSelectedMapKey(this._pieceList[Z])]?"inRange":"outOfRange"):"outOfRange"},findTargetDataIndices:function(e){var Z=[];this.eachTargetSeries(function(i){var m=[];var k=i.getData();k.each(this.getDataDimension(k),function(WH,v){var PI=Oi.findPieceIndex(WH,this._pieceList);PI===e&&m.push(v)},this);Z.push({seriesId:i.id,dataIndex:m})},this);return Z},getRepresentValue:function(e){var Z;if(this.isCategory()){Z=e.value}else{if(e.value!=null){Z=e.value}else{var i=e.interval||[];Z=(i[0]===-Infinity&&i[1]===Infinity)?0:(i[0]+i[1])/2}}return Z},getVisualMeta:function(k){if(this.isCategory()){return}var i=[];var Z=[];var PI=this;function WH(Z2,cc){var XY=PI.getRepresentValue({interval:Z2});if(!cc){cc=PI.getValueState(XY)}var g1=k(XY,cc);if(Z2[0]===-Infinity){Z[0]=g1}else{if(Z2[1]===Infinity){Z[1]=g1}else{i.push({value:Z2[0],color:g1},{value:Z2[1],color:g1})}}}var e=this._pieceList.slice();if(!e.length){e.push({interval:[-Infinity,Infinity]})}else{var v=e[0].interval[0];v!==-Infinity&&e.unshift({interval:[-Infinity,v]});v=e[e.length-1].interval[1];v!==Infinity&&e.push({interval:[v,Infinity]})}var m=-Infinity;Dy(e,function(Z2){var XY=Z2.interval;if(XY){XY[0]>m&&WH([m,XY[0]],"outOfRange");WH(XY.slice());m=XY[1]}},this);return{stops:i,outerColors:Z}}});var bI={splitNumber:function(){var WH=this.option;var XY=this._pieceList;var Z=Math.min(WH.precision,20);var i=this.getExtent();var v=WH.splitNumber;v=Math.max(parseInt(v,10),1);WH.splitNumber=v;var k=(i[1]-i[0])/v;while(+k.toFixed(Z)!==k&&Z<5){Z++}WH.precision=Z;k=+k.toFixed(Z);var e=0;if(WH.minOpen){XY.push({index:e++,interval:[-Infinity,i[0]],close:[0,0]})}for(var m=i[0],PI=e+v;e<PI;m+=k){var Z2=e===v-1?i[1]:(m+k);XY.push({index:e++,interval:[m,Z2],close:[1,1]})}if(WH.maxOpen){XY.push({index:e++,interval:[i[1],Infinity],close:[0,0]})}GX(XY);Dy(XY,function(cc){cc.text=this.formatValueText(cc.interval)},this)},categories:function(){var Z=this.option;Dy(Z.categories,function(e){this._pieceList.push({text:this.formatValueText(e,true),value:e})},this);ad(Z,this._pieceList)},pieces:function(){var e=this.option;var Z=this._pieceList;Dy(e.pieces,function(g4,m){if(!EJ(g4)){g4={value:g4}}var cc={text:"",index:m};if(g4.label!=null){cc.text=g4.label}if(g4.hasOwnProperty("value")){var PI=cc.value=g4.value;cc.interval=[PI,PI];cc.close=[1,1]}else{var Z2=cc.interval=[];var v=cc.close=[0,0];var g3=[1,0,1];var k=[-Infinity,Infinity];var XY=[];for(var g2=0;g2<2;g2++){var g1=[["gte","gt","min"],["lte","lt","max"]][g2];for(var WH=0;WH<3&&Z2[g2]==null;WH++){Z2[g2]=g4[g1[WH]];v[g2]=g3[WH];XY[g2]=WH===2}Z2[g2]==null&&(Z2[g2]=k[g2])}XY[0]&&Z2[1]===Infinity&&(v[0]=0);XY[1]&&Z2[0]===-Infinity&&(v[1]=0);if(W1){if(Z2[0]>Z2[1]){console.warn("Piece "+m+"is illegal: "+Z2+" lower bound should not greater then uppper bound.")}}if(Z2[0]===Z2[1]&&v[0]&&v[1]){cc.value=Z2[0]}}cc.visual=Oi.retrieveVisuals(g4);Z.push(cc)},this);ad(e,Z);GX(Z);Dy(Z,function(k){var m=k.close;var i=[["<",""][m[1]],[">",""][m[0]]];k.text=k.text||this.formatValueText(k.value!=null?k.value:k.interval,false,i)},this)}};function ad(i,e){var Z=i.inverse;if(i.orient==="vertical"?!Z:Z){e.reverse()}}var HE=u.extend({type:"visualMap.piecewise",doRender:function(){var g1=this.group;g1.removeAll();var WH=this.visualMapModel;var i=WH.get("textGap");var PI=WH.textStyleModel;var k=PI.getFont();var v=PI.getTextColor();var e=this._getItemAlign();var XY=WH.itemSize;var cc=this._getViewData();var m=cc.endsText;var Z=ER(WH.get("showLabel",true),!m);m&&this._renderEndsText(g1,m[0],XY,Z,e);Dy(cc.viewPieceList,Z2,this);m&&this._renderEndsText(g1,m[1],XY,Z,e);e8(WH.get("orient"),g1,WH.get("itemGap"));this.renderBackground(g1);this.positionGroup(g1);function Z2(g5){var g4=g5.piece;var g3=new U3();g3.onclick=ei(this._onItemClick,this,g4);this._enableHoverLink(g3,g5.indexInModelPieceList);var g2=WH.getRepresentValue(g4);this._createItemSymbol(g3,g2,[0,0,XY[0],XY[1]]);if(Z){var g6=this.visualMapModel.getValueState(g2);g3.add(new FW({style:{x:e==="right"?-i:XY[0]+i,y:XY[1]/2,text:g4.text,textVerticalAlign:"middle",textAlign:e,textFont:k,textFill:v,opacity:g6==="outOfRange"?0.5:1}}))}g1.add(g3)}},_enableHoverLink:function(Z,i){Z.on("mouseover",ei(e,this,"highlight")).on("mouseout",ei(e,this,"downplay"));function e(m){var k=this.visualMapModel;k.option.hoverLink&&this.api.dispatchAction({type:m,batch:Hj(k.findTargetDataIndices(i))})}},_getItemAlign:function(){var e=this.visualMapModel;var Z=e.option;if(Z.orient==="vertical"){return M(e,this.api,e.itemSize)}else{var i=Z.align;if(!i||i==="auto"){i="left"}return i}},_renderEndsText:function(e,m,v,PI,k){if(!m){return}var i=new U3();var Z=this.visualMapModel.textStyleModel;i.add(new FW({style:{x:PI?(k==="right"?v[0]:0):v[0]/2,y:v[1]/2,textVerticalAlign:"middle",textAlign:PI?k:"center",text:m,textFont:Z.getFont(),textFill:Z.getTextColor()}}));e.add(i)},_getViewData:function(){var e=this.visualMapModel;var m=QL(e.getPieceList(),function(v,PI){return{piece:v,indexInModelPieceList:PI}});var k=e.get("text");var i=e.get("orient");var Z=e.get("inverse");if(i==="horizontal"?Z:!Z){m.reverse()}else{if(k){k=k.slice().reverse()}}return{viewPieceList:m,endsText:k}},_createItemSymbol:function(Z,e,i){Z.add(FK(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(e){var i=this.visualMapModel;var Z=i.option;var m=fJ(Z.selected);var k=i.getSelectedMapKey(e);if(Z.selectedMode==="single"){m[k]=true;Dy(m,function(PI,v){m[v]=v===k})}else{m[k]=!m[k]}this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:m})}});Jo(eU);var L0=M9;var PQ=Qp;function Vl(Z){XI(Z,"label",["show"])}var D6=Hl({type:"marker",dependencies:["series","grid","polar","geo"],init:function(Z,k,e,i){if(W1){if(this.type==="marker"){throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.")}}this.mergeDefaultAndTheme(Z,e);this.mergeOption(Z,e,i.createdBySelf,true)},isAnimationEnabled:function(){if(QH.node){return false}var Z=this.__hostSeries;return this.getShallow("animation")&&Z&&Z.isAnimationEnabled()},mergeOption:function(Z,e,m,k){var v=this.constructor;var i=this.mainType+"Model";if(!m){e.eachSeries(function(PI){var WH=PI.get(this.mainType);var XY=PI[i];if(!WH||!WH.data){PI[i]=null;return}if(!XY){if(k){Vl(WH)}Dy(WH.data,function(Z2){if(Z2 instanceof Array){Vl(Z2[0]);Vl(Z2[1])}else{Vl(Z2)}});XY=new v(WH,this,e);XN(XY,{mainType:this.mainType,seriesIndex:PI.seriesIndex,name:PI.name,createdBySelf:true});XY.__hostSeries=PI}else{XY.mergeOption(WH,e,true)}PI[i]=XY},this)}},formatTooltip:function(e){var v=this.getData();var m=this.getRawValue(e);var i=cW(m)?QL(m,L0).join(", "):L0(m);var k=v.getName(e);var Z=PQ(this.name);if(m!=null||k){Z+="<br />"}if(k){Z+=PQ(k);if(m!=null){Z+=" : "}}if(m!=null){Z+=PQ(i)}return Z},getData:function(){return this._data},setData:function(Z){this._data=Z}});eG(D6,DD);D6.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:true,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:true}}}});var Fr=FT;function Jd(Z){return !(isNaN(parseFloat(Z.x))&&isNaN(parseFloat(Z.y)))}function D4(Z){return !isNaN(parseFloat(Z.x))&&!isNaN(parseFloat(Z.y))}function fI(XY,k,Z2,PI,Z,g1){var e=[];var m=ah(k,PI,Z2);var cc=m?k.getCalculationInfo("stackResultDimension"):PI;var v=QQ(k,cc,XY);var WH=k.indicesOfNearest(cc,v)[0];e[Z]=k.get(Z2,WH);e[g1]=k.get(PI,WH);var i=dP(k.get(PI,WH));i=Math.min(i,20);if(i>=0){e[g1]=+e[g1].toFixed(i)}return e}var UD=c3;var KD={min:UD(fI,"min"),max:UD(fI,"max"),average:UD(fI,"average")};function TR(v,cc){var k=v.getData();var e=v.coordinateSystem;if(cc&&!D4(cc)&&!cW(cc.coord)&&e){var m=e.dimensions;var XY=Y5(cc,k,e,v);cc=fJ(cc);if(cc.type&&KD[cc.type]&&XY.baseAxis&&XY.valueAxis){var Z=Fr(m,XY.baseAxis.dim);var Z2=Fr(m,XY.valueAxis.dim);cc.coord=KD[cc.type](k,XY.baseDataDim,XY.valueDataDim,Z,Z2);cc.value=cc.coord[Z2]}else{var WH=[cc.xAxis!=null?cc.xAxis:cc.radiusAxis,cc.yAxis!=null?cc.yAxis:cc.angleAxis];for(var PI=0;PI<2;PI++){if(KD[WH[PI]]){WH[PI]=QQ(k,k.mapDimension(m[PI]),WH[PI])}}cc.coord=WH}}return cc}function Y5(i,m,e,Z){var k={};if(i.valueIndex!=null||i.valueDim!=null){k.valueDataDim=i.valueIndex!=null?m.getDimension(i.valueIndex):i.valueDim;k.valueAxis=e.getAxis(N0(Z,k.valueDataDim));k.baseAxis=e.getOtherAxis(k.valueAxis);k.baseDataDim=m.mapDimension(k.baseAxis.dim)}else{k.baseAxis=Z.getBaseAxis();k.valueAxis=e.getOtherAxis(k.baseAxis);k.baseDataDim=m.mapDimension(k.baseAxis.dim);k.valueDataDim=m.mapDimension(k.valueAxis.dim)}return k}function N0(Z,m){var PI=Z.getData();var v=PI.dimensions;m=PI.getDimension(m);for(var e=0;e<v.length;e++){var k=PI.getDimensionInfo(v[e]);if(k.name===m){return k.coordDim}}}function Tf(Z,e){return(Z&&Z.containData&&e.coord&&!Jd(e))?Z.containData(e.coord):true}function Af(i,k,Z,e){if(e<2){return i.coord&&i.coord[e]}return i.value}function QQ(m,i,Z){if(Z==="average"){var k=0;var e=0;m.each(i,function(PI,v){if(!isNaN(PI)){k+=PI;e++}});return k/e}else{return m.getDataExtent(i,true)[Z==="max"?1:0]}}var Cs=ec({type:"marker",init:function(){this.markerGroupMap=Fj()},render:function(m,i,k){var Z=this.markerGroupMap;Z.each(function(v){v.__keep=false});var e=this.type+"Model";i.eachSeries(function(v){var PI=v[e];PI&&this.renderSeries(v,PI,i,k)},this);Z.each(function(v){!v.__keep&&this.group.remove(v.group)},this)},renderSeries:function(){}});function fV(i,Z,k){var e=Z.coordinateSystem;i.each(function(XY){var v=i.getItemModel(XY);var m;var PI=Pw(v.get("x"),k.getWidth());var WH=Pw(v.get("y"),k.getHeight());if(!isNaN(PI)&&!isNaN(WH)){m=[PI,WH]}else{if(Z.getMarkerPosition){m=Z.getMarkerPosition(i.getValues(i.dimensions,XY))}else{if(e){var Z2=i.get(e.dimensions[0],XY);var cc=i.get(e.dimensions[1],XY);m=e.dataToPoint([Z2,cc])}}}if(!isNaN(PI)){m[0]=PI}if(!isNaN(WH)){m[1]=WH}i.setItemLayout(XY,m)})}Cs.extend({type:"markPoint",updateTransform:function(e,Z,i){Z.eachSeries(function(k){var m=k.markPointModel;if(m){fV(m.getData(),k,i);this.markerGroupMap.get(k.id).updateLayout(m)}},this)},renderSeries:function(Z2,v,Z,WH){var e=Z2.coordinateSystem;var k=Z2.id;var m=Z2.getData();var XY=this.markerGroupMap;var PI=XY.get(k)||XY.set(k,new gu());var i=I9(e,Z2,v);v.setData(i);fV(v.getData(),Z2,WH);i.each(function(g1){var cc=i.getItemModel(g1);var g2=cc.getShallow("symbolSize");if(typeof g2==="function"){g2=g2(v.getRawValue(g1),v.getDataParams(g1))}i.setItemVisual(g1,{symbolSize:g2,color:cc.get("itemStyle.color")||m.getVisual("color"),symbol:cc.getShallow("symbol")})});PI.updateData(i);this.group.add(PI.group);i.eachItemGraphicEl(function(cc){cc.traverse(function(g1){g1.dataModel=v})});PI.__keep=true;PI.group.silent=v.get("silent")||Z2.get("silent")}});function I9(i, Z, k){var v;if(i){v=QL(i&&i.dimensions,function(PI){var WH=Z.getData().getDimensionInfo(Z.getData().mapDimension(PI))||{};return IK({name:PI},WH)})}else{v=[{name:"value",type:"float"}]}var m=new Mh(v,k);var e=QL(k.get("data"),c3(TR,Z));if(i){e=bs(e,c3(Tf,i))}m.initData(e,null,i?Af:function(PI){return PI.value});return m}Jo(function(Z){Z.markPoint=Z.markPoint||{}});D6.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:true,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:true},lineStyle:{width:3}},animationEasing:"linear"}});var E1=function(v, i, XY, g4){var k=v.getData();var g1=g4.type;if(!cW(g4)&&(g1==="min"||g1==="max"||g1==="average"||(g4.xAxis!=null||g4.yAxis!=null))){var Z;var WH;var PI;if(g4.yAxis!=null||g4.xAxis!=null){WH=g4.yAxis!=null?"y":"x";Z=i.getAxis(WH);PI=ER(g4.yAxis,g4.xAxis)}else{var cc=Y5(g4,k,i,v);WH=cc.valueDataDim;Z=cc.valueAxis;PI=QQ(k,WH,g1)}var Z2=WH==="x"?0:1;var g3=1-Z2;var e=fJ(g4);var m={};e.type=null;e.coord=[];m.coord=[];e.coord[g3]=-Infinity;m.coord[g3]=Infinity;var g2=XY.get("precision");if(g2>=0&&typeof PI==="number"){PI=+PI.toFixed(Math.min(g2,20))}e.coord[Z2]=m.coord[Z2]=PI;g4=[e,m,{type:g1,valueIndex:g4.valueIndex,value:PI}]}g4=[TR(v,g4[0]),TR(v,g4[1]),XN({},g4[2])];g4[2].type=g4[2].type||"";LB(g4[2],g4[0]);LB(g4[2],g4[1]);return g4};function Zn(Z){return !isNaN(Z)&&!isFinite(Z)}function Xg(e,v,m,i){var Z=1-e;var k=i.dimensions[e];return Zn(v[Z])&&Zn(m[Z])&&v[e]===m[e]&&i.getAxis(k).containData(v[e])}function Zh(Z,e){if(Z.type==="cartesian2d"){var k=e[0].coord;var i=e[1].coord;if(k&&i&&(Xg(1,k,i,Z)||Xg(0,k,i,Z))){return true}}return Tf(Z,e[0])&&Tf(Z,e[1])}function BB(k,PI,g1,g4,g2){var i=g4.coordinateSystem;var e=k.getItemModel(PI);var v;var m=Pw(e.get("x"),g2.getWidth());var g3=Pw(e.get("y"),g2.getHeight());if(!isNaN(m)&&!isNaN(g3)){v=[m,g3]}else{if(g4.getMarkerPosition){v=g4.getMarkerPosition(k.getValues(k.dimensions,PI))}else{var Z2=i.dimensions;var cc=k.get(Z2[0],PI);var Z=k.get(Z2[1],PI);v=i.dataToPoint([cc,Z])}if(i.type==="cartesian2d"){var XY=i.getAxis("x");var WH=i.getAxis("y");var Z2=i.dimensions;if(Zn(k.get(Z2[0],PI))){v[0]=XY.toGlobalCoord(XY.getExtent()[g1?0:1])}else{if(Zn(k.get(Z2[1],PI))){v[1]=WH.toGlobalCoord(WH.getExtent()[g1?0:1])}}}if(!isNaN(m)){v[0]=m}if(!isNaN(g3)){v[1]=g3}}k.setItemLayout(PI,v)}Cs.extend({type:"markLine",updateTransform:function(i,Z,e){Z.eachSeries(function(m){var v=m.markLineModel;if(v){var WH=v.getData();var PI=v.__from;var k=v.__to;PI.each(function(XY){BB(PI,XY,true,m,e);BB(k,XY,false,m,e)});WH.each(function(XY){WH.setItemLayout(XY,[PI.getItemLayout(XY),k.getItemLayout(XY)])});this.markerGroupMap.get(m.id).updateLayout()}},this)},renderSeries:function(g5,cc,e,g3){var i=g5.coordinateSystem;var v=g5.id;var WH=g5.getData();var g1=this.markerGroupMap;var PI=g1.get(v)||g1.set(v,new Nh());this.group.add(PI.group);var g4=Kr(i,g5,cc);var Z2=g4.from;var g2=g4.to;var m=g4.line;cc.__from=Z2;cc.__to=g2;cc.setData(m);var k=cc.get("symbol");var Z=cc.get("symbolSize");if(!cW(k)){k=[k,k]}if(typeof Z==="number"){Z=[Z,Z]}g4.from.each(function(g6){XY(Z2,g6,true);XY(g2,g6,false)});m.each(function(g7){var g6=m.getItemModel(g7).get("lineStyle.color");m.setItemVisual(g7,{color:g6||Z2.getItemVisual(g7,"color")});m.setItemLayout(g7,[Z2.getItemLayout(g7),g2.getItemLayout(g7)]);m.setItemVisual(g7,{"fromSymbolSize":Z2.getItemVisual(g7,"symbolSize"),"fromSymbol":Z2.getItemVisual(g7,"symbol"),"toSymbolSize":g2.getItemVisual(g7,"symbolSize"),"toSymbol":g2.getItemVisual(g7,"symbol")})});PI.updateData(m);g4.line.eachItemGraphicEl(function(g6,g7){g6.traverse(function(g8){g8.dataModel=cc})});function XY(g9,g8,g6){var g7=g9.getItemModel(g8);BB(g9,g8,g6,g5,g3);g9.setItemVisual(g8,{symbolSize:g7.get("symbolSize")||Z[g6?0:1],symbol:g7.get("symbol",true)||k[g6?0:1],color:g7.get("itemStyle.color")||WH.getVisual("color")})}PI.__keep=true;PI.group.silent=cc.get("silent")||g5.get("silent")}});function Kr(e, XY, m){var i;if(e){i=QL(e&&e.dimensions,function(Z2){var cc=XY.getData().getDimensionInfo(XY.getData().mapDimension(Z2))||{};return IK({name:Z2},cc)})}else{i=[{name:"value",type:"float"}]}var k=new Mh(i,m);var PI=new Mh(i,m);var v=new Mh([],m);var Z=QL(m.get("data"),c3(E1,XY,e,m));if(e){Z=bs(Z,c3(Zh,e))}var WH=e?Af:function(Z2){return Z2.value};k.initData(QL(Z,function(Z2){return Z2[0]}),null,WH);PI.initData(QL(Z,function(Z2){return Z2[1]}),null,WH);v.initData(QL(Z,function(Z2){return Z2[2]}));v.hasItemOption=true;return{from:k,to:PI,line:v}}Jo(function(Z){Z.markLine=Z.markLine||{}});D6.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:false,label:{show:true,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:true,position:"top"}}}});var Qu=function(m,i,Z,Z2){var PI=TR(m,Z2[0]);var v=TR(m,Z2[1]);var k=ER;var XY=PI.coord;var WH=v.coord;XY[0]=k(XY[0],-Infinity);XY[1]=k(XY[1],-Infinity);WH[0]=k(WH[0],Infinity);WH[1]=k(WH[1],Infinity);var e=F5([{},PI,v]);e.coord=[PI.coord,v.coord];e.x0=PI.x;e.y0=PI.y;e.x1=v.x;e.y1=v.y;return e};function Yh(Z){return !isNaN(Z)&&!isFinite(Z)}function CH(e,m,k,i){var Z=1-e;return Yh(m[Z])&&Yh(k[Z])}function N(Z,e){var k=e.coord[0];var i=e.coord[1];if(Z.type==="cartesian2d"){if(k&&i&&(CH(1,k,i,Z)||CH(0,k,i,Z))){return true}}return Tf(Z,{coord:k,x:e.x0,y:e.y0})||Tf(Z,{coord:i,x:e.x1,y:e.y1})}function An(k,PI,v,g4,g2){var i=g4.coordinateSystem;var e=k.getItemModel(PI);var g1;var m=Pw(e.get(v[0]),g2.getWidth());var g3=Pw(e.get(v[1]),g2.getHeight());if(!isNaN(m)&&!isNaN(g3)){g1=[m,g3]}else{if(g4.getMarkerPosition){g1=g4.getMarkerPosition(k.getValues(v,PI))}else{var cc=k.get(v[0],PI);var Z=k.get(v[1],PI);var Z2=[cc,Z];i.clampData&&i.clampData(Z2,Z2);g1=i.dataToPoint(Z2,true)}if(i.type==="cartesian2d"){var XY=i.getAxis("x");var WH=i.getAxis("y");var cc=k.get(v[0],PI);var Z=k.get(v[1],PI);if(Yh(cc)){g1[0]=XY.toGlobalCoord(XY.getExtent()[v[0]==="x0"?0:1])}else{if(Yh(Z)){g1[1]=WH.toGlobalCoord(WH.getExtent()[v[1]==="y0"?0:1])}}}if(!isNaN(m)){g1[0]=m}if(!isNaN(g3)){g1[1]=g3}}return g1}var Bm=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];Cs.extend({type:"markArea",updateTransform:function(e,Z,i){Z.eachSeries(function(k){var m=k.markAreaModel;if(m){var v=m.getData();v.each(function(XY){var WH=QL(Bm,function(Z2){return An(v,XY,Z2,k,i)});v.setItemLayout(XY,WH);var PI=v.getItemGraphicEl(XY);PI.setShape("points",WH)})}},this)},renderSeries:function(k,Z,e,XY){var i=k.coordinateSystem;var Z2=k.name;var m=k.getData();var PI=this.markerGroupMap;var v=PI.get(Z2)||PI.set(Z2,{group:new U3()});this.group.add(v.group);v.__keep=true;var WH=DA(i,k,Z);Z.setData(WH);WH.each(function(cc){WH.setItemLayout(cc,QL(Bm,function(g1){return An(WH,cc,g1,k,XY)}));WH.setItemVisual(cc,{color:m.getVisual("color")})});WH.diff(v.__data).add(function(cc){var g1=new Hd({shape:{points:WH.getItemLayout(cc)}});WH.setItemGraphicEl(cc,g1);v.group.add(g1)}).update(function(cc,g1){var g2=v.__data.getItemGraphicEl(g1);Qr(g2,{shape:{points:WH.getItemLayout(cc)}},Z,cc);v.group.add(g2);WH.setItemGraphicEl(cc,g2)}).remove(function(cc){var g1=v.__data.getItemGraphicEl(cc);v.group.remove(g1)}).execute();WH.eachItemGraphicEl(function(g4,g3){var cc=WH.getItemModel(g3);var g2=cc.getModel("label");var g1=cc.getModel("emphasis.label");var g5=WH.getItemVisual(g3,"color");g4.useStyle(IK(cc.getModel("itemStyle").getItemStyle(),{fill:WW(g5,0.4),stroke:g5}));g4.hoverStyle=cc.getModel("emphasis.itemStyle").getItemStyle();HB(g4.style,g4.hoverStyle,g2,g1,{labelFetcher:Z,labelDataIndex:g3,defaultText:WH.getName(g3)||"",isRectText:true,autoColor:g5});N7(g4,{});g4.dataModel=Z});v.__data=WH;v.group.silent=Z.get("silent")||k.get("silent")}});function DA(i, WH, Z){var k;var m;var v=["x0","y0","x1","y1"];if(i){k=QL(i&&i.dimensions,function(XY){var cc=WH.getData();var Z2=cc.getDimensionInfo(cc.mapDimension(XY))||{};return IK({name:XY},Z2)});m=new Mh(QL(v,function(Z2, XY){return{name:Z2,type:k[XY%2].type}}),Z)}else{k=[{name:"value",type:"float"}];m=new Mh(k,Z)}var e=QL(Z.get("data"),c3(Qu,WH,i,Z));if(i){e=bs(e,c3(N,i))}var PI=i?function(cc, g1, XY, Z2){return cc.coord[Math.floor(Z2/2)][Z2%2]}:function(XY){return XY.value};m.initData(e,null,PI);m.hasItemOption=true;return m}Jo(function(Z){Z.markArea=Z.markArea||{}});var XM=function(Z){var e=Z&&Z.timeline;if(!cW(e)){e=e?[e]:[]}Dy(e,function(i){if(!i){return}A8(i)})};function A8(e){var Z=e.type;var i={"number":"value","time":"time"};if(i[Z]){e.axisType=i[Z];delete e.type}eI(e);if(IL(e,"controlPosition")){var k=e.controlStyle||(e.controlStyle={});if(!IL(k,"position")){k.position=e.controlPosition}if(k.position==="none"&&!IL(k,"show")){k.show=false;delete k.position}delete e.controlPosition}Dy(e.data||[],function(m){if(EJ(m)&&!cW(m)){if(!IL(m,"value")&&IL(m,"name")){m.value=m.name}eI(m)}})}function eI(i){var m=i.itemStyle||(i.itemStyle={});var k=m.emphasis||(m.emphasis={});var Z=i.label||(i.label||{});var e=Z.normal||(Z.normal={});var v={normal:1,emphasis:1};Dy(Z,function(WH,PI){if(!v[PI]&&!IL(e,PI)){e[PI]=WH}});if(k.label&&!IL(Z,"emphasis")){Z.emphasis=k.label;delete k.label}}function IL(Z,e){return Z.hasOwnProperty(e)}Dt.registerSubTypeDefaulter("timeline",function(){return"slider"});S9({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(i,e){var Z=e.getComponent("timeline");if(Z&&i.currentIndex!=null){Z.setCurrentIndex(i.currentIndex);if(!Z.get("loop",true)&&Z.isIndexMax()){Z.setPlayState(false)}}e.resetOption("timeline");return IK({currentIndex:Z.option.currentIndex},i)});S9({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(i,e){var Z=e.getComponent("timeline");if(Z&&i.playState!=null){Z.setPlayState(i.playState)}});var et=Dt.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:true,axisType:"time",realtime:true,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:false,rewind:false,loop:true,playInterval:2000,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(Z,i,e){this._data;this._names;this.mergeDefaultAndTheme(Z,e);this._initData()},mergeOption:function(Z){et.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(e){if(e==null){e=this.option.currentIndex}var Z=this._data.count();if(this.option.loop){e=(e%Z+Z)%Z}else{e>=Z&&(e=Z-1);e<0&&(e=0)}this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(Z){this.option.autoPlay=!!Z},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var PI=this.option;var k=PI.data||[];var v=PI.axisType;var e=this._names=[];if(v==="category"){var m=[];Dy(k,function(Z2,cc){var WH=XZ(Z2);var XY;if(EJ(Z2)){XY=fJ(Z2);XY.value=cc}else{XY=cc}m.push(XY);if(!Ei(WH)&&(WH==null||isNaN(WH))){WH=""}e.push(WH+"")});k=m}var i=({category:"ordinal",time:"time"})[v]||"number";var Z=this._data=new Mh([{name:"value",type:i}],this);Z.initData(k,e)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category"){return this._names.slice()}}});var JV=et.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:false,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:true,width:2,color:"#304654"},label:{position:"auto",show:true,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:true,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:true,showPlayBtn:true,showPrevBtn:true,showNextBtn:true,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:true,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});eG(JV,DD);var FF=Pd.extend({type:"timeline"});var Xd=function(e,i,Z,k){Vs.call(this,e,i,Z);this.type=k||"value";this._autoLabelInterval;this.model=null};Xd.prototype={constructor:Xd,getLabelInterval:function(){var Z=this.model;var i=Z.getModel("label");var e=i.get("interval");if(e!=null&&e!="auto"){return e}var e=this._autoLabelInterval;if(!e){e=this._autoLabelInterval=S6(QL(this.scale.getTicks(),this.dataToCoord,this),d(this,i.get("formatter")),i.getFont(),Z.get("orient")==="horizontal"?0:90,i.get("rotate"))}return e},isLabelIgnored:function(e){if(this.type==="category"){var Z=this.getLabelInterval();return((typeof Z==="function")&&!Z(e,this.scale.getLabel(e)))||e%(Z+1)}}};K8(Xd,Vs);var Be=ei;var am=Dy;var gI=Math.PI;FF.extend({type:"timeline.slider",init:function(Z,e){this.api=e;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(v,e,PI,i){this.model=v;this.api=PI;this.ecModel=e;this.group.removeAll();if(v.get("show",true)){var m=this._layout(v,PI);var WH=this._createGroup("mainGroup");var Z=this._createGroup("labelGroup");var k=this._axis=this._createAxis(m,v);v.formatTooltip=function(XY){return Qp(k.scale.getLabel(XY))};am(["AxisLine","AxisTick","Control","CurrentPointer"],function(XY){this["_render"+XY](m,WH,k,v)},this);this._renderAxisLabel(m,Z,k,v);this._position(m,v)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(WH,g3){var g1=WH.get("label.position");var XY=WH.get("orient");var he=GQ(WH,g3);if(g1==null||g1==="auto"){g1=XY==="horizontal"?((he.y+he.height/2)<g3.getHeight()/2?"-":"+"):((he.x+he.width/2)<g3.getWidth()/2?"+":"-")}else{if(isNaN(g1)){g1=({horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}})[XY][g1]}}var Z={horizontal:"center",vertical:(g1>=0||g1==="+")?"left":"right"};var i={horizontal:(g1>=0||g1==="+")?"top":"bottom",vertical:"middle"};var g2={horizontal:0,vertical:gI/2};var m=XY==="vertical"?he.height:he.width;var g9=WH.getModel("controlStyle");var Z2=g9.get("show",true);var k=Z2?g9.get("itemSize"):0;var g4=Z2?g9.get("itemGap"):0;var hc=k+g4;var cc=WH.get("label.rotate")||0;cc=cc*gI/180;var g6;var v;var PI;var g7;var hd=g9.get("position",true);var g5=Z2&&g9.get("showPlayBtn",true);var ha=Z2&&g9.get("showPrevBtn",true);var g8=Z2&&g9.get("showNextBtn",true);var e=0;var hb=m;if(hd==="left"||hd==="bottom"){g5&&(g6=[0,0],e+=hc);ha&&(v=[e,0],e+=hc);g8&&(PI=[hb-k,0],hb-=hc)}else{g5&&(g6=[hb-k,0],hb-=hc);ha&&(v=[0,0],e+=hc);g8&&(PI=[hb-k,0],hb-=hc)}g7=[e,hb];if(WH.get("inverse")){g7.reverse()}return{viewRect:he,mainLength:m,orient:XY,rotation:g2[XY],labelRotation:cc,labelPosOpt:g1,labelAlign:WH.get("label.align")||Z[XY],labelBaseline:WH.get("label.verticalAlign")||WH.get("label.baseline")||i[XY],playPosition:g6,prevBtnPosition:v,nextBtnPosition:PI,axisExtent:g7,controlSize:k,controlGap:g4}},_position:function(g1,PI){var e=this._mainGroup;var i=this._labelGroup;var g8=g1.viewRect;if(g1.orient==="vertical"){var WH=HZ();var g7=g8.x;var g6=g8.y+g8.height;Zc(WH,WH,[-g7,-g6]);eX(WH,WH,-gI/2);Zc(WH,WH,[g7,g6]);g8=g8.clone();g8.applyTransform(WH)}var XY=g4(g8);var Z=g4(e.getBoundingRect());var g5=g4(i.getBoundingRect());var k=e.position;var g3=i.position;g3[0]=k[0]=XY[0][0];var Z2=g1.labelPosOpt;if(isNaN(Z2)){var v=Z2==="+"?0:1;g2(k,Z,XY,1,v);g2(g3,g5,XY,1,1-v)}else{var v=Z2>=0?0:1;g2(k,Z,XY,1,v);g3[1]=k[1]+Z2}e.attr("position",k);i.attr("position",g3);e.rotation=i.rotation=g1.rotation;cc(e);cc(i);function cc(m){var g9=m.position;m.origin=[XY[0][0]-g9[0],XY[1][0]-g9[1]]}function g4(m){return[[m.x,m.x+m.width],[m.y,m.y+m.height]]}function g2(m,g9,ha,hb,hc){m[hb]+=ha[hb][hc]-g9[hb][hc]}},_createAxis:function(PI,Z){var e=Z.getData();var v=Z.get("axisType");var m=Zo(Z,v);var i=e.getDataExtent("value");m.setExtent(i[0],i[1]);this._customizeScale(m,e);m.niceTicks();var k=new Xd("value",m,PI.axisExtent,v);k.model=Z;return k},_customizeScale:function(Z,e){Z.getTicks=function(){return e.mapArray(["value"],function(i){return i})};Z.getTicksLabels=function(){return QL(this.getTicks(),Z.getLabel,Z)}},_createGroup:function(Z){var e=this["_"+Z]=new U3();this.group.add(e);return e},_renderAxisLine:function(m,Z,k,e){var i=k.getExtent();if(!e.get("lineStyle.show")){return}Z.add(new Ut({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:XN({lineCap:"round"},e.getModel("lineStyle").getLineStyle()),silent:true,z2:1}))},_renderAxisTick:function(v,e,m,i){var k=i.getData();var Z=m.scale.getTicks();am(Z,function(Z2,cc){var g1=m.dataToCoord(Z2);var PI=k.getItemModel(cc);var XY=PI.getModel("itemStyle");var WH=PI.getModel("emphasis.itemStyle");var g3={position:[g1,0],onclick:Be(this._changeTimeline,this,cc)};var g2=aQ(PI,XY,e,g3);N7(g2,WH.getItemStyle());if(PI.get("tooltip")){g2.dataIndex=cc;g2.dataModel=i}else{g2.dataIndex=g2.dataModel=null}},this)},_renderAxisLabel:function(k,m,Z,WH){var v=WH.getModel("label");if(!v.get("show")){return}var i=WH.getData();var PI=Z.scale.getTicks();var XY=d(Z,v.get("formatter"));var e=Z.getLabelInterval();am(PI,function(Z2,cc){if(Z.isLabelIgnored(cc,e)){return}var g2=i.getItemModel(cc);var g4=g2.getModel("label");var g3=g2.getModel("emphasis.label");var g1=Z.dataToCoord(Z2);var g5=new FW({position:[g1,0],rotation:k.labelRotation-k.rotation,onclick:Be(this._changeTimeline,this,cc),silent:false});DQ(g5.style,g4,{text:XY[cc],textAlign:k.labelAlign,textVerticalAlign:k.labelBaseline});m.add(g5);N7(g5,DQ({},g3))},this)},_renderControl:function(v,PI,Z,XY){var Z2=v.controlSize;var cc=v.rotation;var k=XY.getModel("controlStyle").getItemStyle();var g1=XY.getModel("emphasis.controlStyle").getItemStyle();var e=[0,-Z2/2,Z2,Z2];var m=XY.getPlayState();var WH=XY.get("inverse",true);i(v.nextBtnPosition,"controlStyle.nextIcon",Be(this._changeTimeline,this,WH?"-":"+"));i(v.prevBtnPosition,"controlStyle.prevIcon",Be(this._changeTimeline,this,WH?"+":"-"));i(v.playPosition,"controlStyle."+(m?"stopIcon":"playIcon"),Be(this._handlePlayClick,this,!m),true);function i(g4,g7,g3,g6){if(!g4){return}var g2={position:g4,origin:[Z2/2,0],rotation:g6?-cc:0,rectHover:true,style:k,onclick:g3};var g5=Lq(XY,g7,e,g2);PI.add(g5);N7(g5,g1)}},_renderCurrentPointer:function(m,v,Z,WH){var k=WH.getData();var i=WH.getCurrentIndex();var XY=k.getItemModel(i).getModel("checkpointStyle");var PI=this;var e={onCreate:function(Z2){Z2.draggable=true;Z2.drift=Be(PI._handlePointerDrag,PI);Z2.ondragend=Be(PI._handlePointerDragend,PI);Ah(Z2,i,Z,WH,true)},onUpdate:function(Z2){Ah(Z2,i,Z,WH)}};this._currentPointer=aQ(XY,XY,this._mainGroup,{},this._currentPointer,e)},_handlePlayClick:function(Z){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:Z,from:this.uid})},_handlePointerDrag:function(i,k,Z){this._clearTimer();this._pointerChangeTimeline([Z.offsetX,Z.offsetY])},_handlePointerDragend:function(Z){this._pointerChangeTimeline([Z.offsetX,Z.offsetY],true)},_pointerChangeTimeline:function(m,v){var Z=this._toAxisCoord(m)[0];var PI=this._axis;var e=Jg(PI.getExtent().slice());Z>e[1]&&(Z=e[1]);Z<e[0]&&(Z=e[0]);this._currentPointer.position[0]=Z;this._currentPointer.dirty();var k=this._findNearestTick(Z);var i=this.model;if(v||(k!==i.getCurrentIndex()&&i.get("realtime"))){this._changeTimeline(k)}},_doPlayStop:function(){this._clearTimer();if(this.model.getPlayState()){this._timer=setTimeout(Be(Z,this),this.model.get("playInterval"))}function Z(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",true)?-1:1))}},_toAxisCoord:function(Z){var e=this._mainGroup.getLocalTransform();return Bp(Z,e,true)},_findNearestTick:function(Z){var m=this.model.getData();var i=Infinity;var e;var k=this._axis;m.each(["value"],function(XY,v){var WH=k.dataToCoord(XY);var PI=Math.abs(WH-Z);if(PI<i){i=PI;e=v}});return e},_clearTimer:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}},_changeTimeline:function(Z){var e=this.model.getCurrentIndex();if(Z==="+"){Z=e+1}else{if(Z==="-"){Z=e-1}}this.api.dispatchAction({type:"timelineChange",currentIndex:Z,from:this.uid})}});function GQ(e,Z){return CU(e.getBoxLayoutParams(),{width:Z.getWidth(),height:Z.getHeight()},e.get("padding"))}function Lq(Z,k,i,e){var m=JC(Z.get(k).replace(/^path:\/\//,""),fJ(e||{}),new FY(i[0],i[1],i[2],i[3]),"center");return m}function aQ(g2,WH,XY,k,Z2,i){var v=WH.get("color");if(!Z2){var m=g2.get("symbol");Z2=FK(m,-1,-1,2,2,v);Z2.setStyle("strokeNoScale",true);XY.add(Z2);i&&i.onCreate(Z2)}else{Z2.setColor(v);XY.add(Z2);i&&i.onUpdate(Z2)}var e=WH.getItemStyle(["color","symbol","symbolSize"]);Z2.setStyle(e);k=LB({rectHover:true,z2:100},k,true);var Z=g2.get("symbolSize");Z=Z instanceof Array?Z.slice():[+Z,+Z];Z[0]/=2;Z[1]/=2;k.scale=Z;var PI=g2.get("symbolOffset");if(PI){var cc=k.position=k.position||[0,0];cc[0]+=Pw(PI[0],Z[0]);cc[1]+=Pw(PI[1],Z[1])}var g1=g2.get("symbolRotate");k.rotation=(g1||0)*Math.PI/180||0;Z2.attr(k);Z2.updateTransform();return Z2}function Ah(e,k,PI,i,Z){if(e.dragging){return}var v=i.getModel("checkpointStyle");var m=PI.dataToCoord(i.getData().get(["value"],k));if(Z||!v.get("animation",true)){e.attr({position:[m,0]})}else{e.stopAnimation(true);e.animateTo({position:[m,0]},v.get("animationDuration",true),v.get("animationEasing",true))}}Jo(XM);var ae=Hl({type:"toolbox",layoutMode:{type:"box",ignoreSize:true},mergeDefaultAndTheme:function(Z){ae.superApply(this,"mergeDefaultAndTheme",arguments);Dy(this.option.feature,function(e,i){var k=RX(i);k&&LB(e,k.defaultOption)})},defaultOption:{show:true,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:true,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});ec({type:"toolbox",render:function(Z,e,Z2,i){var XY=this.group;XY.removeAll();if(!Z.get("show")){return}var k=+Z.get("itemSize");var PI=Z.get("feature")||{};var cc=this._features||(this._features={});var WH=[];Dy(PI,function(g1,g2){WH.push(g2)});(new WG(this._featureNames||[],WH)).add(v).update(v).remove(c3(v,null)).execute();this._featureNames=WH;function v(g2,g6){var g7=WH[g2];var g5=WH[g6];var g3=PI[g7];var g4=new fx(g3,Z,Z.ecModel);var g8;if(g7&&!g5){if(Co(g7)){g8={model:g4,onclick:g4.option.onclick,featureName:g7}}else{var g1=RX(g7);if(!g1){return}g8=new g1(g4,e,Z2)}cc[g7]=g8}else{g8=cc[g5];if(!g8){return}g8.model=g4;g8.ecModel=e;g8.api=Z2}if(!g7&&g5){g8.dispose&&g8.dispose(e,Z2);return}if(!g4.get("show")||g8.unusable){g8.remove&&g8.remove(e,Z2);return}m(g4,g8,g7);g4.setIconStatus=function(g9,hb){var ha=this.option;var hc=this.iconPaths;ha.iconStatus=ha.iconStatus||{};ha.iconStatus[g9]=hb;hc[g9]&&hc[g9].trigger(hb)};if(g8.render){g8.render(g4,e,Z2,i)}}function m(g6,ha,g8){var g9=g6.getModel("iconStyle");var g4=g6.getModel("emphasis.iconStyle");var g3=ha.getIcons?ha.getIcons():g6.get("icon");var g1=g6.get("title")||{};if(typeof g3==="string"){var g5=g3;var g7=g1;g3={};g1={};g3[g8]=g5;g1[g8]=g7}var g2=g6.iconPaths={};Dy(g3,function(hc,hb){var hd=DK(hc,{},{x:-k/2,y:-k/2,width:k,height:k});hd.setStyle(g9.getItemStyle());hd.hoverStyle=g4.getItemStyle();N7(hd);if(Z.get("showTitle")){hd.__title=g1[hb];hd.on("mouseover",function(){var he=g4.getItemStyle();hd.setStyle({text:g1[hb],textPosition:he.textPosition||"bottom",textFill:he.fill||he.stroke||"#000",textAlign:he.textAlign||"center"})}).on("mouseout",function(){hd.setStyle({textFill:null})})}hd.trigger(g6.get("iconStatus."+hb)||"normal");XY.add(hd);hd.on("click",ei(ha.onclick,ha,e,Z2,hb));g2[hb]=hd})}PA(XY,Z,Z2);XY.add(Mo(XY.getBoundingRect(),Z));XY.eachChild(function(g5){var g8=g5.__title;var g7=g5.hoverStyle;if(g7&&g8){var g3=HY(g8,dS(g7));var g1=g5.position[0]+XY.position[0];var g6=g5.position[1]+XY.position[1]+k;var g2=false;if(g6+g3.height>Z2.getHeight()){g7.textPosition="top";g2=true}var g4=g2?(-5-g3.height):(k+8);if(g1+g3.width/2>Z2.getWidth()){g7.textPosition=["100%",g4];g7.textAlign="right"}else{if(g1-g3.width/2<0){g7.textPosition=[0,g4];g7.textAlign="left"}}}})},updateView:function(i,Z,k,e){Dy(this._features,function(m){m.updateView&&m.updateView(m.model,Z,k,e)})},remove:function(Z,e){Dy(this._features,function(i){i.remove&&i.remove(Z,e)});this.group.removeAll()},dispose:function(Z,e){Dy(this._features,function(i){i.dispose&&i.dispose(Z,e)})}});function Co(Z){return Z.indexOf("my")===0}var Sf=Xb.toolbox.saveAsImage;function HG(Z){this.model=Z}HG.defaultOption={show:true,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Sf.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:Sf.lang.slice()};HG.prototype.unusable=!QH.canvasSupported;var Ht=HG.prototype;Ht.onclick=function(e,g2){var g4=this.model;var Z2=g4.get("name")||e.get("title.0.text")||"echarts";var Z=document.createElement("a");var g1=g4.get("type",true)||"png";Z.download=Z2+"."+g1;Z.target="_blank";var cc=g2.getConnectedDataURL({type:g1,backgroundColor:g4.get("backgroundColor",true)||e.get("backgroundColor")||"#fff",excludeComponents:g4.get("excludeComponents"),pixelRatio:g4.get("pixelRatio")});Z.href=cc;if(typeof MouseEvent==="function"&&!QH.browser.ie&&!QH.browser.edge){var m=new MouseEvent("click",{view:window,bubbles:true,cancelable:false});Z.dispatchEvent(m)}else{if(window.navigator.msSaveOrOpenBlob){var i=atob(cc.split(",")[1]);var PI=i.length;var XY=new Uint8Array(PI);while(PI--){XY[PI]=i.charCodeAt(PI)}var g3=new Blob([XY]);window.navigator.msSaveOrOpenBlob(g3,Z2+"."+g1)}else{var WH=g4.get("lang");var v='<body style="margin:0;"><img src="'+cc+'" style="max-width:100%;" title="'+((WH&&WH[0])||"")+'" /></body>';var k=window.open();k.document.write(v)}}};Fk("saveAsImage",HG);var gY=Xb.toolbox.magicType;function Gn(Z){this.model=Z}Gn.defaultOption={show:true,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:fJ(gY.title),option:{},seriesIndex:{}};var Hu=Gn.prototype;Hu.getIcons=function(){var e=this.model;var i=e.get("icon");var Z={};Dy(e.get("type"),function(k){if(i[k]){Z[k]=i[k]}});return Z};var JH={"line":function(i, e, Z, k){if(i==="bar"){return LB({id:e,type:"line",data:Z.get("data"),stack:Z.get("stack"),markPoint:Z.get("markPoint"),markLine:Z.get("markLine")},k.get("option.line")||{},true)}},"bar":function(i, e, Z, k){if(i==="line"){return LB({id:e,type:"bar",data:Z.get("data"),stack:Z.get("stack"),markPoint:Z.get("markPoint"),markLine:Z.get("markLine")},k.get("option.bar")||{},true)}},"stack":function(i, e, Z, k){if(i==="line"||i==="bar"){return LB({id:e,stack:"__ec_magicType_stack__"},k.get("option.stack")||{},true)}},"tiled":function(i, e, Z, k){if(i==="line"||i==="bar"){return LB({id:e,stack:""},k.get("option.tiled")||{},true)}}};var IZ=[["line","bar"],["stack","tiled"]];Hu.onclick=function(i, PI, Z){var m=this.model;var k=m.get("seriesIndex."+Z);if(!JH[Z]){return}var v={series:[]};var e=function(g7){var g4=g7.subType;var cc=g7.id;var g5=JH[Z](g4,cc,g7,m);if(g5){IK(g5,g7.option);v.series.push(g5)}var XY=g7.coordinateSystem;if(XY&&XY.type==="cartesian2d"&&(Z==="line"||Z==="bar")){var g2=XY.getAxesByScale("ordinal")[0];if(g2){var g6=g2.dim;var WH=g6+"Axis";var Z2=i.queryComponents({mainType:WH,index:g7.get(name+"Index"),id:g7.get(name+"Id")})[0];var g1=Z2.componentIndex;v[WH]=v[WH]||[];for(var g3=0;g3<=g1;g3++){v[WH][g1]=v[WH][g1]||{}}v[WH][g1].boundaryGap=Z==="bar"?true:false}}};Dy(IZ,function(WH){if(FT(WH,Z)>=0){Dy(WH,function(XY){m.setIconStatus(XY,"normal")})}});m.setIconStatus(Z,"emphasis");i.eachComponent({mainType:"series",query:k==null?null:{seriesIndex:k}},e);PI.dispatchAction({type:"changeMagicType",currentType:Z,newOption:v})};S9({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,Z){Z.mergeOption(e.newOption)});Fk("magicType",Gn);var fU=Xb.toolbox.dataView;var D3=new Array(60).join("-");var Op="\t";function gj(e){var k={};var Z=[];var i=[];e.eachRawSeries(function(v){var PI=v.coordinateSystem;if(PI&&(PI.type==="cartesian2d"||PI.type==="polar")){var WH=PI.getBaseAxis();if(WH.type==="category"){var m=WH.dim+"_"+WH.index;if(!k[m]){k[m]={categoryAxis:WH,valueAxis:PI.getOtherAxis(WH),series:[]};i.push({axisDim:WH.dim,axisIndex:WH.index})}k[m].series.push(v)}else{Z.push(v)}}else{Z.push(v)}});return{seriesGroupByCategoryAxis:k,other:Z,meta:i}}function QY(e){var Z=[];Dy(e,function(XY,k){var WH=XY.categoryAxis;var g1=XY.valueAxis;var m=g1.dim;var cc=[" "].concat(QL(XY.series,function(i){return i.name}));var v=[WH.model.getCategories()];Dy(XY.series,function(i){v.push(i.getRawData().mapArray(m,function(g4){return g4}))});var g3=[cc.join(Op)];for(var Z2=0;Z2<v[0].length;Z2++){var g2=[];for(var PI=0;PI<v.length;PI++){g2.push(v[PI][Z2])}g3.push(g2.join(Op))}Z.push(g3.join("\n"))});return Z.join("\n\n"+D3+"\n\n")}function RO(Z){return QL(Z,function(i){var m=i.getRawData();var e=[i.name];var k=[];m.each(m.dimensions,function(){var WH=arguments.length;var v=arguments[WH-1];var XY=m.getName(v);for(var PI=0;PI<WH-1;PI++){k[PI]=arguments[PI]}e.push((XY?(XY+Op):"")+k.join(Op))});return e.join("\n")}).join("\n\n"+D3+"\n\n")}function gm(Z){var e=gj(Z);return{value:bs([QY(e.seriesGroupByCategoryAxis),RO(e.other)],function(i){return i.replace(/[\n\t\s]/g,"")}).join("\n\n"+D3+"\n\n"),meta:e.meta}}function Zg(Z){return Z.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function MO(e){var Z=e.slice(0,e.indexOf("\n"));if(Z.indexOf(Op)>=0){return true}}var OC=new RegExp("["+Op+"]+","g");function Ln(XY){var k=XY.split(/\n+/g);var e=Zg(k.shift()).split(OC);var Z=[];var PI=QL(e,function(i){return{name:i,data:[]}});for(var m=0;m<k.length;m++){var WH=Zg(k[m]).split(OC);Z.push(WH.shift());for(var v=0;v<WH.length;v++){PI[v]&&(PI[v].data[m]=WH[v])}}return{series:PI,categories:Z}}function CL(m){var k=m.split(/\n+/g);var cc=Zg(k.shift());var e=[];for(var PI=0;PI<k.length;PI++){var Z2=Zg(k[PI]).split(OC);var Z="";var v;var XY=false;if(isNaN(Z2[0])){XY=true;Z=Z2[0];Z2=Z2.slice(1);e[PI]={name:Z,value:[]};v=e[PI].value}else{v=e[PI]=[]}for(var WH=0;WH<Z2.length;WH++){v.push(+Z2[WH])}if(v.length===1){XY?(e[PI].value=v[0]):(e[PI]=v[0])}}return{name:cc,data:e}}function Nb(i,e){var Z=i.split(new RegExp("\n*"+D3+"\n*","g"));var k={series:[]};Dy(Z,function(XY,WH){if(MO(XY)){var v=Ln(XY);var PI=e[WH];var m=PI.axisDim+"Axis";if(PI){k[m]=k[m]||[];k[m][PI.axisIndex]={data:v.categories};k.series=k.series.concat(v.series)}}else{var v=CL(XY);k.series.push(v)}});return k}function Kh(Z){this._dom=null;this.model=Z}Kh.defaultOption={show:true,readOnly:false,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:fJ(fU.title),lang:fJ(fU.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};Kh.prototype.onclick=function(e,Z2){var g7=Z2.getDom();var i=this.model;if(this._dom){g7.removeChild(this._dom)}var cc=document.createElement("div");cc.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";cc.style.backgroundColor=i.get("backgroundColor")||"#fff";var k=document.createElement("h4");var g3=i.get("lang")||[];k.innerHTML=g3[0]||i.get("title");k.style.cssText="margin: 10px 20px;";k.style.color=i.get("textColor");var m=document.createElement("div");var g5=document.createElement("textarea");m.style.cssText="display:block;width:100%;overflow:auto;";var g9=i.get("optionToContent");var v=i.get("contentToOption");var g8=gm(e);if(typeof g9==="function"){var Z=g9(Z2.getOption());if(typeof Z==="string"){m.innerHTML=Z}else{if(Zp(Z)){m.appendChild(Z)}}}else{m.appendChild(g5);g5.readOnly=i.get("readOnly");g5.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";g5.style.color=i.get("textColor");g5.style.borderColor=i.get("textareaBorderColor");g5.style.backgroundColor=i.get("textareaColor");g5.value=g8.value}var g1=g8.meta;var WH=document.createElement("div");WH.style.cssText="position:absolute;bottom:0;left:0;right:0;";var g2="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var XY=document.createElement("div");var g6=document.createElement("div");g2+=";background-color:"+i.get("buttonColor");g2+=";color:"+i.get("buttonTextColor");var g4=this;function PI(){g7.removeChild(cc);g4._dom=null}Gh(XY,"click",PI);Gh(g6,"click",function(){var hb;try{if(typeof v==="function"){hb=v(m,Z2.getOption())}else{hb=Nb(g5.value,g1)}}catch(ha){PI();throw new Error("Data view format error "+ha)}if(hb){Z2.dispatchAction({type:"changeDataView",newOption:hb})}PI()});XY.innerHTML=g3[1];g6.innerHTML=g3[2];g6.style.cssText=g2;XY.style.cssText=g2;!i.get("readOnly")&&WH.appendChild(g6);WH.appendChild(XY);Gh(g5,"keydown",function(ha){if((ha.keyCode||ha.which)===9){var hc=this.value;var hd=this.selectionStart;var hb=this.selectionEnd;this.value=hc.substring(0,hd)+Op+hc.substring(hb);this.selectionStart=this.selectionEnd=hd+1;GL(ha)}});cc.appendChild(k);cc.appendChild(m);cc.appendChild(WH);m.style.height=(g7.clientHeight-80)+"px";g7.appendChild(cc);this._dom=cc};Kh.prototype.remove=function(Z, e){this._dom&&e.getDom().removeChild(this._dom)};Kh.prototype.dispose=function(Z, e){this.remove(Z,e)};function Oa(Z, e){return QL(Z,function(k, m){var i=e&&e[m];if(EJ(i)&&!cW(i)){if(EJ(k)&&!cW(k)){k=k.value}return IK({value:k},i)}else{return k}})}Fk("dataView",Kh);S9({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i, e){var Z=[];Dy(i.newOption.series,function(m){var k=e.getSeriesByName(m.name)[0];if(!k){Z.push(XN({type:"scatter"},m))}else{var v=k.get("data");Z.push({name:m.name,data:Oa(m.data,v)})}});e.mergeOption(IK({series:Z},i.newOption))});var TA=Dy;var Hs="\0_ec_hist_store";function U2(e, i){var Z=Lo(e);TA(i,function(WH, m){var k=Z.length-1;for(; k>=0; k--){var XY=Z[k];if(XY[m]){break}}if(k<0){var PI=e.queryComponents({mainType:"dataZoom",subType:"select",id:m})[0];if(PI){var v=PI.getPercentRange();Z[0][m]={dataZoomId:m,start:v[0],end:v[1]}}}});Z.push(i)}function cZ(e){var Z=Lo(e);var i=Z[Z.length-1];Z.length>1&&Z.pop();var k={};TA(i,function(PI, v){for(var m=Z.length-1;m>=0;m--){var PI=Z[m][v];if(PI){k[v]=PI;break}}});return k}function eO(Z){Z[Hs]=null}function E0(Z){return Lo(Z).length}function Lo(e){var Z=e[Hs];if(!Z){Z=e[Hs]=[{}]}return Z}cz.extend({type:"dataZoom.select"});a6.extend({type:"dataZoom.select"});var ZK=Xb.toolbox.dataZoom;var an=Dy;var Hx="\0_ec_\0toolbox-dataZoom_";function JP(i,Z,e){(this._brushController=new YD(e.getZr())).on("brush",ei(this._onBrush,this)).mount();this._isZoomActive}JP.defaultOption={show:true,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:fJ(ZK.title)};var Hr=JP.prototype;Hr.render=function(i,Z,k,e){this.model=i;this.ecModel=Z;this.api=k;Xv(i,Z,this,e,k);MM(i,Z)};Hr.onclick=function(e,i,Z){Ja[Z].call(this)};Hr.remove=function(Z,e){this._brushController.unmount()};Hr.dispose=function(Z,e){this._brushController.dispose()};var Ja={zoom:function(){var Z=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:Z})},back:function(){this._dispatchZoomAction(cZ(this.ecModel))}};Hr._onBrush=function(Z,e){if(!e.isEnd||!Z.length){return}var v={};var i=this.ecModel;this._brushController.updateCovers([]);var PI=new Hc(To(this.model.option),i,{include:["grid"]});PI.matchOutputRanges(Z,i,function(cc,WH,XY){if(XY.type!=="cartesian2d"){return}var Z2=cc.brushType;if(Z2==="rect"){k("x",XY,WH[0]);k("y",XY,WH[1])}else{k(({lineX:"x",lineY:"y"})[Z2],XY,WH)}});U2(i,v);this._dispatchZoomAction(v);function k(cc,Z2,WH){var g3=Z2.getAxis(cc);var g2=g3.model;var g1=m(cc,g2,i);var XY=g1.findRepresentativeAxisProxy(g2).getMinMaxSpan();if(XY.minValueSpan!=null||XY.maxValueSpan!=null){WH=Kt(0,WH.slice(),g3.scale.getExtent(),0,XY.minValueSpan,XY.maxValueSpan)}g1&&(v[g1.id]={dataZoomId:g1.id,startValue:WH[0],endValue:WH[1]})}function m(Z2,XY,WH){var cc;WH.eachComponent({mainType:"dataZoom",subType:"select"},function(g1){var g2=g1.getAxisModel(Z2,XY.componentIndex);g2&&(cc=g1)});return cc}};Hr._dispatchZoomAction=function(Z){var e=[];an(Z,function(k,i){e.push(fJ(k))});e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})};function To(Z){var e={};Dy(["xAxisIndex","yAxisIndex"],function(i){e[i]=Z[i];e[i]==null&&(e[i]="all");(e[i]===false||e[i]==="none")&&(e[i]=[])});return e}function MM(e,Z){e.setIconStatus("back",E0(Z)>1?"emphasis":"normal")}function Xv(m,i,k,Z,v){var e=k._isZoomActive;if(Z&&Z.type==="takeGlobalCursor"){e=Z.key==="dataZoomSelect"?Z.dataZoomSelectActive:false}k._isZoomActive=e;m.setIconStatus("zoom",e?"emphasis":"normal");var PI=new Hc(To(m.option),i,{include:["grid"]});k._brushController.setPanels(PI.makePanelOpts(v,function(WH){return(WH.xAxisDeclared&&!WH.yAxisDeclared)?"lineX":(!WH.xAxisDeclared&&WH.yAxisDeclared)?"lineY":"rect"})).enableBrush(e?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:false)}Fk("dataZoom",JP);Jo(function(e){if(!e){return}var v=e.dataZoom||(e.dataZoom=[]);if(!cW(v)){e.dataZoom=v=[v]}var i=e.toolbox;if(i){if(cW(i)){i=i[0]}if(i&&i.feature){var k=i.feature.dataZoom;Z("xAxis",k);Z("yAxis",k)}}function Z(Z2,XY){if(!XY){return}var PI=Z2+"Index";var WH=XY[PI];if(WH!=null&&WH!="all"&&!cW(WH)){WH=(WH===false||WH==="none")?[]:[WH]}m(Z2,function(cc,g2){if(WH!=null&&WH!="all"&&FT(WH,g2)===-1){return}var g1={type:"select",$fromToolbox:true,id:Hx+Z2+g2};g1[PI]=g2;v.push(g1)})}function m(XY,PI){var WH=e[XY];if(!cW(WH)){WH=WH?[WH]:[]}an(WH,PI)}});var XL=Xb.toolbox.restore;function Gc(Z){this.model=Z}Gc.defaultOption={show:true,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:XL.title};var EI=Gc.prototype;EI.onclick=function(e,i,Z){eO(e);i.dispatchAction({type:"restore",from:this.uid})};Fk("restore",Gc);S9({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,Z){Z.resetOption("recreate")});var cU="urn:schemas-microsoft-com:vml";var Za=typeof window==="undefined"?null:window;var ai=false;var HU=Za&&Za.document;function T7(Z){return Ur(Z)}var Ur;if(HU&&!QH.canvasSupported){try{!HU.namespaces.zrvml&&HU.namespaces.add("zrvml",cU);Ur=function(Z){return HU.createElement("<zrvml:"+Z+' class="zrvml">')}}catch(PN){Ur=function(Z){return HU.createElement("<"+Z+' xmlns="'+cU+'" class="zrvml">')}}}function RZ(){if(ai||!HU){return}ai=true;var Z=HU.styleSheets;if(Z.length<31){HU.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)")}else{Z[0].addRule(".zrvml","behavior:url(#default#VML)")}}var a3=OX.CMD;var C=Math.round;var TY=Math.sqrt;var Qn=Math.abs;var T1=Math.cos;var aU=Math.sin;var DM=Math.max;if(!QH.canvasSupported){var eJ=",";var Ox="progid:DXImageTransform.Microsoft";var ay=21600;var PB=ay/2;var Ds=100000;var E2=1000;var ee=function(Z){Z.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";Z.coordsize=ay+","+ay;Z.coordorigin="0,0"};var Su=function(Z){return String(Z).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};var Yf=function(e,Z,i){return"rgb("+[e,Z,i].join(",")+")"};var NM=function(e,Z){if(Z&&e&&Z.parentNode!==e){e.appendChild(Z)}};var A6=function(e,Z){if(Z&&e&&Z.parentNode===e){e.removeChild(Z)}};var fY=function(e,Z,i){return(parseFloat(e)||0)*Ds+(parseFloat(Z)||0)*E2+i};var f2=function(Z,e){if(typeof Z==="string"){if(Z.lastIndexOf("%")>=0){return parseFloat(Z)/100*e}return parseFloat(Z)}return Z};var VH=function(Z,k,i){var e=dl(k);i=+i;if(isNaN(i)){i=1}if(e){Z.color=Yf(e[0],e[1],e[2]);Z.opacity=i*e[3]}};var Hg=function(e){var Z=dl(e);return[Yf(Z[0],Z[1],Z[2]),Z[3]]};var FG=function(hj,g7,Z2){var hm=g7.fill;if(hm!=null){if(hm instanceof Jq){var g8;var hl=0;var g2=[0,0];var hf=0;var e=1;var hd=Z2.getBoundingRect();var PI=hd.width;var cc=hd.height;if(hm.type==="linear"){g8="gradient";var WH=Z2.transform;var g5=[hm.x*PI,hm.y*cc];var XY=[hm.x2*PI,hm.y2*cc];if(WH){Ip(g5,g5,WH);Ip(XY,XY,WH)}var g3=XY[0]-g5[0];var hi=XY[1]-g5[1];hl=Math.atan2(g3,hi)*180/Math.PI;if(hl<0){hl+=360}if(hl<1e-06){hl=0}}else{g8="gradientradial";var g5=[hm.x*PI,hm.y*cc];var WH=Z2.transform;var g4=Z2.scale;var g9=PI;var hk=cc;g2=[(g5[0]-hd.x)/g9,(g5[1]-hd.y)/hk];if(WH){Ip(g5,g5,WH)}g9/=g4[0]*ay;hk/=g4[1]*ay;var hc=DM(g9,hk);hf=2*0/hc;e=2*hm.r/hc-hf}var ha=hm.colorStops.slice();ha.sort(function(i,hn){return i.offset-hn.offset});var m=ha.length;var k=[];var hb=[];for(var hh=0;hh<m;hh++){var Z=ha[hh];var g1=Hg(Z.color);hb.push(Z.offset*e+hf+" "+g1[0]);if(hh===0||hh===m-1){k.push(g1)}}if(m>=2){var g6=k[0][0];var v=k[1][0];var he=k[0][1]*g7.opacity;var hg=k[1][1]*g7.opacity;hj.type=g8;hj.method="none";hj.focus="100%";hj.angle=hl;hj.color=g6;hj.color2=v;hj.colors=hb.join(",");hj.opacity=hg;hj.opacity2=he}if(g8==="radial"){hj.focusposition=g2.join(",")}}else{VH(hj,hm,g7.opacity)}}};var fv=function(Z,e){if(e.lineDash!=null){Z.dashstyle=e.lineDash.join(" ")}if(e.stroke!=null&&!(e.stroke instanceof Jq)){VH(Z,e.stroke,e.opacity)}};var IH=function(Z,v,k,e){var i=v=="fill";var m=Z.getElementsByTagName(v)[0];if(k[v]!=null&&k[v]!=="none"&&(i||(!i&&k.lineWidth))){Z[i?"filled":"stroked"]="true";if(k[v] instanceof Jq){A6(Z,m)}if(!m){m=T7(v)}i?FG(m,k,e):fv(m,k);NM(Z,m)}else{Z[i?"filled":"stroked"]="false";A6(Z,m)}};var Mx=[[],[],[]];var E5=function(hn,hu){var hj=a3.M;var hk=a3.C;var WH=a3.L;var hm=a3.A;var hc=a3.Q;var hx=[];var cc;var Z2;var g1;var ht;var hh;var hi;var hs=hn.data;var e=hn.len();for(ht=0;ht<e;){g1=hs[ht++];Z2="";cc=0;switch(g1){case hj:Z2=" m ";cc=1;hh=hs[ht++];hi=hs[ht++];Mx[0][0]=hh;Mx[0][1]=hi;break;case WH:Z2=" l ";cc=1;hh=hs[ht++];hi=hs[ht++];Mx[0][0]=hh;Mx[0][1]=hi;break;case hc:case hk:Z2=" c ";cc=3;var g2=hs[ht++];var g3=hs[ht++];var v=hs[ht++];var PI=hs[ht++];var hv;var hw;if(g1===hc){hv=v;hw=PI;v=(v+2*g2)/3;PI=(PI+2*g3)/3;g2=(hh+2*g2)/3;g3=(hi+2*g3)/3}else{hv=hs[ht++];hw=hs[ht++]}Mx[0][0]=g2;Mx[0][1]=g3;Mx[1][0]=v;Mx[1][1]=PI;Mx[2][0]=hv;Mx[2][1]=hw;hh=hv;hi=hw;break;case hm:var hp=0;var hq=0;var hf=1;var g8=1;var g6=0;if(hu){hp=hu[4];hq=hu[5];hf=TY(hu[0]*hu[0]+hu[1]*hu[1]);g8=TY(hu[2]*hu[2]+hu[3]*hu[3]);g6=Math.atan2(-hu[1]/g8,hu[0]/hf)}var ho=hs[ht++];var hg=hs[ht++];var he=hs[ht++];var g7=hs[ht++];var hb=hs[ht++]+g6;var hl=hs[ht++]+hb+g6;ht++;var XY=hs[ht++];var g9=ho+T1(hb)*he;var ha=hg+aU(hb)*g7;var g2=ho+T1(hl)*he;var g3=hg+aU(hl)*g7;var Z=XY?" wa ":" at ";if(Math.abs(g9-g2)<0.0001){if(Math.abs(hl-hb)>0.01){if(XY){g9+=270/ay}}else{if(Math.abs(ha-hg)<0.0001){if((XY&&g9<ho)||(!XY&&g9>ho)){g3-=270/ay}else{g3+=270/ay}}else{if((XY&&ha<hg)||(!XY&&ha>hg)){g2+=270/ay}else{g2-=270/ay}}}}hx.push(Z,C(((ho-he)*hf+hp)*ay-PB),eJ,C(((hg-g7)*g8+hq)*ay-PB),eJ,C(((ho+he)*hf+hp)*ay-PB),eJ,C(((hg+g7)*g8+hq)*ay-PB),eJ,C((g9*hf+hp)*ay-PB),eJ,C((ha*g8+hq)*ay-PB),eJ,C((g2*hf+hp)*ay-PB),eJ,C((g3*g8+hq)*ay-PB));hh=g2;hi=g3;break;case a3.R:var hd=Mx[0];var g5=Mx[1];hd[0]=hs[ht++];hd[1]=hs[ht++];g5[0]=hd[0]+hs[ht++];g5[1]=hd[1]+hs[ht++];if(hu){Ip(hd,hd,hu);Ip(g5,g5,hu)}hd[0]=C(hd[0]*ay-PB);g5[0]=C(g5[0]*ay-PB);hd[1]=C(hd[1]*ay-PB);g5[1]=C(g5[1]*ay-PB);hx.push(" m ",hd[0],eJ,hd[1]," l ",g5[0],eJ,hd[1]," l ",g5[0],eJ,g5[1]," l ",hd[0],eJ,g5[1]);break;case a3.Z:hx.push(" x ")}if(cc>0){hx.push(Z2);for(var g4=0;g4<cc;g4++){var hr=Mx[g4];hu&&Ip(hr,hr,hu);hx.push(C(hr[0]*ay-PB),eJ,C(hr[1]*ay-PB),g4<cc-1?eJ:"")}}}return hx.join("")};Mj.prototype.brushVML=function(Z){var v=this.style;var e=this._vmlEl;if(!e){e=T7("shape");ee(e);this._vmlEl=e}IH(e,"fill",v,this);IH(e,"stroke",v,this);var XY=this.transform;var WH=XY!=null;var k=e.getElementsByTagName("stroke")[0];if(k){var PI=v.lineWidth;if(WH&&!v.strokeNoScale){var i=XY[0]*XY[3]-XY[1]*XY[2];PI*=TY(Qn(i))}k.weight=PI+"px"}var Z2=this.path||(this.path=new OX());if(this.__dirtyPath){Z2.beginPath();this.buildPath(Z2,this.shape);Z2.toStatic();this.__dirtyPath=false}e.path=E5(Z2,this.transform);e.style.zIndex=fY(this.zlevel,this.z,this.z2);NM(Z,e);if(v.text!=null){this.drawRectText(Z,this.getBoundingRect())}else{this.removeRectText(Z)}};Mj.prototype.onRemove=function(Z){A6(Z,this._vmlEl);this.removeRectText(Z)};Mj.prototype.onAdd=function(Z){NM(Z,this._vmlEl);this.appendRectText(Z)};var SZ=function(Z){return(typeof Z==="object")&&Z.tagName&&Z.tagName.toUpperCase()==="IMG"};Hv.prototype.brushVML=function(hb){var hk=this.style;var Z2=hk.image;var g9;var cc;if(SZ(Z2)){var hh=Z2.src;if(hh===this._imageSrc){g9=this._imageWidth;cc=this._imageHeight}else{var hq=Z2.runtimeStyle;var hr=hq.width;var k=hq.height;hq.width="auto";hq.height="auto";g9=Z2.width;cc=Z2.height;hq.width=hr;hq.height=k;this._imageSrc=hh;this._imageWidth=g9;this._imageHeight=cc}Z2=hh}else{if(Z2===this._imageSrc){g9=this._imageWidth;cc=this._imageHeight}}if(!Z2){return}var hm=hk.x||0;var hn=hk.y||0;var g2=hk.width;var g4=hk.height;var PI=hk.sWidth;var XY=hk.sHeight;var he=hk.sx||0;var g3=hk.sy||0;var ha=PI&&XY;var hj=this._vmlEl;if(!hj){hj=HU.createElement("div");ee(hj);this._vmlEl=hj}var hp=hj.style;var hs=false;var ht;var hg=1;var g8=1;if(this.transform){ht=this.transform;hg=TY(ht[0]*ht[0]+ht[1]*ht[1]);g8=TY(ht[2]*ht[2]+ht[3]*ht[3]);hs=ht[1]||ht[2]}if(hs){var hd=[hm,hn];var g6=[hm+g2,hn];var WH=[hm,hn+g4];var Z=[hm+g2,hn+g4];Ip(hd,hd,ht);Ip(g6,g6,ht);Ip(WH,WH,ht);Ip(Z,Z,ht);var g5=DM(hd[0],g6[0],WH[0],Z[0]);var hc=DM(hd[1],g6[1],WH[1],Z[1]);var i=[];i.push("M11=",ht[0]/hg,eJ,"M12=",ht[2]/g8,eJ,"M21=",ht[1]/hg,eJ,"M22=",ht[3]/g8,eJ,"Dx=",C(hm*hg+ht[4]),eJ,"Dy=",C(hn*g8+ht[5]));hp.padding="0 "+C(g5)+"px "+C(hc)+"px 0";hp.filter=Ox+".Matrix("+i.join("")+", SizingMethod=clip)"}else{if(ht){hm=hm*hg+ht[4];hn=hn*g8+ht[5]}hp.filter="";hp.left=C(hm)+"px";hp.top=C(hn)+"px"}var g1=this._imageEl;var ho=this._cropEl;if(!g1){g1=HU.createElement("div");this._imageEl=g1}var g7=g1.style;if(ha){if(!(g9&&cc)){var v=new Image();var hi=this;v.onload=function(){v.onload=null;g9=v.width;cc=v.height;g7.width=C(hg*g9*g2/PI)+"px";g7.height=C(g8*cc*g4/XY)+"px";hi._imageWidth=g9;hi._imageHeight=cc;hi._imageSrc=Z2};v.src=Z2}else{g7.width=C(hg*g9*g2/PI)+"px";g7.height=C(g8*cc*g4/XY)+"px"}if(!ho){ho=HU.createElement("div");ho.style.overflow="hidden";this._cropEl=ho}var hl=ho.style;hl.width=C((g2+he*g2/PI)*hg);hl.height=C((g4+g3*g4/XY)*g8);hl.filter=Ox+".Matrix(Dx="+(-he*g2/PI*hg)+",Dy="+(-g3*g4/XY*g8)+")";if(!ho.parentNode){hj.appendChild(ho)}if(g1.parentNode!=ho){ho.appendChild(g1)}}else{g7.width=C(hg*g2)+"px";g7.height=C(g8*g4)+"px";hj.appendChild(g1);if(ho&&ho.parentNode){hj.removeChild(ho);this._cropEl=null}}var hf="";var e=hk.opacity;if(e<1){hf+=".Alpha(opacity="+C(e*100)+") "}hf+=Ox+".AlphaImageLoader(src="+Z2+", SizingMethod=scale)";g7.filter=hf;hj.style.zIndex=fY(this.zlevel,this.z,this.z2);NM(hb,hj);if(hk.text!=null){this.drawRectText(hb,this.getBoundingRect())}};Hv.prototype.onRemove=function(Z){A6(Z,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(Z)};Hv.prototype.onAdd=function(Z){NM(Z,this._vmlEl);this.appendRectText(Z)};var LS="normal";var gl={};var Cd=0;var de=100;var fX=document.createElement("div");var Iq=function(k){var m=gl[k];if(!m){if(Cd>de){Cd=0;gl={}}var i=fX.style;var v;try{i.font=k;v=i.fontFamily.split(",")[0]}catch(Z){}m={style:i.fontStyle||LS,variant:i.fontVariant||LS,weight:i.fontWeight||LS,size:parseFloat(i.fontSize||12)|0,family:v||"Microsoft YaHei"};gl[k]=m;Cd++}return m};var NP;Qj("measureText",function(e,k){var i=HU;if(!NP){NP=i.createElement("div");NP.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;";HU.body.appendChild(NP)}try{NP.style.font=k}catch(Z){}NP.innerHTML="";NP.appendChild(i.createTextNode(e));return{width:NP.offsetWidth}});var d6=new FY();var Sp=function(Z2,g2,hl,g9){var hk=this.style;this.__dirty&&Df(hk,true);var g4=hk.text;g4!=null&&(g4+="");if(!g4){return}if(hk.rich){var hb=Ks(g4,hk);g4=[];for(var hg=0;hg<hb.lines.length;hg++){var WH=hb.lines[hg].tokens;var v=[];for(var g1=0;g1<WH.length;g1++){v.push(WH[g1].text)}g4.push(v.join(""))}g4=g4.join("\n")}var hh;var hi;var XY=hk.textAlign;var he=hk.textVerticalAlign;var hc=Iq(hk.font);var PI=hc.style+" "+hc.variant+" "+hc.weight+" "+hc.size+'px "'+hc.family+'"';hl=hl||HY(g4,PI,XY,he);var cc=this.transform;if(cc&&!g9){d6.copy(g2);d6.applyTransform(cc);g2=d6}if(!g9){var hf=hk.textPosition;var g6=hk.textDistance;if(hf instanceof Array){hh=g2.x+f2(hf[0],g2.width);hi=g2.y+f2(hf[1],g2.height);XY=XY||"left"}else{var Z=DS(hf,g2,g6);hh=Z.x;hi=Z.y;XY=XY||Z.textAlign;he=he||Z.textVerticalAlign}}else{hh=g2.x;hi=g2.y}hh=Ef(hh,hl.width,XY);hi=Eg(hi,hl.height,he);hi+=hl.height/2;var k=T7;var g3=this._textVmlEl;var hd;var g7;var g8;if(!g3){g3=k("line");hd=k("path");g7=k("textpath");g8=k("skew");g7.style["v-text-align"]="left";ee(g3);hd.textpathok=true;g7.on=true;g3.from="0 0";g3.to="1000 0.05";NM(g3,g8);NM(g3,hd);NM(g3,g7);this._textVmlEl=g3}else{g8=g3.firstChild;hd=g8.nextSibling;g7=hd.nextSibling}var ha=[hh,hi];var hj=g3.style;if(cc&&g9){Ip(ha,ha,cc);g8.on=true;g8.matrix=cc[0].toFixed(3)+eJ+cc[2].toFixed(3)+eJ+cc[1].toFixed(3)+eJ+cc[3].toFixed(3)+",0,0";g8.offset=(C(ha[0])||0)+","+(C(ha[1])||0);g8.origin="0 0";hj.left="0px";hj.top="0px"}else{g8.on=false;hj.left=C(hh)+"px";hj.top=C(hi)+"px"}g7.string=Su(g4);try{g7.style.font=PI}catch(g5){}IH(g3,"fill",{fill:hk.textFill,opacity:hk.opacity},this);IH(g3,"stroke",{stroke:hk.textStroke,opacity:hk.opacity,lineDash:hk.lineDash},this);g3.style.zIndex=fY(this.zlevel,this.z,this.z2);NM(Z2,g3)};var N5=function(Z){A6(Z,this._textVmlEl);this._textVmlEl=null};var BW=function(Z){NM(Z,this._textVmlEl)};var Uc=[Xj,U4,Hv,Mj,FW];for(var D0=0;D0<Uc.length;D0++){var Hm=Uc[D0].prototype;Hm.drawRectText=Sp;Hm.removeRectText=N5;Hm.appendRectText=BW}FW.prototype.brushVML=function(e){var Z=this.style;if(Z.text!=null){this.drawRectText(e,{x:Z.x||0,y:Z.y||0,width:0,height:0},this.getBoundingRect(),true)}else{this.removeRectText(e)}};FW.prototype.onRemove=function(Z){this.removeRectText(Z)};FW.prototype.onAdd=function(Z){this.appendRectText(Z)}}function X7(Z){return parseInt(Z,10)}function FO(i,Z){RZ();this.root=i;this.storage=Z;var k=document.createElement("div");var m=document.createElement("div");k.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";m.style.cssText="position:absolute;left:0;top:0;";i.appendChild(k);this._vmlRoot=m;this._vmlViewport=k;this.resize();var v=Z.delFromStorage;var e=Z.addToStorage;Z.delFromStorage=function(PI){v.call(Z,PI);if(PI){PI.onRemove&&PI.onRemove(m)}};Z.addToStorage=function(PI){PI.onAdd&&PI.onAdd(m);e.call(Z,PI)};this._firstPaint=true}FO.prototype={constructor:FO,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var Z=this.getViewportRoot();if(Z){return{offsetLeft:Z.offsetLeft||0,offsetTop:Z.offsetTop||0}}},refresh:function(){var Z=this.storage.getDisplayList(true,true);this._paintList(Z)},_paintList:function(k){var m=this._vmlRoot;for(var e=0;e<k.length;e++){var Z=k[e];if(Z.invisible||Z.ignore){if(!Z.__alreadyNotVisible){Z.onRemove(m)}Z.__alreadyNotVisible=true}else{if(Z.__alreadyNotVisible){Z.onAdd(m)}Z.__alreadyNotVisible=false;if(Z.__dirty){Z.beforeBrush&&Z.beforeBrush();(Z.brushVML||Z.brush).call(Z,m);Z.afterBrush&&Z.afterBrush()}}Z.__dirty=false}if(this._firstPaint){this._vmlViewport.appendChild(m);this._firstPaint=false}},resize:function(i,Z){var i=i==null?this._getWidth():i;var Z=Z==null?this._getHeight():Z;if(this._width!=i||this._height!=Z){this._width=i;this._height=Z;var e=this._vmlViewport.style;e.width=i+"px";e.height=Z+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){if(this._vmlViewport){this.root.removeChild(this._vmlViewport)}},_getWidth:function(){var Z=this.root;var e=Z.currentStyle;return((Z.clientWidth||X7(e.width))-X7(e.paddingLeft)-X7(e.paddingRight))|0},_getHeight:function(){var Z=this.root;var e=Z.currentStyle;return((Z.clientHeight||X7(e.height))-X7(e.paddingTop)-X7(e.paddingBottom))|0}};function PZ(Z){return function(){Rz('In IE8.0 VML mode painter not support method "'+Z+'"')}}Dy(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(Z){FO.prototype[Z]=PZ(Z)});CS("vml",FO);var Fe="http://www.w3.org/2000/svg";function QJ(Z){return document.createElementNS(Fe,Z)}var WC=OX.CMD;var Ig=Array.prototype.join;var gT="none";var K4=Math.round;var Q8=Math.sin;var C3=Math.cos;var R6=Math.PI;var fu=Math.PI*2;var gc=180/R6;var cO=0.0001;function XA(Z){return K4(Z*10000)/10000}function bw(Z){return Z<cO&&Z>-cO}function Bl(i,e){var Z=e?i.textFill:i.fill;return Z!=null&&Z!==gT}function E6(i,Z){var e=Z?i.textStroke:i.stroke;return e!=null&&e!==gT}function P0(Z,e){if(e){DZ(Z,"transform","matrix("+Ig.call(e,",")+")")}}function DZ(Z,e,i){if(!i||i.type!=="linear"&&i.type!=="radial"){Z.setAttribute(e,i)}}function B6(Z,e,i){Z.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}function Sm(i,k,m){if(Bl(k,m)){var e=m?k.textFill:k.fill;e=e==="transparent"?gT:e;if(i.getAttribute("clip-path")!=="none"&&e===gT){e="rgba(0, 0, 0, 0.002)"}DZ(i,"fill",e);DZ(i,"fill-opacity",k.opacity)}else{DZ(i,"fill",gT)}if(E6(k,m)){var PI=m?k.textStroke:k.stroke;PI=PI==="transparent"?gT:PI;DZ(i,"stroke",PI);var v=m?k.textStrokeWidth:k.lineWidth;var WH=!m&&k.strokeNoScale?k.host.getLineScale():1;DZ(i,"stroke-width",v/WH);DZ(i,"paint-order",m?"stroke":"fill");DZ(i,"stroke-opacity",k.opacity);var Z=k.lineDash;if(Z){DZ(i,"stroke-dasharray",k.lineDash.join(","));DZ(i,"stroke-dashoffset",K4(k.lineDashOffset||0))}else{DZ(i,"stroke-dasharray","")}k.lineCap&&DZ(i,"stroke-linecap",k.lineCap);k.lineJoin&&DZ(i,"stroke-linejoin",k.lineJoin);k.miterLimit&&DZ(i,"stroke-miterlimit",k.miterLimit)}else{DZ(i,"stroke",gT)}}function YF(g2){var Z=[];var g1=g2.data;var e=g2.len();for(var WH=0;WH<e;){var g4=g1[WH++];var g5="";var he=0;switch(g4){case WC.M:g5="M";he=2;break;case WC.L:g5="L";he=2;break;case WC.Q:g5="Q";he=4;break;case WC.C:g5="C";he=6;break;case WC.A:var v=g1[WH++];var g7=g1[WH++];var ha=g1[WH++];var XY=g1[WH++];var g6=g1[WH++];var g8=g1[WH++];var g3=g1[WH++];var k=g1[WH++];var hg=Math.abs(g8);var cc=bw(hg-fu)&&!bw(hg);var m=false;if(hg>=fu){m=true}else{if(bw(hg)){m=false}else{m=(g8>-R6&&g8<0||g8>R6)===!!k}}var Z2=XA(v+ha*C3(g6));var PI=XA(g7+XY*Q8(g6));if(cc){if(k){g8=fu-0.0001}else{g8=-fu+0.0001}m=true;if(WH===9){Z.push("M",Z2,PI)}}var hc=XA(v+ha*C3(g6+g8));var hd=XA(g7+XY*Q8(g6+g8));Z.push("A",XA(ha),XA(XY),K4(g3*gc),+m,+k,hc,hd);break;case WC.Z:g5="Z";break;case WC.R:var hc=XA(g1[WH++]);var hd=XA(g1[WH++]);var hf=XA(g1[WH++]);var hb=XA(g1[WH++]);Z.push("M",hc,hd,"L",hc+hf,hd,"L",hc+hf,hd+hb,"L",hc,hd+hb,"L",hc,hd);break}g5&&Z.push(g5);for(var g9=0;g9<he;g9++){Z.push(XA(g1[WH++]))}}return Z.join(" ")}var dX={};dX.brush=function(Z){var i=Z.style;var e=Z.__svgEl;if(!e){e=QJ("path");Z.__svgEl=e}if(!Z.path){Z.createPathProxy()}var m=Z.path;if(Z.__dirtyPath){m.beginPath();Z.buildPath(m,Z.shape);Z.__dirtyPath=false;var k=YF(m);if(k.indexOf("NaN")<0){DZ(e,"d",k)}}Sm(e,i);P0(e,Z.transform);if(i.text!=null){JZ(Z,Z.getBoundingRect())}};var T4={};T4.brush=function(k){var m=k.style;var XY=m.image;if(XY instanceof HTMLImageElement){var e=XY.src;XY=e}if(!XY){return}var PI=m.x||0;var WH=m.y||0;var Z=m.width;var v=m.height;var i=k.__svgEl;if(!i){i=QJ("image");k.__svgEl=i}if(XY!==k.__imageSrc){B6(i,"href",XY);k.__imageSrc=XY}DZ(i,"width",Z);DZ(i,"height",v);DZ(i,"x",PI);DZ(i,"y",WH);P0(i,k.transform);if(m.text!=null){JZ(k,k.getBoundingRect())}};var K5={};var d5=new FY();var JZ=function(WH,Z2,hh){var g2=WH.style;WH.__dirty&&Df(g2,true);var cc=g2.text;if(cc==null){return}else{cc+=""}var hg=WH.__textSvgEl;if(!hg){hg=QJ("text");WH.__textSvgEl=hg}var hc;var hd;var ha=g2.textPosition;var hf=g2.textDistance;var PI=g2.textAlign||"left";if(typeof g2.fontSize==="number"){g2.fontSize+="px"}var XY=g2.font||[g2.fontStyle||"",g2.fontWeight||"",g2.fontSize||"",g2.fontFamily||""].join(" ")||ex;var g9=SI(g2.textVerticalAlign);hh=HY(cc,XY,PI,g9);var g1=hh.lineHeight;if(ha instanceof Array){hc=Z2.x+ha[0];hd=Z2.y+ha[1]}else{var he=DS(ha,Z2,hf);hc=he.x;hd=he.y;g9=SI(he.textVerticalAlign);PI=he.textAlign}DZ(hg,"alignment-baseline",g9);if(XY){hg.style.font=XY}var m=g2.textPadding;DZ(hg,"x",hc);DZ(hg,"y",hd);Sm(hg,g2,true);if(WH instanceof FW||WH.style.transformText){P0(hg,WH.transform)}else{if(WH.transform){d5.copy(Z2);d5.applyTransform(WH.transform);Z2=d5}else{var g3=WH.transformCoordToGlobal(Z2.x,Z2.y);Z2.x=g3[0];Z2.y=g3[1]}var k=g2.textOrigin;if(k==="center"){hc=hh.width/2+hc;hd=hh.height/2+hd}else{if(k){hc=k[0]+hc;hd=k[1]+hd}}var g5=-g2.textRotation*180/Math.PI;DZ(hg,"transform","rotate("+g5+","+hc+","+hd+")")}var g8=cc.split("\n");var hb=g8.length;var g6=PI;if(g6==="left"){g6="start";m&&(hc+=m[3])}else{if(g6==="right"){g6="end";m&&(hc-=m[1])}else{if(g6==="center"){g6="middle";m&&(hc+=(m[3]-m[1])/2)}}}var g7=0;if(g9==="baseline"){g7=-hh.height+g1;m&&(g7-=m[2])}else{if(g9==="middle"){g7=(-hh.height+g1)/2;m&&(hd+=(m[0]-m[2])/2)}else{m&&(g7+=m[0])}}if(WH.__text!==cc||WH.__textFont!==XY){var g4=WH.__tspanList||[];WH.__tspanList=g4;for(var e=0;e<hb;e++){var v=g4[e];if(!v){v=g4[e]=QJ("tspan");hg.appendChild(v);DZ(v,"alignment-baseline",g9);DZ(v,"text-anchor",g6)}else{v.innerHTML=""}DZ(v,"x",hc);DZ(v,"y",hd+e*g1+g7);v.appendChild(document.createTextNode(g8[e]))}for(;e<g4.length;e++){hg.removeChild(g4[e])}g4.length=hb;WH.__text=cc;WH.__textFont=XY}else{if(WH.__tspanList.length){var Z=WH.__tspanList.length;for(var e=0;e<Z;++e){var v=WH.__tspanList[e];if(v){DZ(v,"x",hc);DZ(v,"y",hd+e*g1+g7)}}}}};function SI(Z){if(Z==="middle"){return"middle"}else{if(Z==="bottom"){return"baseline"}else{return"hanging"}}}K5.drawRectText=JZ;K5.brush=function(Z){var e=Z.style;if(e.text!=null){e.textPosition=[0,0];JZ(Z,{x:e.x||0,y:e.y||0,width:0,height:0},Z.getBoundingRect())}};function Kx(){}Kx.prototype={diff:function(XY,g4,e){if(!e){e=function(g5,i){return g5===i}}this.equals=e;var g3=this;XY=XY.slice();g4=g4.slice();var v=g4.length;var g2=XY.length;var m=1;var WH=v+g2;var cc=[{newPos:-1,components:[]}];var Z=this.extractCommon(cc[0],g4,XY,0);if(cc[0].newPos+1>=v&&Z+1>=g2){var Z2=[];for(var k=0;k<g4.length;k++){Z2.push(k)}return[{indices:Z2,count:g4.length}]}function g1(){for(var g6=-1*m;g6<=m;g6+=2){var i;var g7=cc[g6-1];var g8=cc[g6+1];var ha=(g8?g8.newPos:0)-g6;if(g7){cc[g6-1]=undefined}var g9=g7&&g7.newPos+1<v;var g5=g8&&0<=ha&&ha<g2;if(!g9&&!g5){cc[g6]=undefined;continue}if(!g9||(g5&&g7.newPos<g8.newPos)){i=QW(g8);g3.pushComponent(i.components,undefined,true)}else{i=g7;i.newPos++;g3.pushComponent(i.components,true,undefined)}ha=g3.extractCommon(i,g4,XY,g6);if(i.newPos+1>=v&&ha+1>=g2){return Oj(g3,i.components,g4,XY)}else{cc[g6]=i}}m++}while(m<=WH){var PI=g1();if(PI){return PI}}},pushComponent:function(e,k,Z){var i=e[e.length-1];if(i&&i.added===k&&i.removed===Z){e[e.length-1]={count:i.count+1,added:k,removed:Z}}else{e.push({count:1,added:k,removed:Z})}},extractCommon:function(e,XY,v,WH){var m=XY.length;var PI=v.length;var k=e.newPos;var Z=k-WH;var i=0;while(k+1<m&&Z+1<PI&&this.equals(XY[k+1],v[Z+1])){k++;Z++;i++}if(i){e.components.push({count:i})}e.newPos=k;return Z},tokenize:function(Z){return Z.slice()},join:function(Z){return Z.slice()}};function Oj(k,v,cc,m){var Z2=0;var g1=v.length;var Z=0;var e=0;for(;Z2<g1;Z2++){var PI=v[Z2];if(!PI.removed){var XY=[];for(var WH=Z;WH<Z+PI.count;WH++){XY.push(WH)}PI.indices=XY;Z+=PI.count;if(!PI.added){e+=PI.count}}else{var XY=[];for(var WH=e;WH<e+PI.count;WH++){XY.push(WH)}PI.indices=XY;e+=PI.count}}return v}function QW(Z){return{newPos:Z.newPos,components:Z.components.slice(0)}}var fg=new Kx();var ac=function(e,i,Z){return fg.diff(e,i,Z)};var Ol="0";var Xy="1";function Ky(i,Z,m,e,k){this._zrId=i;this._svgRoot=Z;this._tagNames=typeof m==="string"?[m]:m;this._markLabel=e;this._domName=k||"_dom";this.nextId=0}Ky.prototype.createElement=QJ;Ky.prototype.getDefs=function(i){var Z=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(i){e=Z.insertBefore(this.createElement("defs"),Z.firstChild);if(!e.contains){e.contains=function(k){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===k){return true}}return false}}return e}else{return null}}else{return e[0]}};Ky.prototype.update=function(i,k){if(!i){return}var e=this.getDefs(false);if(i[this._domName]&&e.contains(i[this._domName])){if(typeof k==="function"){k(i)}}else{var Z=this.add(i);if(Z){i[this._domName]=Z}}};Ky.prototype.addDom=function(Z){var e=this.getDefs(true);e.appendChild(Z)};Ky.prototype.removeDom=function(e){var Z=this.getDefs(false);if(Z&&e[this._domName]){Z.removeChild(e[this._domName]);e[this._domName]=null}};Ky.prototype.getDoms=function(){var e=this.getDefs(false);if(!e){return[]}var Z=[];Dy(this._tagNames,function(i){var k=e.getElementsByTagName(i);Z=Z.concat([].slice.call(k))});return Z};Ky.prototype.markAllUnused=function(){var Z=this.getDoms();var e=this;Dy(Z,function(i){i[e._markLabel]=Ol})};Ky.prototype.markUsed=function(Z){if(Z){Z[this._markLabel]=Xy}};Ky.prototype.removeUnused=function(){var i=this.getDefs(false);if(!i){return}var Z=this.getDoms();var e=this;Dy(Z,function(k){if(k[e._markLabel]!==Xy){i.removeChild(k)}})};Ky.prototype.getSvgProxy=function(Z){if(Z instanceof Mj){return dX}else{if(Z instanceof Hv){return T4}else{if(Z instanceof FW){return K5}else{return dX}}}};Ky.prototype.getTextSvgElement=function(Z){return Z.__textSvgEl};Ky.prototype.getSvgElement=function(Z){return Z.__svgEl};function al(e,Z){Ky.call(this,e,Z,["linearGradient","radialGradient"],"__gradient_in_use__")}K8(al,Ky);al.prototype.addWithoutUpdate=function(Z,e){if(e&&e.style){var i=this;Dy(["fill","stroke"],function(PI){if(e.style[PI]&&(e.style[PI].type==="linear"||e.style[PI].type==="radial")){var v=e.style[PI];var m=i.getDefs(true);var k;if(v._dom){k=v._dom;if(!m.contains(v._dom)){i.addDom(k)}}else{k=i.add(v)}i.markUsed(e);var WH=k.getAttribute("id");Z.setAttribute(PI,"url(#"+WH+")")}})}};al.prototype.add=function(e){var Z;if(e.type==="linear"){Z=this.createElement("linearGradient")}else{if(e.type==="radial"){Z=this.createElement("radialGradient")}else{Rz("Illegal gradient type.");return null}}e.id=e.id||this.nextId++;Z.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id);this.updateDom(e,Z);this.addDom(Z);return Z};al.prototype.update=function(e){var Z=this;Ky.prototype.update.call(this,e,function(){var i=e.type;var k=e._dom.tagName;if(i==="linear"&&k==="linearGradient"||i==="radial"&&k==="radialGradient"){Z.updateDom(e,e._dom)}else{Z.removeDom(e);Z.add(e)}})};al.prototype.updateDom=function(m,Z){if(m.type==="linear"){Z.setAttribute("x1",m.x);Z.setAttribute("y1",m.y);Z.setAttribute("x2",m.x2);Z.setAttribute("y2",m.y2)}else{if(m.type==="radial"){Z.setAttribute("cx",m.x);Z.setAttribute("cy",m.y);Z.setAttribute("r",m.r)}else{Rz("Illegal gradient type.");return}}if(m.global){Z.setAttribute("gradientUnits","userSpaceOnUse")}else{Z.setAttribute("gradientUnits","objectBoundingBox")}Z.innerHTML="";var PI=m.colorStops;for(var e=0,v=PI.length;e<v;++e){var k=this.createElement("stop");k.setAttribute("offset",PI[e].offset*100+"%");k.setAttribute("stop-color",PI[e].color);Z.appendChild(k)}m._dom=Z};al.prototype.markUsed=function(Z){if(Z.style){var e=Z.style.fill;if(e&&e._dom){Ky.prototype.markUsed.call(this,e._dom)}e=Z.style.stroke;if(e&&e._dom){Ky.prototype.markUsed.call(this,e._dom)}}};function z(e,Z){Ky.call(this,e,Z,"clipPath","__clippath_in_use__")}K8(z,Ky);z.prototype.update=function(e){var Z=this.getSvgElement(e);if(Z){this.updateDom(Z,e.__clipPaths,false)}var i=this.getTextSvgElement(e);if(i){this.updateDom(i,e.__clipPaths,true)}this.markUsed(e)};z.prototype.updateDom=function(v,cc,k){if(cc&&cc.length>0){var XY=this.getDefs(true);var WH=cc[0];var e;var PI;var i=k?"_textDom":"_dom";if(WH[i]){PI=WH[i].getAttribute("id");e=WH[i];if(!XY.contains(e)){XY.appendChild(e)}}else{PI="zr"+this._zrId+"-clip-"+this.nextId;++this.nextId;e=this.createElement("clipPath");e.setAttribute("id",PI);XY.appendChild(e);WH[i]=e}var Z=this.getSvgProxy(WH);if(WH.transform&&WH.parent.invTransform&&!k){var m=Array.prototype.slice.call(WH.transform);PU(WH.transform,WH.parent.invTransform,WH.transform);Z.brush(WH);WH.transform=m}else{Z.brush(WH)}var Z2=this.getSvgElement(WH);e.innerHTML="";e.appendChild(Z2.cloneNode());v.setAttribute("clip-path","url(#"+PI+")");if(cc.length>1){this.updateDom(e,cc.slice(1),k)}}else{if(v){v.setAttribute("clip-path","none")}}};z.prototype.markUsed=function(e){var Z=this;if(e.__clipPaths&&e.__clipPaths.length>0){Dy(e.__clipPaths,function(i){if(i._dom){Ky.prototype.markUsed.call(Z,i._dom)}if(i._textDom){Ky.prototype.markUsed.call(Z,i._textDom)}})}};function Rb(e,Z){Ky.call(this,e,Z,["filter"],"__filter_in_use__","_shadowDom")}K8(Rb,Ky);Rb.prototype.addWithoutUpdate=function(i,k){if(k&&X4(k.style)){var m=k.style;var Z;if(m._shadowDom){Z=m._shadowDom;var e=this.getDefs(true);if(!e.contains(m._shadowDom)){this.addDom(Z)}}else{Z=this.add(k)}this.markUsed(k);var v=Z.getAttribute("id");i.style.filter="url(#"+v+")"}};Rb.prototype.add=function(e){var Z=this.createElement("filter");var i=e.style;i._shadowDomId=i._shadowDomId||this.nextId++;Z.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId);this.updateDom(e,Z);this.addDom(Z);return Z};Rb.prototype.update=function(Z,e){var i=e.style;if(X4(i)){var k=this;Ky.prototype.update.call(this,e,function(m){k.updateDom(e,m._shadowDom)})}else{this.remove(Z,i)}};Rb.prototype.remove=function(Z,e){if(e._shadowDomId!=null){this.removeDom(e);Z.style.filter=""}};Rb.prototype.updateDom=function(cc,i){var Z=i.getElementsByTagName("feDropShadow");if(Z.length===0){Z=this.createElement("feDropShadow")}else{Z=Z[0]}var v=cc.style;var WH=cc.scale?(cc.scale[0]||1):1;var Z2=cc.scale?(cc.scale[1]||1):1;var e,PI,m,k;if(v.shadowBlur||v.shadowOffsetX||v.shadowOffsetY){e=v.shadowOffsetX||0;PI=v.shadowOffsetY||0;m=v.shadowBlur;k=v.shadowColor}else{if(v.textShadowBlur){e=v.textShadowOffsetX||0;PI=v.textShadowOffsetY||0;m=v.textShadowBlur;k=v.textShadowColor}else{this.removeDom(i,v);return}}Z.setAttribute("dx",e/WH);Z.setAttribute("dy",PI/Z2);Z.setAttribute("flood-color",k);var g1=m/2/WH;var XY=m/2/Z2;var g2=g1+" "+XY;Z.setAttribute("stdDeviation",g2);i.setAttribute("x","-100%");i.setAttribute("y","-100%");i.setAttribute("width",Math.ceil(m/2*200)+"%");i.setAttribute("height",Math.ceil(m/2*200)+"%");i.appendChild(Z);v._shadowDom=i};Rb.prototype.markUsed=function(Z){var e=Z.style;if(e&&e._shadowDom){Ky.prototype.markUsed.call(this,e._shadowDom)}};function X4(Z){return Z&&(Z.shadowBlur||Z.shadowOffsetX||Z.shadowOffsetY||Z.textShadowBlur||Z.textShadowOffsetX||Z.textShadowOffsetY)}function AB(Z){return parseInt(Z,10)}function LV(Z){if(Z instanceof Mj){return dX}else{if(Z instanceof Hv){return T4}else{if(Z instanceof FW){return K5}else{return dX}}}}function QG(e,Z){return Z&&e&&Z.parentNode!==e}function Pz(i,Z,e){if(QG(i,Z)&&e){var k=e.nextSibling;k?i.insertBefore(Z,k):i.appendChild(Z)}}function WQ(e,Z){if(QG(e,Z)){var i=e.firstChild;i?e.insertBefore(Z,i):e.appendChild(Z)}}function Lz(e,Z){if(Z&&e&&Z.parentNode===e){e.removeChild(Z)}}function GM(Z){return Z.__textSvgEl}function RN(Z){return Z.__svgEl}var VX=function(e,Z,i,k){this.root=e;this.storage=Z;this._opts=i=XN({},i||{});var v=QJ("svg");v.setAttribute("xmlns","http://www.w3.org/2000/svg");v.setAttribute("version","1.1");v.setAttribute("baseProfile","full");v.style.cssText="user-select:none;position:absolute;left:0;top:0;";this.gradientManager=new al(k,v);this.clipPathManager=new z(k,v);this.shadowManager=new Rb(k,v);var m=document.createElement("div");m.style.cssText="overflow:hidden;position:relative";this._svgRoot=v;this._viewport=m;e.appendChild(m);m.appendChild(v);this.resize(i.width,i.height);this._visibleList=[]};VX.prototype={constructor:VX,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var Z=this.getViewportRoot();if(Z){return{offsetLeft:Z.offsetLeft||0,offsetTop:Z.offsetTop||0}}},refresh:function(){var Z=this.storage.getDisplayList(true);this._paintList(Z)},setBackgroundColor:function(Z){this._viewport.style.background=Z},_paintList:function(g5){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();var g2=this._svgRoot;var g4=this._visibleList;var e=g5.length;var m=[];var XY;for(XY=0;XY<e;XY++){var g3=g5[XY];var Z=LV(g3);var Z2=RN(g3)||GM(g3);if(!g3.invisible){if(g3.__dirty){Z&&Z.brush(g3);this.clipPathManager.update(g3);if(g3.style){this.gradientManager.update(g3.style.fill);this.gradientManager.update(g3.style.stroke);this.shadowManager.update(Z2,g3)}g3.__dirty=false}m.push(g3)}}var PI=ac(g4,m);var v;for(XY=0;XY<PI.length;XY++){var cc=PI[XY];if(cc.removed){for(var WH=0;WH<cc.count;WH++){var g3=g4[cc.indices[WH]];var Z2=RN(g3);var g1=GM(g3);Lz(g2,Z2);Lz(g2,g1)}}}for(XY=0;XY<PI.length;XY++){var cc=PI[XY];if(cc.added){for(var WH=0;WH<cc.count;WH++){var g3=m[cc.indices[WH]];var Z2=RN(g3);var g1=GM(g3);v?Pz(g2,Z2,v):WQ(g2,Z2);if(Z2){Pz(g2,g1,Z2)}else{if(v){Pz(g2,g1,v)}else{WQ(g2,g1)}}Pz(g2,g1,Z2);v=g1||Z2||v;this.gradientManager.addWithoutUpdate(Z2,g3);this.shadowManager.addWithoutUpdate(v,g3);this.clipPathManager.markUsed(g3)}}else{if(!cc.removed){for(var WH=0;WH<cc.count;WH++){var g3=m[cc.indices[WH]];v=Z2=GM(g3)||RN(g3)||v;this.gradientManager.markUsed(g3);this.gradientManager.addWithoutUpdate(Z2,g3);this.shadowManager.markUsed(g3);this.shadowManager.addWithoutUpdate(Z2,g3);this.clipPathManager.markUsed(g3)}}}}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=m},_getDefs:function(i){var Z=this._svgRoot;var e=this._svgRoot.getElementsByTagName("defs");if(e.length===0){if(i){var e=Z.insertBefore(QJ("defs"),Z.firstChild);if(!e.contains){e.contains=function(k){var v=e.children;if(!v){return false}for(var m=v.length-1;m>=0;--m){if(v[m]===k){return true}}return false}}return e}else{return null}}else{return e[0]}},resize:function(v,e){var k=this._viewport;k.style.display="none";var i=this._opts;v!=null&&(i.width=v);e!=null&&(i.height=e);v=this._getSize(0);e=this._getSize(1);k.style.display="";if(this._width!==v||this._height!==e){this._width=v;this._height=e;var m=k.style;m.width=v+"px";m.height=e+"px";var Z=this._svgRoot;Z.setAttribute("width",v);Z.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(Z){var k=this._opts;var WH=["width","height"][Z];var e=["clientWidth","clientHeight"][Z];var m=["paddingLeft","paddingTop"][Z];var v=["paddingRight","paddingBottom"][Z];if(k[WH]!=null&&k[WH]!=="auto"){return parseFloat(k[WH])}var i=this.root;var PI=document.defaultView.getComputedStyle(i);return((i[e]||AB(PI[WH])||AB(i.style[WH]))-(AB(PI[m])||0)-(AB(PI[v])||0))|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){if(this._viewport){this.root.removeChild(this._viewport)}},pathToDataUrl:function(){this.refresh();var Z=this._svgRoot.outerHTML;return"data:image/svg+xml;charset=UTF-8,"+Z}};function GW(Z){return function(){Rz('In SVG mode painter not support method "'+Z+'"')}}Dy(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(Z){VX.prototype[Z]=GW(Z)});CS("svg",VX);a7.version=be;a7.dependencies=b9;a7.PRIORITY=eK;a7.init=G1;a7.connect=Fz;a7.disConnect=Lg;a7.disconnect=As;a7.dispose=Wd;a7.getInstanceByDom=BT;a7.getInstanceById=UI;a7.registerTheme=Ua;a7.registerPreprocessor=Jo;a7.registerProcessor=dU;a7.registerPostUpdate=Q0;a7.registerAction=S9;a7.registerCoordinateSystem=R1;a7.getCoordinateSystemDimensions=J4;a7.registerLayout=gH;a7.registerVisual=Ao;a7.registerLoading=dQ;a7.extendComponentModel=Hl;a7.extendComponentView=ec;a7.extendSeriesModel=Sa;a7.extendChartView=YB;a7.setCanvasCreator=Vz;a7.registerMap=MB;a7.getMap=Ai;a7.dataTool=Vr;a7.zrender=ez;a7.graphic=S8;a7.number=HQ;a7.format=SW;a7.throttle=bH;a7.helper=VZ;a7.matrix=ba;a7.vector=FV;a7.color=E7;a7.parseGeoJSON=aC;a7.parseGeoJson=F2;a7.util=Sl;a7.List=Mh;a7.Model=fx;a7.Axis=Vs;a7.env=QH})));